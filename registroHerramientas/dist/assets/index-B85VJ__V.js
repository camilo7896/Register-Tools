(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Wd={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function TS(){if(cv)return Cl;cv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Cl.Fragment=e,Cl.jsx=n,Cl.jsxs=n,Cl}var hv;function bS(){return hv||(hv=1,Wd.exports=TS()),Wd.exports}var C=bS(),Zd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function AS(){if(fv)return Re;fv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,Q={};function q(N,te,oe){this.props=N,this.context=te,this.refs=Q,this.updater=oe||P}q.prototype.isReactComponent={},q.prototype.setState=function(N,te){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,te,"setState")},q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function ie(N,te,oe){this.props=N,this.context=te,this.refs=Q,this.updater=oe||P}var ne=ie.prototype=new Y;ne.constructor=ie,D(ne,q.prototype),ne.isPureReactComponent=!0;var me=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function k(N,te,oe,re,ge,xe){return oe=xe.ref,{$$typeof:i,type:N,key:te,ref:oe!==void 0?oe:null,props:xe}}function w(N,te){return k(N.type,te,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function O(N){var te={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return te[oe]})}var V=/\/+/g;function U(N,te){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):te.toString(36)}function x(){}function Vt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(x,x):(N.status="pending",N.then(function(te){N.status==="pending"&&(N.status="fulfilled",N.value=te)},function(te){N.status==="pending"&&(N.status="rejected",N.reason=te)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function at(N,te,oe,re,ge){var xe=typeof N;(xe==="undefined"||xe==="boolean")&&(N=null);var be=!1;if(N===null)be=!0;else switch(xe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(N.$$typeof){case i:case e:be=!0;break;case E:return be=N._init,at(be(N._payload),te,oe,re,ge)}}if(be)return ge=ge(N),be=re===""?"."+U(N,0):re,me(ge)?(oe="",be!=null&&(oe=be.replace(V,"$&/")+"/"),at(ge,te,oe,"",function(Fn){return Fn})):ge!=null&&(R(ge)&&(ge=w(ge,oe+(ge.key==null||N&&N.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+be)),te.push(ge)),1;be=0;var Ct=re===""?".":re+":";if(me(N))for(var Ze=0;Ze<N.length;Ze++)re=N[Ze],xe=Ct+U(re,Ze),be+=at(re,te,oe,xe,ge);else if(Ze=S(N),typeof Ze=="function")for(N=Ze.call(N),Ze=0;!(re=N.next()).done;)re=re.value,xe=Ct+U(re,Ze++),be+=at(re,te,oe,xe,ge);else if(xe==="object"){if(typeof N.then=="function")return at(Vt(N),te,oe,re,ge);throw te=String(N),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return be}function $(N,te,oe){if(N==null)return N;var re=[],ge=0;return at(N,re,"","",function(xe){return te.call(oe,xe,ge++)}),re}function ae(N){if(N._status===-1){var te=N._result;te=te(),te.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=te)}if(N._status===1)return N._result.default;throw N._result}var pe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ze(){}return Re.Children={map:$,forEach:function(N,te,oe){$(N,function(){te.apply(this,arguments)},oe)},count:function(N){var te=0;return $(N,function(){te++}),te},toArray:function(N){return $(N,function(te){return te})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Re.Component=q,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ie,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Re.__COMPILER_RUNTIME={__proto__:null,c:function(N){return he.H.useMemoCache(N)}},Re.cache=function(N){return function(){return N.apply(null,arguments)}},Re.cloneElement=function(N,te,oe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var re=D({},N.props),ge=N.key,xe=void 0;if(te!=null)for(be in te.ref!==void 0&&(xe=void 0),te.key!==void 0&&(ge=""+te.key),te)!we.call(te,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&te.ref===void 0||(re[be]=te[be]);var be=arguments.length-2;if(be===1)re.children=oe;else if(1<be){for(var Ct=Array(be),Ze=0;Ze<be;Ze++)Ct[Ze]=arguments[Ze+2];re.children=Ct}return k(N.type,ge,void 0,void 0,xe,re)},Re.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Re.createElement=function(N,te,oe){var re,ge={},xe=null;if(te!=null)for(re in te.key!==void 0&&(xe=""+te.key),te)we.call(te,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=te[re]);var be=arguments.length-2;if(be===1)ge.children=oe;else if(1<be){for(var Ct=Array(be),Ze=0;Ze<be;Ze++)Ct[Ze]=arguments[Ze+2];ge.children=Ct}if(N&&N.defaultProps)for(re in be=N.defaultProps,be)ge[re]===void 0&&(ge[re]=be[re]);return k(N,xe,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:m,render:N}},Re.isValidElement=R,Re.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ae}},Re.memo=function(N,te){return{$$typeof:y,type:N,compare:te===void 0?null:te}},Re.startTransition=function(N){var te=he.T,oe={};he.T=oe;try{var re=N(),ge=he.S;ge!==null&&ge(oe,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ze,pe)}catch(xe){pe(xe)}finally{he.T=te}},Re.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Re.use=function(N){return he.H.use(N)},Re.useActionState=function(N,te,oe){return he.H.useActionState(N,te,oe)},Re.useCallback=function(N,te){return he.H.useCallback(N,te)},Re.useContext=function(N){return he.H.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N,te){return he.H.useDeferredValue(N,te)},Re.useEffect=function(N,te,oe){var re=he.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(N,te)},Re.useId=function(){return he.H.useId()},Re.useImperativeHandle=function(N,te,oe){return he.H.useImperativeHandle(N,te,oe)},Re.useInsertionEffect=function(N,te){return he.H.useInsertionEffect(N,te)},Re.useLayoutEffect=function(N,te){return he.H.useLayoutEffect(N,te)},Re.useMemo=function(N,te){return he.H.useMemo(N,te)},Re.useOptimistic=function(N,te){return he.H.useOptimistic(N,te)},Re.useReducer=function(N,te,oe){return he.H.useReducer(N,te,oe)},Re.useRef=function(N){return he.H.useRef(N)},Re.useState=function(N){return he.H.useState(N)},Re.useSyncExternalStore=function(N,te,oe){return he.H.useSyncExternalStore(N,te,oe)},Re.useTransition=function(){return he.H.useTransition()},Re.version="19.1.0",Re}var dv;function Qm(){return dv||(dv=1,Zd.exports=AS()),Zd.exports}var G=Qm(),Jd={exports:{}},xl={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function SS(){return mv||(mv=1,function(i){function e($,ae){var pe=$.length;$.push(ae);e:for(;0<pe;){var ze=pe-1>>>1,N=$[ze];if(0<o(N,ae))$[ze]=ae,$[pe]=N,pe=ze;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],pe=$.pop();if(pe!==ae){$[0]=pe;e:for(var ze=0,N=$.length,te=N>>>1;ze<te;){var oe=2*(ze+1)-1,re=$[oe],ge=oe+1,xe=$[ge];if(0>o(re,pe))ge<N&&0>o(xe,re)?($[ze]=xe,$[ge]=pe,ze=ge):($[ze]=re,$[oe]=pe,ze=oe);else if(ge<N&&0>o(xe,pe))$[ze]=xe,$[ge]=pe,ze=ge;else break e}}return ae}function o($,ae){var pe=$.sortIndex-ae.sortIndex;return pe!==0?pe:$.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,A=null,S=3,P=!1,D=!1,Q=!1,q=!1,Y=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function me($){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=$)s(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(y)}}function he($){if(Q=!1,me($),!D)if(n(p)!==null)D=!0,we||(we=!0,U());else{var ae=n(y);ae!==null&&at(he,ae.startTime-$)}}var we=!1,k=-1,w=5,R=-1;function O(){return q?!0:!(i.unstable_now()-R<w)}function V(){if(q=!1,we){var $=i.unstable_now();R=$;var ae=!0;try{e:{D=!1,Q&&(Q=!1,ie(k),k=-1),P=!0;var pe=S;try{t:{for(me($),A=n(p);A!==null&&!(A.expirationTime>$&&O());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,S=A.priorityLevel;var N=ze(A.expirationTime<=$);if($=i.unstable_now(),typeof N=="function"){A.callback=N,me($),ae=!0;break t}A===n(p)&&s(p),me($)}else s(p);A=n(p)}if(A!==null)ae=!0;else{var te=n(y);te!==null&&at(he,te.startTime-$),ae=!1}}break e}finally{A=null,S=pe,P=!1}ae=void 0}}finally{ae?U():we=!1}}}var U;if(typeof ne=="function")U=function(){ne(V)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Vt=x.port2;x.port1.onmessage=V,U=function(){Vt.postMessage(null)}}else U=function(){Y(V,0)};function at($,ae){k=Y(function(){$(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function($){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var pe=S;S=ae;try{return $()}finally{S=pe}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=S;S=$;try{return ae()}finally{S=pe}},i.unstable_scheduleCallback=function($,ae,pe){var ze=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,$){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=pe+N,$={id:E++,callback:ae,priorityLevel:$,startTime:pe,expirationTime:N,sortIndex:-1},pe>ze?($.sortIndex=pe,e(y,$),n(p)===null&&$===n(y)&&(Q?(ie(k),k=-1):Q=!0,at(he,pe-ze))):($.sortIndex=N,e(p,$),D||P||(D=!0,we||(we=!0,U()))),$},i.unstable_shouldYield=O,i.unstable_wrapCallback=function($){var ae=S;return function(){var pe=S;S=ae;try{return $.apply(this,arguments)}finally{S=pe}}}}(tm)),tm}var pv;function wS(){return pv||(pv=1,em.exports=SS()),em.exports}var nm={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function RS(){if(gv)return Kt;gv=1;var i=Qm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Kt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Kt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:S,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Kt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Kt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Kt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,y){return p(y)},Kt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.1.0",Kt}var yv;function IS(){if(yv)return nm.exports;yv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),nm.exports=RS(),nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function CS(){if(_v)return xl;_v=1;var i=wS(),e=Qm(),n=IS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case q:return"Profiler";case Q:return"StrictMode";case he:return"Suspense";case we:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case ie:return(t._context.displayName||"Context")+".Consumer";case me:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return r=t.displayName||null,r!==null?r:Vt(t.type)||"Memo";case w:r=t._payload,t=t._init;try{return Vt(t(r))}catch{}}return null}var at=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],N=-1;function te(t){return{current:t}}function oe(t){0>N||(t.current=ze[N],ze[N]=null,N--)}function re(t,r){N++,ze[N]=t.current,t.current=r}var ge=te(null),xe=te(null),be=te(null),Ct=te(null);function Ze(t,r){switch(re(be,r),re(xe,t),re(ge,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?U_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=U_(r),t=j_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(ge),re(ge,t)}function Fn(){oe(ge),oe(xe),oe(be)}function ni(t){t.memoizedState!==null&&re(Ct,t);var r=ge.current,a=j_(r,t.type);r!==a&&(re(xe,t),re(ge,a))}function gr(t){xe.current===t&&(oe(ge),oe(xe)),Ct.current===t&&(oe(Ct),Al._currentValue=pe)}var Wi=Object.prototype.hasOwnProperty,Zi=i.unstable_scheduleCallback,Ji=i.unstable_cancelCallback,Eo=i.unstable_shouldYield,mu=i.unstable_requestPaint,_n=i.unstable_now,Xh=i.unstable_getCurrentPriorityLevel,To=i.unstable_ImmediatePriority,Ys=i.unstable_UserBlockingPriority,es=i.unstable_NormalPriority,Wh=i.unstable_LowPriority,$s=i.unstable_IdlePriority,bo=i.log,pu=i.unstable_setDisableYieldValue,ot=null,Fe=null;function ln(t){if(typeof bo=="function"&&pu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ot,t)}catch{}}var Ft=Math.clz32?Math.clz32:ts,gu=Math.log,Zh=Math.LN2;function ts(t){return t>>>=0,t===0?32:31-(gu(t)/Zh|0)|0}var ns=256,rs=4194304;function Mn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xs(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Mn(l):(v&=T,v!==0?h=Mn(v):a||(a=T&~t,a!==0&&(h=Mn(a))))):(T=l&~d,T!==0?h=Mn(T):v!==0?h=Mn(v):a||(a=l&~t,a!==0&&(h=Mn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function is(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ao(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),t}function wo(){var t=rs;return rs<<=1,(rs&62914560)===0&&(rs=4194304),t}function yr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function _r(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ro(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Ft(a),J=1<<X;T[X]=0,I[X]=-1;var H=B[X];if(H!==null)for(B[X]=null,X=0;X<H.length;X++){var F=H[X];F!==null&&(F.lane&=-536870913)}a&=~J}l!==0&&Gn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Gn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Ft(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Io(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Ft(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function ri(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ws(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ii(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:iv(t.type))}function yu(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var tt=Math.random().toString(36).slice(2),Et="__reactFiber$"+tt,mt="__reactProps$"+tt,vn="__reactContainer$"+tt,Co="__reactEvents$"+tt,Jh="__reactListeners$"+tt,si="__reactHandles$"+tt,_u="__reactResources$"+tt,ss="__reactMarker$"+tt;function ai(t){delete t[Et],delete t[mt],delete t[Co],delete t[Jh],delete t[si]}function vr(t){var r=t[Et];if(r)return r;for(var a=t.parentNode;a;){if(r=a[vn]||a[Et]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=H_(t);t!==null;){if(a=t[Et])return a;t=H_(t)}return r}t=a,a=t.parentNode}return null}function Kn(t){if(t=t[Et]||t[vn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Qn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Wt(t){var r=t[_u];return r||(r=t[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ct(t){t[ss]=!0}var xo=new Set,Zs={};function kn(t,r){Er(t,r),Er(t+"Capture",r)}function Er(t,r){for(Zs[t]=r,t=0;t<r.length;t++)xo.add(r[t])}var vu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eu={},as={};function Tu(t){return Wi.call(as,t)?!0:Wi.call(Eu,t)?!1:vu.test(t)?as[t]=!0:(Eu[t]=!0,!1)}function oi(t,r,a){if(Tu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Yn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Pt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var os,bu;function Tr(t){if(os===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);os=r&&r[1]||"",bu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+os+t+bu}var Js=!1;function ea(t,r){if(!t||Js)return"";Js=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var H=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){H=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){H=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Js=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Tr(a):""}function Do(t){switch(t.tag){case 26:case 27:case 5:return Tr(t.type);case 16:return Tr("Lazy");case 13:return Tr("Suspense");case 19:return Tr("SuspenseList");case 0:case 15:return ea(t.type,!1);case 11:return ea(t.type.render,!1);case 1:return ea(t.type,!0);case 31:return Tr("Activity");default:return""}}function ta(t){try{var r="";do r+=Do(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function No(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ef(t){var r=No(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function na(t){t._valueTracker||(t._valueTracker=ef(t))}function Oo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=No(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ls(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var tf=/[\n"\\]/g;function pt(t){return t.replace(tf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function un(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Zt(r)):t.value!==""+Zt(r)&&(t.value=""+Zt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?li(t,v,Zt(r)):a!=null?li(t,v,Zt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Zt(T):t.removeAttribute("name")}function us(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Zt(a):"",r=r!=null?""+Zt(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function li(t,r,a){r==="number"&&ls(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function br(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Qe(t,r,a){if(r!=null&&(r=""+Zt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Zt(a):""}function cs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Zt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function En(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Au(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||hs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Mo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Au(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Au(t,d,r[d])}function ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(t){return rf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ar=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,wr=null;function Vo(t){var r=Kn(t);if(r&&(t=r.stateNode)){var a=t[mt]||null;e:switch(t=r.stateNode,r.type){case"input":if(un(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(s(90));un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Oo(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&br(t,!!a.multiple,r,!1)}}}var $n=!1;function Su(t,r,a){if($n)return t(r,a);$n=!0;try{var l=t(r);return l}finally{if($n=!1,(Sr!==null||wr!==null)&&(yc(),Sr&&(r=Sr,t=wr,wr=Sr=null,Vo(r),t)))for(r=0;r<t.length;r++)Vo(t[r])}}function fs(t,r){var a=t.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(Vn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){bn=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{bn=!1}var Xn=null,ui=null,Rr=null;function Po(){if(Rr)return Rr;var t,r=ui,a=r.length,l,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Rr=h.slice(t,1<l?1-l:void 0)}function Wn(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function Lo(){return!1}function xt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zn:Lo,this.isPropagationStopped=Lo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=xt(qe),ms=E({},qe,{view:0,detail:0}),wu=xt(ms),sa,aa,Jn,ps=E({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(sa=t.screenX-Jn.screenX,aa=t.screenY-Jn.screenY):aa=sa=0,Jn=t),sa)},movementY:function(t){return"movementY"in t?t.movementY:aa}}),An=xt(ps),Ru=E({},ps,{dataTransfer:0}),sf=xt(Ru),gs=E({},ms,{relatedTarget:0}),oa=xt(gs),Uo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),la=xt(Uo),Iu=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ua=xt(Iu),af=E({},qe,{data:0}),jo=xt(af),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=xu[t])?!!r[t]:!1}function _s(){return zo}var Du=E({},ms,{key:function(t){if(t.key){var r=ys[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Wn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(t){return t.type==="keypress"?Wn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ca=xt(Du),Nu=E({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=xt(Nu),Ir=E({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),Ou=xt(Ir),Mu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=xt(Mu),Vu=E({},ps,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ha=xt(Vu),Jt=E({},qe,{newState:0,oldState:0}),Pu=xt(Jt),Lu=[9,13,27,32],er=Vn&&"CompositionEvent"in window,c=null;Vn&&"documentMode"in document&&(c=document.documentMode);var g=Vn&&"TextEvent"in window&&!c,_=Vn&&(!er||c&&8<c&&11>=c),b=" ",j=!1;function K(t,r){switch(t){case"keyup":return Lu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function Tt(t,r){switch(t){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(j=!0,b);case"textInput":return t=r.data,t===b&&j?null:t;default:return null}}function Pe(t,r){if(Ve)return t==="compositionend"||!er&&K(t,r)?(t=Po(),Rr=ui=Xn=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Dt[t.type]:r==="textarea"}function Cr(t,r,a,l){Sr?wr?wr.push(l):wr=[l]:Sr=l,r=Ac(r,"onChange"),0<r.length&&(a=new ia("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Lt=null,tr=null;function qo(t){M_(t,0)}function Uu(t){var r=Qn(t);if(Oo(r))return t}function eg(t,r){if(t==="change")return r}var tg=!1;if(Vn){var of;if(Vn){var lf="oninput"in document;if(!lf){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),lf=typeof ng.oninput=="function"}of=lf}else of=!1;tg=of&&(!document.documentMode||9<document.documentMode)}function rg(){Lt&&(Lt.detachEvent("onpropertychange",ig),tr=Lt=null)}function ig(t){if(t.propertyName==="value"&&Uu(tr)){var r=[];Cr(r,tr,t,Tn(t)),Su(qo,r)}}function Wb(t,r,a){t==="focusin"?(rg(),Lt=r,tr=a,Lt.attachEvent("onpropertychange",ig)):t==="focusout"&&rg()}function Zb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(tr)}function Jb(t,r){if(t==="click")return Uu(r)}function eA(t,r){if(t==="input"||t==="change")return Uu(r)}function tA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var cn=typeof Object.is=="function"?Object.is:tA;function Ho(t,r){if(cn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Wi.call(r,h)||!cn(t[h],r[h]))return!1}return!0}function sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ag(t,r){var a=sg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sg(a)}}function og(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?og(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function lg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ls(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ls(t.document)}return r}function uf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var nA=Vn&&"documentMode"in document&&11>=document.documentMode,fa=null,cf=null,Fo=null,hf=!1;function ug(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hf||fa==null||fa!==ls(l)||(l=fa,"selectionStart"in l&&uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fo&&Ho(Fo,l)||(Fo=l,l=Ac(cf,"onSelect"),0<l.length&&(r=new ia("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=fa)))}function vs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var da={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},ff={},cg={};Vn&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Es(t){if(ff[t])return ff[t];if(!da[t])return t;var r=da[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in cg)return ff[t]=r[a];return t}var hg=Es("animationend"),fg=Es("animationiteration"),dg=Es("animationstart"),rA=Es("transitionrun"),iA=Es("transitionstart"),sA=Es("transitioncancel"),mg=Es("transitionend"),pg=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function Pn(t,r){pg.set(t,r),kn(r,[t])}var gg=new WeakMap;function Sn(t,r){if(typeof t=="object"&&t!==null){var a=gg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ta(r)},gg.set(t,r),r)}return{value:t,source:r,stack:ta(r)}}var wn=[],ma=0,mf=0;function ju(){for(var t=ma,r=mf=ma=0;r<t;){var a=wn[r];wn[r++]=null;var l=wn[r];wn[r++]=null;var h=wn[r];wn[r++]=null;var d=wn[r];if(wn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&yg(a,h,d)}}function zu(t,r,a,l){wn[ma++]=t,wn[ma++]=r,wn[ma++]=a,wn[ma++]=l,mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function pf(t,r,a,l){return zu(t,r,a,l),Bu(t)}function pa(t,r){return zu(t,null,null,r),Bu(t)}function yg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Bu(t){if(50<pl)throw pl=0,Td=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ga={};function aA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,r,a,l){return new aA(t,r,a,l)}function gf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xr(t,r){var a=t.alternate;return a===null?(a=hn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function _g(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function qu(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")gf(t)&&(v=1);else if(typeof t=="string")v=lS(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=hn(31,a,r,h),t.elementType=R,t.lanes=d,t;case D:return Ts(a.children,h,d,r);case Q:v=8,h|=24;break;case q:return t=hn(12,a,r,h|2),t.elementType=q,t.lanes=d,t;case he:return t=hn(13,a,r,h),t.elementType=he,t.lanes=d,t;case we:return t=hn(19,a,r,h),t.elementType=we,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case ne:v=10;break e;case ie:v=9;break e;case me:v=11;break e;case k:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=hn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ts(t,r,a,l){return t=hn(7,t,l,r),t.lanes=a,t}function yf(t,r,a){return t=hn(6,t,null,r),t.lanes=a,t}function _f(t,r,a){return r=hn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ya=[],_a=0,Hu=null,Fu=0,Rn=[],In=0,bs=null,Dr=1,Nr="";function As(t,r){ya[_a++]=Fu,ya[_a++]=Hu,Hu=t,Fu=r}function vg(t,r,a){Rn[In++]=Dr,Rn[In++]=Nr,Rn[In++]=bs,bs=t;var l=Dr;t=Nr;var h=32-Ft(l)-1;l&=~(1<<h),a+=1;var d=32-Ft(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Dr=1<<32-Ft(r)+h|a<<h|l,Nr=d+t}else Dr=1<<d|a<<h|l,Nr=t}function vf(t){t.return!==null&&(As(t,1),vg(t,1,0))}function Ef(t){for(;t===Hu;)Hu=ya[--_a],ya[_a]=null,Fu=ya[--_a],ya[_a]=null;for(;t===bs;)bs=Rn[--In],Rn[In]=null,Nr=Rn[--In],Rn[In]=null,Dr=Rn[--In],Rn[In]=null}var en=null,lt=null,Be=!1,Ss=null,nr=!1,Tf=Error(s(519));function ws(t){var r=Error(s(418,""));throw Qo(Sn(r,t)),Tf}function Eg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Et]=t,r[mt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<yl.length;a++)Oe(yl[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),us(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),na(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),cs(r,l.value,l.defaultValue,l.children),na(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||L_(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Sc),r=!0):r=!1,r||ws(t)}function Tg(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:nr=!1;return;case 27:case 3:nr=!0;return;default:en=en.return}}function Go(t){if(t!==en)return!1;if(!Be)return Tg(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ld(t.type,t.memoizedProps)),a=!a),a&&lt&&ws(t),Tg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){lt=Un(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}lt=null}}else r===27?(r=lt,wi(t.type)?(t=Bd,Bd=null,lt=t):lt=r):lt=en?Un(t.stateNode.nextSibling):null;return!0}function Ko(){lt=en=null,Be=!1}function bg(){var t=Ss;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),Ss=null),t}function Qo(t){Ss===null?Ss=[t]:Ss.push(t)}var bf=te(null),Rs=null,Or=null;function ci(t,r,a){re(bf,r._currentValue),r._currentValue=a}function Mr(t){t._currentValue=bf.current,oe(bf)}function Af(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Sf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Af(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Af(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Yo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;cn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ct.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&Sf(r,t,a,l),r.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Is(t){Rs=t,Or=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Ag(Rs,t)}function Ku(t,r){return Rs===null&&Is(t),Ag(t,r)}function Ag(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Or===null){if(t===null)throw Error(s(308));Or=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Or=Or.next=r;return a}var oA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},lA=i.unstable_scheduleCallback,uA=i.unstable_NormalPriority,At={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new oA,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&lA(uA,function(){t.controller.abort()})}var Xo=null,Rf=0,va=0,Ea=null;function cA(t,r){if(Xo===null){var a=Xo=[];Rf=0,va=Cd(),Ea={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rf++,r.then(Sg,Sg),r}function Sg(){if(--Rf===0&&Xo!==null){Ea!==null&&(Ea.status="fulfilled");var t=Xo;Xo=null,va=0,Ea=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function hA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var wg=$.S;$.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&cA(t,r),wg!==null&&wg(t,r)};var Cs=te(null);function If(){var t=Cs.current;return t!==null?t:Je.pooledCache}function Qu(t,r){r===null?re(Cs,Cs.current):re(Cs,r.pool)}function Rg(){var t=If();return t===null?null:{parent:At._currentValue,pool:t}}var Wo=Error(s(460)),Ig=Error(s(474)),Yu=Error(s(542)),Cf={then:function(){}};function Cg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $u(){}function xg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then($u,$u),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ng(t),t;default:if(typeof r.status=="string")r.then($u,$u);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ng(t),t}throw Zo=r,Wo}}var Zo=null;function Dg(){if(Zo===null)throw Error(s(459));var t=Zo;return Zo=null,t}function Ng(t){if(t===Wo||t===Yu)throw Error(s(483))}var hi=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Df(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function di(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Bu(t),yg(t,null,a),r}return zu(t,l,r,a),Bu(t)}function Jo(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Io(t,a)}}function Nf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Of=!1;function el(){if(Of){var t=Ea;if(t!==null)throw t}}function tl(t,r,a,l){Of=!1;var h=t.updateQueue;hi=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;v=0,X=B=I=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Le&H)===H:(l&H)===H){H!==0&&H===va&&(Of=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=t,ye=T;H=r;var Xe=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){J=Te.call(Xe,J,H);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,H=typeof Te=="function"?Te.call(Xe,J,H):Te,H==null)break e;J=E({},J,H);break e;case 2:hi=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=F,I=J):X=X.next=F,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);X===null&&(I=J),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Ti|=v,t.lanes=v,t.memoizedState=J}}function Og(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Mg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Og(a[t],r)}var Ta=te(null),Xu=te(0);function kg(t,r){t=zr,re(Xu,t),re(Ta,r),zr=t|r.baseLanes}function Mf(){re(Xu,zr),re(Ta,Ta.current)}function kf(){zr=Xu.current,oe(Ta),oe(Xu)}var mi=0,Ie=null,Ye=null,gt=null,Wu=!1,ba=!1,xs=!1,Zu=0,nl=0,Aa=null,fA=0;function ht(){throw Error(s(321))}function Vf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!cn(t[a],r[a]))return!1;return!0}function Pf(t,r,a,l,h,d){return mi=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?yy:_y,xs=!1,d=a(l,h),xs=!1,ba&&(d=Pg(r,a,l,h)),Vg(t),d}function Vg(t){$.H=ic;var r=Ye!==null&&Ye.next!==null;if(mi=0,gt=Ye=Ie=null,Wu=!1,nl=0,Aa=null,r)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Gu(t)&&(Nt=!0))}function Pg(t,r,a,l){Ie=t;var h=0;do{if(ba&&(Aa=null),nl=0,ba=!1,25<=h)throw Error(s(301));if(h+=1,gt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=vA,d=r(a,l)}while(ba);return d}function dA(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?rl(r):r,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ie.flags|=1024),r}function Lf(){var t=Zu!==0;return Zu=0,t}function Uf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function jf(t){if(Wu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Wu=!1}mi=0,gt=Ye=Ie=null,ba=!1,nl=Zu=0,Aa=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ie.memoizedState=gt=t:gt=gt.next=t,gt}function yt(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var r=gt===null?Ie.memoizedState:gt.next;if(r!==null)gt=r,Ye=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},gt===null?Ie.memoizedState=gt=t:gt=gt.next=t}return gt}function zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var r=nl;return nl+=1,Aa===null&&(Aa=[]),t=xg(Aa,t,r),r=Ie,(gt===null?r.memoizedState:gt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?yy:_y),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===ne)return Gt(t)}throw Error(s(438,String(t)))}function Bf(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=zf(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function kr(t,r){return typeof r=="function"?r(t):r}function ec(t){var r=yt();return qf(r,Ye,t)}function qf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,I=null,B=r,X=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Le&J)===J:(mi&J)===J){var H=B.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===va&&(X=!0);else if((mi&H)===H){B=B.next,H===va&&(X=!0);continue}else J={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=J,v=d):I=I.next=J,Ie.lanes|=H,Ti|=H;J=B.action,xs&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else H={lane:J,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=H,v=d):I=I.next=H,Ie.lanes|=J,Ti|=J;B=B.next}while(B!==null&&B!==r);if(I===null?v=d:I.next=T,!cn(d,t.memoizedState)&&(Nt=!0,X&&(a=Ea,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Hf(t){var r=yt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);cn(d,r.memoizedState)||(Nt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Lg(t,r,a){var l=Ie,h=yt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!cn((Ye||h).memoizedState,a);v&&(h.memoizedState=a,Nt=!0),h=h.queue;var T=zg.bind(null,l,h,t);if(il(2048,8,T,[t]),h.getSnapshot!==r||v||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Sa(9,tc(),jg.bind(null,l,h,a,r),null),Je===null)throw Error(s(349));d||(mi&124)!==0||Ug(l,r,a)}return a}function Ug(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=zf(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function jg(t,r,a,l){r.value=a,r.getSnapshot=l,Bg(r)&&qg(t)}function zg(t,r,a){return a(function(){Bg(r)&&qg(t)})}function Bg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!cn(t,a)}catch{return!0}}function qg(t){var r=pa(t,2);r!==null&&gn(r,t,2)}function Ff(t){var r=nn();if(typeof t=="function"){var a=t;if(t=a(),xs){ln(!0);try{a()}finally{ln(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:t},r}function Hg(t,r,a,l){return t.baseState=a,qf(t,Ye,typeof l=="function"?l:kr)}function mA(t,r,a,l,h){if(rc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Fg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Fg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=$.T,v={};$.T=v;try{var T=a(h,l),I=$.S;I!==null&&I(v,T),Gg(t,r,T)}catch(B){Gf(t,r,B)}finally{$.T=d}}else try{d=a(h,l),Gg(t,r,d)}catch(B){Gf(t,r,B)}}function Gg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Kg(t,r,l)},function(l){return Gf(t,r,l)}):Kg(t,r,a)}function Kg(t,r,a){r.status="fulfilled",r.value=a,Qg(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Fg(t,a)))}function Gf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Qg(r),r=r.next;while(r!==l)}t.action=null}function Qg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Yg(t,r){return r}function $g(t,r){if(Be){var a=Je.formState;if(a!==null){e:{var l=Ie;if(Be){if(lt){t:{for(var h=lt,d=nr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=Un(h.nextSibling),l=h.data==="F!";break e}}ws(l)}l=!1}l&&(r=a[0])}}return a=nn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:r},a.queue=l,a=my.bind(null,Ie,l),l.dispatch=a,l=Ff(!1),d=Xf.bind(null,Ie,!1,l.queue),l=nn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=mA.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Xg(t){var r=yt();return Wg(r,Ye,t)}function Wg(t,r,a){if(r=qf(t,r,Yg)[0],t=ec(kr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=rl(r)}catch(v){throw v===Wo?Yu:v}else l=r;r=yt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Sa(9,tc(),pA.bind(null,h,a),null)),[l,d,t]}function pA(t,r){t.action=r}function Zg(t){var r=yt(),a=Ye;if(a!==null)return Wg(r,a,t);yt(),r=r.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Sa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=zf(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function tc(){return{destroy:void 0,resource:void 0}}function Jg(){return yt().memoizedState}function nc(t,r,a,l){var h=nn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Sa(1|r,tc(),a,l)}function il(t,r,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&Vf(l,Ye.memoizedState.deps)?h.memoizedState=Sa(r,d,a,l):(Ie.flags|=t,h.memoizedState=Sa(1|r,d,a,l))}function ey(t,r){nc(8390656,8,t,r)}function ty(t,r){il(2048,8,t,r)}function ny(t,r){return il(4,2,t,r)}function ry(t,r){return il(4,4,t,r)}function iy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function sy(t,r,a){a=a!=null?a.concat([t]):null,il(4,4,iy.bind(null,r,t),a)}function Kf(){}function ay(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Vf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function oy(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Vf(r,l[1]))return l[0];if(l=t(),xs){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,r],l}function Qf(t,r,a){return a===void 0||(mi&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=c_(),Ie.lanes|=t,Ti|=t,a)}function ly(t,r,a,l){return cn(a,r)?a:Ta.current!==null?(t=Qf(t,a,l),cn(t,r)||(Nt=!0),t):(mi&42)===0?(Nt=!0,t.memoizedState=a):(t=c_(),Ie.lanes|=t,Ti|=t,r)}function uy(t,r,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=$.T,T={};$.T=T,Xf(t,!1,r,a);try{var I=h(),B=$.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=hA(I,l);sl(t,r,X,pn(t))}else sl(t,r,l,pn(t))}catch(J){sl(t,r,{then:function(){},status:"rejected",reason:J},pn())}finally{ae.p=d,$.T=v}}function gA(){}function Yf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=cy(t).queue;uy(t,h,r,pe,a===null?gA:function(){return hy(t),a(l)})}function cy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function hy(t){var r=cy(t).next.queue;sl(t,r,{},pn())}function $f(){return Gt(Al)}function fy(){return yt().memoizedState}function dy(){return yt().memoizedState}function yA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=pn();t=fi(a);var l=di(r,t,a);l!==null&&(gn(l,r,a),Jo(l,r,a)),r={cache:wf()},t.payload=r;return}r=r.return}}function _A(t,r,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},rc(t)?py(r,a):(a=pf(t,r,a,l),a!==null&&(gn(a,t,l),gy(a,r,l)))}function my(t,r,a){var l=pn();sl(t,r,a,l)}function sl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(t))py(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,cn(T,v))return zu(t,r,h,0),Je===null&&ju(),!1}catch{}finally{}if(a=pf(t,r,h,l),a!==null)return gn(a,t,l),gy(a,r,l),!0}return!1}function Xf(t,r,a,l){if(l={lane:2,revertLane:Cd(),action:l,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(r)throw Error(s(479))}else r=pf(t,a,l,2),r!==null&&gn(r,t,2)}function rc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function py(t,r){ba=Wu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function gy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Io(t,a)}}var ic={readContext:Gt,use:Ju,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},yy={readContext:Gt,use:Ju,useCallback:function(t,r){return nn().memoizedState=[t,r===void 0?null:r],t},useContext:Gt,useEffect:ey,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,nc(4194308,4,iy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return nc(4194308,4,t,r)},useInsertionEffect:function(t,r){nc(4,2,t,r)},useMemo:function(t,r){var a=nn();r=r===void 0?null:r;var l=t();if(xs){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=nn();if(a!==void 0){var h=a(r);if(xs){ln(!0);try{a(r)}finally{ln(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=_A.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=nn();return t={current:t},r.memoizedState=t},useState:function(t){t=Ff(t);var r=t.queue,a=my.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Kf,useDeferredValue:function(t,r){var a=nn();return Qf(a,t,r)},useTransition:function(){var t=Ff(!1);return t=uy.bind(null,Ie,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,h=nn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Le&124)!==0||Ug(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,ey(zg.bind(null,l,d,t),[t]),l.flags|=2048,Sa(9,tc(),jg.bind(null,l,d,a,r),null),a},useId:function(){var t=nn(),r=Je.identifierPrefix;if(Be){var a=Nr,l=Dr;a=(l&~(1<<32-Ft(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=Zu++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=fA++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:$f,useFormState:$g,useActionState:$g,useOptimistic:function(t){var r=nn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Xf.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:Bf,useCacheRefresh:function(){return nn().memoizedState=yA.bind(null,Ie)}},_y={readContext:Gt,use:Ju,useCallback:ay,useContext:Gt,useEffect:ty,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:oy,useReducer:ec,useRef:Jg,useState:function(){return ec(kr)},useDebugValue:Kf,useDeferredValue:function(t,r){var a=yt();return ly(a,Ye.memoizedState,t,r)},useTransition:function(){var t=ec(kr)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:rl(t),r]},useSyncExternalStore:Lg,useId:fy,useHostTransitionStatus:$f,useFormState:Xg,useActionState:Xg,useOptimistic:function(t,r){var a=yt();return Hg(a,Ye,t,r)},useMemoCache:Bf,useCacheRefresh:dy},vA={readContext:Gt,use:Ju,useCallback:ay,useContext:Gt,useEffect:ty,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:oy,useReducer:Hf,useRef:Jg,useState:function(){return Hf(kr)},useDebugValue:Kf,useDeferredValue:function(t,r){var a=yt();return Ye===null?Qf(a,t,r):ly(a,Ye.memoizedState,t,r)},useTransition:function(){var t=Hf(kr)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:rl(t),r]},useSyncExternalStore:Lg,useId:fy,useHostTransitionStatus:$f,useFormState:Zg,useActionState:Zg,useOptimistic:function(t,r){var a=yt();return Ye!==null?Hg(a,Ye,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:dy},wa=null,al=0;function sc(t){var r=al;return al+=1,wa===null&&(wa=[]),xg(wa,t,r)}function ol(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function ac(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function vy(t){var r=t._init;return r(t._payload)}function Ey(t){function r(L,M){if(t){var z=L.deletions;z===null?(L.deletions=[M],L.flags|=16):z.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)r(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=xr(L,M),L.index=0,L.sibling=null,L}function d(L,M,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<M?(L.flags|=67108866,M):z):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,z,Z){return M===null||M.tag!==6?(M=yf(z,L.mode,Z),M.return=L,M):(M=h(M,z),M.return=L,M)}function I(L,M,z,Z){var ce=z.type;return ce===D?X(L,M,z.props.children,Z,z.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&vy(ce)===M.type)?(M=h(M,z.props),ol(M,z),M.return=L,M):(M=qu(z.type,z.key,z.props,null,L.mode,Z),ol(M,z),M.return=L,M)}function B(L,M,z,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=_f(z,L.mode,Z),M.return=L,M):(M=h(M,z.children||[]),M.return=L,M)}function X(L,M,z,Z,ce){return M===null||M.tag!==7?(M=Ts(z,L.mode,Z,ce),M.return=L,M):(M=h(M,z),M.return=L,M)}function J(L,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=yf(""+M,L.mode,z),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return z=qu(M.type,M.key,M.props,null,L.mode,z),ol(z,M),z.return=L,z;case P:return M=_f(M,L.mode,z),M.return=L,M;case w:var Z=M._init;return M=Z(M._payload),J(L,M,z)}if(at(M)||U(M))return M=Ts(M,L.mode,z,null),M.return=L,M;if(typeof M.then=="function")return J(L,sc(M),z);if(M.$$typeof===ne)return J(L,Ku(L,M),z);ac(L,M)}return null}function H(L,M,z,Z){var ce=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ce!==null?null:T(L,M,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===ce?I(L,M,z,Z):null;case P:return z.key===ce?B(L,M,z,Z):null;case w:return ce=z._init,z=ce(z._payload),H(L,M,z,Z)}if(at(z)||U(z))return ce!==null?null:X(L,M,z,Z,null);if(typeof z.then=="function")return H(L,M,sc(z),Z);if(z.$$typeof===ne)return H(L,M,Ku(L,z),Z);ac(L,z)}return null}function F(L,M,z,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(z)||null,T(M,L,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return L=L.get(Z.key===null?z:Z.key)||null,I(M,L,Z,ce);case P:return L=L.get(Z.key===null?z:Z.key)||null,B(M,L,Z,ce);case w:var De=Z._init;return Z=De(Z._payload),F(L,M,z,Z,ce)}if(at(Z)||U(Z))return L=L.get(z)||null,X(M,L,Z,ce,null);if(typeof Z.then=="function")return F(L,M,z,sc(Z),ce);if(Z.$$typeof===ne)return F(L,M,z,Ku(M,Z),ce);ac(M,Z)}return null}function Te(L,M,z,Z){for(var ce=null,De=null,fe=M,ve=M=0,Mt=null;fe!==null&&ve<z.length;ve++){fe.index>ve?(Mt=fe,fe=null):Mt=fe.sibling;var je=H(L,fe,z[ve],Z);if(je===null){fe===null&&(fe=Mt);break}t&&fe&&je.alternate===null&&r(L,fe),M=d(je,M,ve),De===null?ce=je:De.sibling=je,De=je,fe=Mt}if(ve===z.length)return a(L,fe),Be&&As(L,ve),ce;if(fe===null){for(;ve<z.length;ve++)fe=J(L,z[ve],Z),fe!==null&&(M=d(fe,M,ve),De===null?ce=fe:De.sibling=fe,De=fe);return Be&&As(L,ve),ce}for(fe=l(fe);ve<z.length;ve++)Mt=F(fe,L,ve,z[ve],Z),Mt!==null&&(t&&Mt.alternate!==null&&fe.delete(Mt.key===null?ve:Mt.key),M=d(Mt,M,ve),De===null?ce=Mt:De.sibling=Mt,De=Mt);return t&&fe.forEach(function(Di){return r(L,Di)}),Be&&As(L,ve),ce}function ye(L,M,z,Z){if(z==null)throw Error(s(151));for(var ce=null,De=null,fe=M,ve=M=0,Mt=null,je=z.next();fe!==null&&!je.done;ve++,je=z.next()){fe.index>ve?(Mt=fe,fe=null):Mt=fe.sibling;var Di=H(L,fe,je.value,Z);if(Di===null){fe===null&&(fe=Mt);break}t&&fe&&Di.alternate===null&&r(L,fe),M=d(Di,M,ve),De===null?ce=Di:De.sibling=Di,De=Di,fe=Mt}if(je.done)return a(L,fe),Be&&As(L,ve),ce;if(fe===null){for(;!je.done;ve++,je=z.next())je=J(L,je.value,Z),je!==null&&(M=d(je,M,ve),De===null?ce=je:De.sibling=je,De=je);return Be&&As(L,ve),ce}for(fe=l(fe);!je.done;ve++,je=z.next())je=F(fe,L,ve,je.value,Z),je!==null&&(t&&je.alternate!==null&&fe.delete(je.key===null?ve:je.key),M=d(je,M,ve),De===null?ce=je:De.sibling=je,De=je);return t&&fe.forEach(function(ES){return r(L,ES)}),Be&&As(L,ve),ce}function Xe(L,M,z,Z){if(typeof z=="object"&&z!==null&&z.type===D&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var ce=z.key;M!==null;){if(M.key===ce){if(ce=z.type,ce===D){if(M.tag===7){a(L,M.sibling),Z=h(M,z.props.children),Z.return=L,L=Z;break e}}else if(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&vy(ce)===M.type){a(L,M.sibling),Z=h(M,z.props),ol(Z,z),Z.return=L,L=Z;break e}a(L,M);break}else r(L,M);M=M.sibling}z.type===D?(Z=Ts(z.props.children,L.mode,Z,z.key),Z.return=L,L=Z):(Z=qu(z.type,z.key,z.props,null,L.mode,Z),ol(Z,z),Z.return=L,L=Z)}return v(L);case P:e:{for(ce=z.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(L,M.sibling),Z=h(M,z.children||[]),Z.return=L,L=Z;break e}else{a(L,M);break}else r(L,M);M=M.sibling}Z=_f(z,L.mode,Z),Z.return=L,L=Z}return v(L);case w:return ce=z._init,z=ce(z._payload),Xe(L,M,z,Z)}if(at(z))return Te(L,M,z,Z);if(U(z)){if(ce=U(z),typeof ce!="function")throw Error(s(150));return z=ce.call(z),ye(L,M,z,Z)}if(typeof z.then=="function")return Xe(L,M,sc(z),Z);if(z.$$typeof===ne)return Xe(L,M,Ku(L,z),Z);ac(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(L,M.sibling),Z=h(M,z),Z.return=L,L=Z):(a(L,M),Z=yf(z,L.mode,Z),Z.return=L,L=Z),v(L)):a(L,M)}return function(L,M,z,Z){try{al=0;var ce=Xe(L,M,z,Z);return wa=null,ce}catch(fe){if(fe===Wo||fe===Yu)throw fe;var De=hn(29,fe,null,L.mode);return De.lanes=Z,De.return=L,De}finally{}}}var Ra=Ey(!0),Ty=Ey(!1),Cn=te(null),rr=null;function pi(t){var r=t.alternate;re(St,St.current&1),re(Cn,t),rr===null&&(r===null||Ta.current!==null||r.memoizedState!==null)&&(rr=t)}function by(t){if(t.tag===22){if(re(St,St.current),re(Cn,t),rr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(rr=t)}}else gi()}function gi(){re(St,St.current),re(Cn,Cn.current)}function Vr(t){oe(Cn),rr===t&&(rr=null),oe(St)}var St=te(0);function oc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||zd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Wf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Zf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=pn(),h=fi(l);h.payload=r,a!=null&&(h.callback=a),r=di(t,h,l),r!==null&&(gn(r,t,l),Jo(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=pn(),h=fi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=di(t,h,l),r!==null&&(gn(r,t,l),Jo(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=pn(),l=fi(a);l.tag=2,r!=null&&(l.callback=r),r=di(t,l,a),r!==null&&(gn(r,t,a),Jo(r,t,a))}};function Ay(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Ho(a,l)||!Ho(h,d):!0}function Sy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Zf.enqueueReplaceState(r,r.state,null)}function Ds(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function wy(t){lc(t)}function Ry(t){console.error(t)}function Iy(t){lc(t)}function uc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Cy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jf(t,r,a){return a=fi(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,r)},a}function xy(t){return t=fi(t),t.tag=3,t}function Dy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Cy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Cy(r,a,l),typeof h!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function EA(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Yo(r,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return rr===null?Ad():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Cf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),wd(t,l,h)),!1;case 22:return a.flags|=65536,l===Cf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),wd(t,l,h)),!1}throw Error(s(435,a.tag))}return wd(t,l,h),Ad(),!1}if(Be)return r=Cn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Tf&&(t=Error(s(422),{cause:l}),Qo(Sn(t,a)))):(l!==Tf&&(r=Error(s(423),{cause:l}),Qo(Sn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Sn(l,a),h=Jf(t.stateNode,l,h),Nf(t,h),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:l});if(d=Sn(d,a),ml===null?ml=[d]:ml.push(d),ut!==4&&(ut=2),r===null)return!0;l=Sn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Jf(a.stateNode,l,t),Nf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(bi===null||!bi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=xy(h),Dy(h,t,a,l),Nf(a,h),!1}a=a.return}while(a!==null);return!1}var Ny=Error(s(461)),Nt=!1;function Ut(t,r,a,l){r.child=t===null?Ty(r,null,a,l):Ra(r,t.child,a,l)}function Oy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Is(r),l=Pf(t,r,a,v,d,h),T=Lf(),t!==null&&!Nt?(Uf(t,r,h),Pr(t,r,h)):(Be&&T&&vf(r),r.flags|=1,Ut(t,r,l,h),r.child)}function My(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!gf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,ky(t,r,d,l,h)):(t=qu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!od(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(v,l)&&t.ref===r.ref)return Pr(t,r,h)}return r.flags|=1,t=xr(d,l),t.ref=r.ref,t.return=r,r.child=t}function ky(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Ho(d,l)&&t.ref===r.ref)if(Nt=!1,r.pendingProps=l=d,od(t,h))(t.flags&131072)!==0&&(Nt=!0);else return r.lanes=t.lanes,Pr(t,r,h)}return ed(t,r,a,l,h)}function Vy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Py(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(r,d!==null?d.cachePool:null),d!==null?kg(r,d):Mf(),by(r);else return r.lanes=r.childLanes=536870912,Py(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Qu(r,d.cachePool),kg(r,d),gi(),r.memoizedState=null):(t!==null&&Qu(r,null),Mf(),gi());return Ut(t,r,h,a),r.child}function Py(t,r,a,l){var h=If();return h=h===null?null:{parent:At._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Qu(r,null),Mf(),by(r),t!==null&&Yo(t,r,l,!0),null}function cc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function ed(t,r,a,l,h){return Is(r),a=Pf(t,r,a,l,void 0,h),l=Lf(),t!==null&&!Nt?(Uf(t,r,h),Pr(t,r,h)):(Be&&l&&vf(r),r.flags|=1,Ut(t,r,a,h),r.child)}function Ly(t,r,a,l,h,d){return Is(r),r.updateQueue=null,a=Pg(r,l,a,h),Vg(t),l=Lf(),t!==null&&!Nt?(Uf(t,r,d),Pr(t,r,d)):(Be&&l&&vf(r),r.flags|=1,Ut(t,r,a,d),r.child)}function Uy(t,r,a,l,h){if(Is(r),r.stateNode===null){var d=ga,v=a.contextType;typeof v=="object"&&v!==null&&(d=Gt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},xf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Gt(v):ga,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Wf(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Zf.enqueueReplaceState(d,d.state,null),tl(r,l,d,h),el(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=Ds(a,T);d.props=I;var B=d.context,X=a.contextType;v=ga,typeof X=="object"&&X!==null&&(v=Gt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&Sy(r,d,l,v),hi=!1;var H=r.memoizedState;d.state=H,tl(r,l,d,h),el(),B=r.memoizedState,T||H!==B||hi?(typeof J=="function"&&(Wf(r,a,J,l),B=r.memoizedState),(I=hi||Ay(r,a,I,l,H,B,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Df(t,r),v=r.memoizedProps,X=Ds(a,v),d.props=X,J=r.pendingProps,H=d.context,B=a.contextType,I=ga,typeof B=="object"&&B!==null&&(I=Gt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||H!==I)&&Sy(r,d,l,I),hi=!1,H=r.memoizedState,d.state=H,tl(r,l,d,h),el();var F=r.memoizedState;v!==J||H!==F||hi||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof T=="function"&&(Wf(r,a,T,l),F=r.memoizedState),(X=hi||Ay(r,a,X,l,H,F,I)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,cc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ra(r,t.child,null,h),r.child=Ra(r,null,a,h)):Ut(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Pr(t,r,h),t}function jy(t,r,a,l){return Ko(),r.flags|=256,Ut(t,r,a,l),r.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nd(t){return{baseLanes:t,cachePool:Rg()}}function rd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=xn),t}function zy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?pi(r):gi(),Be){var T=lt,I;if(I=T){e:{for(I=T,T=nr;I.nodeType!==8;){if(!T){T=null;break e}if(I=Un(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:bs!==null?{id:Dr,overflow:Nr}:null,retryLane:536870912,hydrationErrors:null},I=hn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,en=r,lt=null,I=!0):I=!1}I||ws(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return zd(T)?r.lanes=32:r.lanes=536870912,null;Vr(r)}return T=l.children,l=l.fallback,h?(gi(),h=r.mode,T=hc({mode:"hidden",children:T},h),l=Ts(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=nd(a),h.childLanes=rd(t,v,a),r.memoizedState=td,l):(pi(r),id(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(pi(r),r.flags&=-257,r=sd(t,r,a)):r.memoizedState!==null?(gi(),r.child=t.child,r.flags|=128,r=null):(gi(),h=l.fallback,T=r.mode,l=hc({mode:"visible",children:l.children},T),h=Ts(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ra(r,t.child,null,a),l=r.child,l.memoizedState=nd(a),l.childLanes=rd(t,v,a),r.memoizedState=td,r=h);else if(pi(r),zd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,Qo({value:l,source:null,stack:null}),r=sd(t,r,a)}else if(Nt||Yo(t,r,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:ri(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,pa(t,l),gn(v,t,l),Ny;T.data==="$?"||Ad(),r=sd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,lt=Un(T.nextSibling),en=r,Be=!0,Ss=null,nr=!1,t!==null&&(Rn[In++]=Dr,Rn[In++]=Nr,Rn[In++]=bs,Dr=t.id,Nr=t.overflow,bs=r),r=id(r,l.children),r.flags|=4096);return r}return h?(gi(),h=l.fallback,T=r.mode,I=t.child,B=I.sibling,l=xr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=xr(B,h):(h=Ts(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=nd(a):(I=T.cachePool,I!==null?(B=At._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=Rg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=rd(t,v,a),r.memoizedState=td,l):(pi(r),a=t.child,t=a.sibling,a=xr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function id(t,r){return r=hc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function hc(t,r){return t=hn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function sd(t,r,a){return Ra(r,t.child,null,a),t=id(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function By(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Af(t.return,r,a)}function ad(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function qy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,r,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&By(t,a,r);else if(t.tag===19)By(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(St,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&oc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),ad(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&oc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ad(r,!0,a,null,d);break;case"together":ad(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Pr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ti|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Yo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=xr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=xr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function od(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function TA(t,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),ci(r,At,t.memoizedState.cache),Ko();break;case 27:case 5:ni(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:ci(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(pi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?zy(t,r,a):(pi(r),t=Pr(t,r,a),t!==null?t.sibling:null);pi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Yo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return qy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(St,St.current),l)break;return null;case 22:case 23:return r.lanes=0,Vy(t,r,a);case 24:ci(r,At,t.memoizedState.cache)}return Pr(t,r,a)}function Hy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Nt=!0;else{if(!od(t,a)&&(r.flags&128)===0)return Nt=!1,TA(t,r,a);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(r.flags&1048576)!==0&&vg(r,Fu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")gf(l)?(t=Ds(l,t),r.tag=1,r=Uy(null,r,l,t,a)):(r.tag=0,r=ed(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===me){r.tag=11,r=Oy(null,r,l,t,a);break e}else if(h===k){r.tag=14,r=My(null,r,l,t,a);break e}}throw r=Vt(l)||l,Error(s(306,r,""))}}return r;case 0:return ed(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Ds(l,r.pendingProps),Uy(t,r,l,h,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Df(t,r),tl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,ci(r,At,l),l!==d.cache&&Sf(r,[At],a,!0),el(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=jy(t,r,l,a);break e}else if(l!==h){h=Sn(Error(s(424)),r),Qo(h),r=jy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Un(t.firstChild),en=r,Be=!0,Ss=null,nr=!0,a=Ty(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ko(),l===h){r=Pr(t,r,a);break e}Ut(t,r,l,a)}r=r.child}return r;case 26:return cc(t,r),t===null?(a=Q_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=wc(be.current).createElement(a),l[Et]=r,l[mt]=t,zt(l,a,t),ct(l),r.stateNode=l):r.memoizedState=Q_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ni(r),t===null&&Be&&(l=r.stateNode=F_(r.type,r.pendingProps,be.current),en=r,nr=!0,h=lt,wi(r.type)?(Bd=h,lt=Un(l.firstChild)):lt=h),Ut(t,r,r.pendingProps.children,a),cc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((h=l=lt)&&(l=$A(l,r.type,r.pendingProps,nr),l!==null?(r.stateNode=l,en=r,lt=Un(l.firstChild),nr=!1,h=!0):h=!1),h||ws(r)),ni(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Ld(h,d)?l=null:v!==null&&Ld(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Pf(t,r,dA,null,null,a),Al._currentValue=h),cc(t,r),Ut(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=lt)&&(a=XA(a,r.pendingProps,nr),a!==null?(r.stateNode=a,en=r,lt=null,t=!0):t=!1),t||ws(r)),null;case 13:return zy(t,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ra(r,null,l,a):Ut(t,r,l,a),r.child;case 11:return Oy(t,r,r.type,r.pendingProps,a);case 7:return Ut(t,r,r.pendingProps,a),r.child;case 8:return Ut(t,r,r.pendingProps.children,a),r.child;case 12:return Ut(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ci(r,r.type,l.value),Ut(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Is(r),h=Gt(h),l=l(h),r.flags|=1,Ut(t,r,l,a),r.child;case 14:return My(t,r,r.type,r.pendingProps,a);case 15:return ky(t,r,r.type,r.pendingProps,a);case 19:return qy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=hc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=xr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Vy(t,r,a);case 24:return Is(r),l=Gt(At),t===null?(h=If(),h===null&&(h=Je,d=wf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},xf(r),ci(r,At,h)):((t.lanes&a)!==0&&(Df(t,r),tl(r,null,null,a),el()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),ci(r,At,l)):(l=d.cache,ci(r,At,l),l!==h.cache&&Sf(r,[At],a,!0))),Ut(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Lr(t){t.flags|=4}function Fy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Z_(r)){if(r=Cn.current,r!==null&&((Le&4194048)===Le?rr!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==rr))throw Zo=Cf,Ig;t.flags|=8192}}function fc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?wo():536870912,t.lanes|=r,Da|=r)}function ll(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function bA(t,r,a){var l=r.pendingProps;switch(Ef(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Mr(At),Fn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Go(r)?Lr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,bg())),rt(r),null;case 26:return a=r.memoizedState,t===null?(Lr(r),a!==null?(rt(r),Fy(r,a)):(rt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Lr(r),rt(r),Fy(r,a)):(rt(r),r.flags&=-16777217):(t.memoizedProps!==l&&Lr(r),rt(r),r.flags&=-16777217),null;case 27:gr(r),a=be.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}t=ge.current,Go(r)?Eg(r):(t=F_(h,l,a),r.stateNode=t,Lr(r))}return rt(r),null;case 5:if(gr(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(t=ge.current,Go(r))Eg(r);else{switch(h=wc(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Et]=r,t[mt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Lr(r)}}return rt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Lr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,Go(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||L_(t.nodeValue,a)),t||ws(r)}else t=wc(t).createTextNode(l),t[Et]=r,r.stateNode=t}return rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Go(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=r}else Ko(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),h=!1}else h=bg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Vr(r),r):(Vr(r),null)}if(Vr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),fc(r,r.updateQueue),rt(r),null;case 4:return Fn(),t===null&&Od(r.stateNode.containerInfo),rt(r),null;case 10:return Mr(r.type),rt(r),null;case 19:if(oe(St),h=r.memoizedState,h===null)return rt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)ll(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=oc(t),d!==null){for(r.flags|=128,ll(h,!1),t=d.updateQueue,r.updateQueue=t,fc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)_g(a,t),a=a.sibling;return re(St,St.current&1|2),r.child}t=t.sibling}h.tail!==null&&_n()>pc&&(r.flags|=128,l=!0,ll(h,!1),r.lanes=4194304)}else{if(!l)if(t=oc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,fc(r,t),ll(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return rt(r),null}else 2*_n()-h.renderingStartTime>pc&&a!==536870912&&(r.flags|=128,l=!0,ll(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=_n(),r.sibling=null,t=St.current,re(St,l?t&1|2:t&1),r):(rt(r),null);case 22:case 23:return Vr(r),kf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&fc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&oe(Cs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Mr(At),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function AA(t,r){switch(Ef(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Mr(At),Fn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return gr(r),null;case 13:if(Vr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ko()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return oe(St),null;case 4:return Fn(),null;case 10:return Mr(r.type),null;case 22:case 23:return Vr(r),kf(),t!==null&&oe(Cs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Mr(At),null;case 25:return null;default:return null}}function Gy(t,r){switch(Ef(r),r.tag){case 3:Mr(At),Fn();break;case 26:case 27:case 5:gr(r);break;case 4:Fn();break;case 13:Vr(r);break;case 19:oe(St);break;case 10:Mr(r.type);break;case 22:case 23:Vr(r),kf(),t!==null&&oe(Cs);break;case 24:Mr(At)}}function ul(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(r,r.return,T)}}function yi(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var I=a,B=T;try{B()}catch(X){We(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){We(r,r.return,X)}}function Ky(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Mg(r,a)}catch(l){We(t,t.return,l)}}}function Qy(t,r,a){a.props=Ds(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function cl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,r,h)}}function ir(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,r,h)}else a.current=null}function Yy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function ld(t,r,a){try{var l=t.stateNode;FA(l,t.type,a,r),l[mt]=r}catch(h){We(t,t.return,h)}}function $y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&wi(t.type)||t.tag===4}function ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&wi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Sc));else if(l!==4&&(l===27&&wi(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(cd(t,r,a),t=t.sibling;t!==null;)cd(t,r,a),t=t.sibling}function dc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&wi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(dc(t,r,a),t=t.sibling;t!==null;)dc(t,r,a),t=t.sibling}function Xy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);zt(r,l,a),r[Et]=t,r[mt]=a}catch(d){We(t,t.return,d)}}var Ur=!1,ft=!1,hd=!1,Wy=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function SA(t,r){if(t=t.containerInfo,Vd=Nc,t=lg(t),uf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,B=0,X=0,J=t,H=null;t:for(;;){for(var F;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(I=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(F=J.firstChild)!==null;)H=J,J=F;for(;;){if(J===t)break t;if(H===a&&++B===h&&(T=v),H===d&&++X===l&&(I=v),(F=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pd={focusedElem:t,selectionRange:a},Nc=!1,Ot=r;Ot!==null;)if(r=Ot,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Ot=t;else for(;Ot!==null;){switch(r=Ot,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Ds(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ot=t;break}Ot=r.return}}function Zy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_i(t,a),l&4&&ul(5,a);break;case 1:if(_i(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Ds(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&Ky(a),l&512&&cl(a,a.return);break;case 3:if(_i(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Mg(t,r)}catch(v){We(a,a.return,v)}}break;case 27:r===null&&l&4&&Xy(a);case 26:case 5:_i(t,a),r===null&&l&4&&Yy(a),l&512&&cl(a,a.return);break;case 12:_i(t,a);break;case 13:_i(t,a),l&4&&t_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=MA.bind(null,a),WA(t,a))));break;case 22:if(l=a.memoizedState!==null||Ur,!l){r=r!==null&&r.memoizedState!==null||ft,h=Ur;var d=ft;Ur=l,(ft=r)&&!d?vi(t,a,(a.subtreeFlags&8772)!==0):_i(t,a),Ur=h,ft=d}break;case 30:break;default:_i(t,a)}}function Jy(t){var r=t.alternate;r!==null&&(t.alternate=null,Jy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ai(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,rn=!1;function jr(t,r,a){for(a=a.child;a!==null;)e_(t,r,a),a=a.sibling}function e_(t,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 26:ft||ir(a,r),jr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||ir(a,r);var l=nt,h=rn;wi(a.type)&&(nt=a.stateNode,rn=!1),jr(t,r,a),vl(a.stateNode),nt=l,rn=h;break;case 5:ft||ir(a,r);case 6:if(l=nt,h=rn,nt=null,jr(t,r,a),nt=l,rn=h,nt!==null)if(rn)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{nt.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:nt!==null&&(rn?(t=nt,q_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Il(t)):q_(nt,a.stateNode));break;case 4:l=nt,h=rn,nt=a.stateNode.containerInfo,rn=!0,jr(t,r,a),nt=l,rn=h;break;case 0:case 11:case 14:case 15:ft||yi(2,a,r),ft||yi(4,a,r),jr(t,r,a);break;case 1:ft||(ir(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Qy(a,r,l)),jr(t,r,a);break;case 21:jr(t,r,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,jr(t,r,a),ft=l;break;default:jr(t,r,a)}}function t_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(a){We(r,r.return,a)}}function wA(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Wy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Wy),r;default:throw Error(s(435,t.tag))}}function fd(t,r){var a=wA(t);r.forEach(function(l){var h=kA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function fn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(wi(T.type)){nt=T.stateNode,rn=!1;break e}break;case 5:nt=T.stateNode,rn=!1;break e;case 3:case 4:nt=T.stateNode.containerInfo,rn=!0;break e}T=T.return}if(nt===null)throw Error(s(160));e_(d,v,h),nt=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)n_(r,t),r=r.sibling}var Ln=null;function n_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(r,t),dn(t),l&4&&(yi(3,t,t.return),ul(3,t),yi(5,t,t.return));break;case 1:fn(r,t),dn(t),l&512&&(ft||a===null||ir(a,a.return)),l&64&&Ur&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ln;if(fn(r,t),dn(t),l&512&&(ft||a===null||ir(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ss]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[Et]=t,ct(d),l=d;break e;case"link":var v=X_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=X_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,ct(d),l=d}t.stateNode=l}else W_(h,t.type,t.stateNode);else t.stateNode=$_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?W_(h,t.type,t.stateNode):$_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ld(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(r,t),dn(t),l&512&&(ft||a===null||ir(a,a.return)),a!==null&&l&4&&ld(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(r,t),dn(t),l&512&&(ft||a===null||ir(a,a.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(F){We(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ld(t,h,a!==null?a.memoizedProps:h)),l&1024&&(hd=!0);break;case 6:if(fn(r,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){We(t,t.return,F)}}break;case 3:if(Cc=null,h=Ln,Ln=Rc(r.containerInfo),fn(r,t),Ln=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Il(r.containerInfo)}catch(F){We(t,t.return,F)}hd&&(hd=!1,r_(t));break;case 4:l=Ln,Ln=Rc(t.stateNode.containerInfo),fn(r,t),dn(t),Ln=l;break;case 12:fn(r,t),dn(t);break;case 13:fn(r,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_d=_n()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=Ur,X=ft;if(Ur=B||h,ft=X||I,fn(r,t),ft=X,Ur=B,dn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Ur||ft||Ns(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var J=I.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){We(I,I.return,F)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(F){We(I,I.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fd(t,a))));break;case 19:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fd(t,l)));break;case 30:break;case 21:break;default:fn(r,t),dn(t)}}function dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if($y(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ud(t);dc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(En(v,""),a.flags&=-33);var T=ud(t);dc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=ud(t);cd(t,B,I);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function r_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;r_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function _i(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Zy(t,r.alternate,r),r=r.sibling}function Ns(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:yi(4,r,r.return),Ns(r);break;case 1:ir(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Qy(r,r.return,a),Ns(r);break;case 27:vl(r.stateNode);case 26:case 5:ir(r,r.return),Ns(r);break;case 22:r.memoizedState===null&&Ns(r);break;case 30:Ns(r);break;default:Ns(r)}t=t.sibling}}function vi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:vi(h,d,a),ul(4,d);break;case 1:if(vi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Og(I[h],T)}catch(B){We(l,l.return,B)}}a&&v&64&&Ky(d),cl(d,d.return);break;case 27:Xy(d);case 26:case 5:vi(h,d,a),a&&l===null&&v&4&&Yy(d),cl(d,d.return);break;case 12:vi(h,d,a);break;case 13:vi(h,d,a),a&&v&4&&t_(h,d);break;case 22:d.memoizedState===null&&vi(h,d,a),cl(d,d.return);break;case 30:break;default:vi(h,d,a)}r=r.sibling}}function dd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&$o(a))}function md(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&$o(t))}function sr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)i_(t,r,a,l),r=r.sibling}function i_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:sr(t,r,a,l),h&2048&&ul(9,r);break;case 1:sr(t,r,a,l);break;case 3:sr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){sr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(r,r.return,I)}}else sr(t,r,a,l);break;case 13:sr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?sr(t,r,a,l):hl(t,r):d._visibility&2?sr(t,r,a,l):(d._visibility|=2,Ia(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&dd(v,r);break;case 24:sr(t,r,a,l),h&2048&&md(r.alternate,r);break;default:sr(t,r,a,l)}}function Ia(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Ia(d,v,T,I,h),ul(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Ia(d,v,T,I,h):hl(d,v):(X._visibility|=2,Ia(d,v,T,I,h)),h&&B&2048&&dd(v.alternate,v);break;case 24:Ia(d,v,T,I,h),h&&B&2048&&md(v.alternate,v);break;default:Ia(d,v,T,I,h)}r=r.sibling}}function hl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:hl(a,l),h&2048&&dd(l.alternate,l);break;case 24:hl(a,l),h&2048&&md(l.alternate,l);break;default:hl(a,l)}r=r.sibling}}var fl=8192;function Ca(t){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)s_(t),t=t.sibling}function s_(t){switch(t.tag){case 26:Ca(t),t.flags&fl&&t.memoizedState!==null&&cS(Ln,t.memoizedState,t.memoizedProps);break;case 5:Ca(t);break;case 3:case 4:var r=Ln;Ln=Rc(t.stateNode.containerInfo),Ca(t),Ln=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=fl,fl=16777216,Ca(t),fl=r):Ca(t));break;default:Ca(t)}}function a_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function dl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,l_(l,t)}a_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)o_(t),t=t.sibling}function o_(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&yi(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,mc(t)):dl(t);break;default:dl(t)}}function mc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,l_(l,t)}a_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:yi(8,r,r.return),mc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,mc(r));break;default:mc(r)}t=t.sibling}}function l_(t,r){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:yi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(Jy(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var RA={getCacheForType:function(t){var r=Gt(At),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},IA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,Ne=null,Le=0,Ke=0,mn=null,Ei=!1,xa=!1,pd=!1,zr=0,ut=0,Ti=0,Os=0,gd=0,xn=0,Da=0,ml=null,sn=null,yd=!1,_d=0,pc=1/0,gc=null,bi=null,jt=0,Ai=null,Na=null,Oa=0,vd=0,Ed=null,u_=null,pl=0,Td=null;function pn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if($.T!==null){var t=va;return t!==0?t:Cd()}return ii()}function c_(){xn===0&&(xn=(Le&536870912)===0||Be?So():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),xn}function gn(t,r,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ma(t,0),Si(t,Le,xn,!1)),_r(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Os|=a),ut===4&&Si(t,Le,xn,!1)),ar(t))}function h_(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||is(t,r),h=l?DA(t,r):Sd(t,r,!0),d=l;do{if(h===0){xa&&!l&&Si(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!CA(a)){h=Sd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=ml;var I=T.current.memoizedState.isDehydrated;if(I&&(Ma(T,v).flags|=256),v=Sd(T,v,!1),v!==2){if(pd&&!I){T.errorRecoveryDisabledLanes|=d,Os|=d,h=4;break e}d=sn,sn=h,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ma(t,0),Si(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Si(l,r,xn,!Ei);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=_d+300-_n(),10<h)){if(Si(l,r,xn,!Ei),Xs(l,0,!0)!==0)break e;l.timeoutHandle=z_(f_.bind(null,l,a,sn,gc,yd,r,xn,Os,Da,Ei,d,2,-0,0),h);break e}f_(l,a,sn,gc,yd,r,xn,Os,Da,Ei,d,0,-0,0)}}break}while(!0);ar(t)}function f_(t,r,a,l,h,d,v,T,I,B,X,J,H,F){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:uS},s_(r),J=hS(),J!==null)){t.cancelPendingCommit=J(v_.bind(null,t,r,d,a,l,h,v,T,I,X,1,H,F)),Si(t,d,v,!B);return}v_(t,r,d,a,l,h,v,T,I)}function CA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Si(t,r,a,l){r&=~gd,r&=~Os,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Ft(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Gn(t,a,r)}function yc(){return(Ge&6)===0?(gl(0),!1):!0}function bd(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Or=Rs=null,jf(t),wa=null,al=0,t=Ne;for(;t!==null;)Gy(t.alternate,t),t=t.return;Ne=null}}function Ma(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,KA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),bd(),Je=t,Ne=a=xr(t.current,null),Le=r,Ke=0,mn=null,Ei=!1,xa=is(t,r),pd=!1,Da=xn=gd=Os=Ti=ut=0,sn=ml=null,yd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Ft(l),d=1<<h;r|=t[h],l&=~d}return zr=r,ju(),a}function d_(t,r){Ie=null,$.H=ic,r===Wo||r===Yu?(r=Dg(),Ke=3):r===Ig?(r=Dg(),Ke=4):Ke=r===Ny?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,mn=r,Ne===null&&(ut=1,uc(t,Sn(r,t.current)))}function m_(){var t=$.H;return $.H=ic,t===null?ic:t}function p_(){var t=$.A;return $.A=RA,t}function Ad(){ut=4,Ei||(Le&4194048)!==Le&&Cn.current!==null||(xa=!0),(Ti&134217727)===0&&(Os&134217727)===0||Je===null||Si(Je,Le,xn,!1)}function Sd(t,r,a){var l=Ge;Ge|=2;var h=m_(),d=p_();(Je!==t||Le!==r)&&(gc=null,Ma(t,r)),r=!1;var v=ut;e:do try{if(Ke!==0&&Ne!==null){var T=Ne,I=mn;switch(Ke){case 8:bd(),v=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(r=!0);var B=Ke;if(Ke=0,mn=null,ka(t,T,I,B),a&&xa){v=0;break e}break;default:B=Ke,Ke=0,mn=null,ka(t,T,I,B)}}xA(),v=ut;break}catch(X){d_(t,X)}while(!0);return r&&t.shellSuspendCounter++,Or=Rs=null,Ge=l,$.H=h,$.A=d,Ne===null&&(Je=null,Le=0,ju()),v}function xA(){for(;Ne!==null;)g_(Ne)}function DA(t,r){var a=Ge;Ge|=2;var l=m_(),h=p_();Je!==t||Le!==r?(gc=null,pc=_n()+500,Ma(t,r)):xa=is(t,r);e:do try{if(Ke!==0&&Ne!==null){r=Ne;var d=mn;t:switch(Ke){case 1:Ke=0,mn=null,ka(t,r,d,1);break;case 2:case 9:if(Cg(d)){Ke=0,mn=null,y_(r);break}r=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),ar(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Cg(d)?(Ke=0,mn=null,y_(r)):(Ke=0,mn=null,ka(t,r,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(!v||Z_(v)){Ke=0,mn=null;var I=T.sibling;if(I!==null)Ne=I;else{var B=T.return;B!==null?(Ne=B,_c(B)):Ne=null}break t}}Ke=0,mn=null,ka(t,r,d,5);break;case 6:Ke=0,mn=null,ka(t,r,d,6);break;case 8:bd(),ut=6;break e;default:throw Error(s(462))}}NA();break}catch(X){d_(t,X)}while(!0);return Or=Rs=null,$.H=l,$.A=h,Ge=a,Ne!==null?0:(Je=null,Le=0,ju(),ut)}function NA(){for(;Ne!==null&&!Eo();)g_(Ne)}function g_(t){var r=Hy(t.alternate,t,zr);t.memoizedProps=t.pendingProps,r===null?_c(t):Ne=r}function y_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Ly(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Ly(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:jf(r);default:Gy(a,r),r=Ne=_g(r,zr),r=Hy(a,r,zr)}t.memoizedProps=t.pendingProps,r===null?_c(t):Ne=r}function ka(t,r,a,l){Or=Rs=null,jf(r),wa=null,al=0;var h=r.return;try{if(EA(t,h,r,a,Le)){ut=1,uc(t,Sn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ut=1,uc(t,Sn(a,t.current)),Ne=null;return}r.flags&32768?(Be||l===1?t=!0:xa||(Le&536870912)!==0?t=!1:(Ei=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),__(r,t)):_c(r)}function _c(t){var r=t;do{if((r.flags&32768)!==0){__(r,Ei);return}t=r.return;var a=bA(r.alternate,r,zr);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);ut===0&&(ut=5)}function __(t,r){do{var a=AA(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ut=6,Ne=null}function v_(t,r,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do vc();while(jt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=mf,Ro(t,a,d,v,T,I),t===Je&&(Ne=Je=null,Le=0),Na=r,Ai=t,Oa=a,vd=d,Ed=h,u_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,VA(es,function(){return S_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ae.p,ae.p=2,v=Ge,Ge|=4;try{SA(t,r,a)}finally{Ge=v,ae.p=h,$.T=l}}jt=1,E_(),T_(),b_()}}function E_(){if(jt===1){jt=0;var t=Ai,r=Na,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{n_(r,t);var d=Pd,v=lg(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&og(T.ownerDocument.documentElement,T)){if(I!==null&&uf(T)){var B=I.start,X=I.end;if(X===void 0&&(X=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(X,T.value.length);else{var J=T.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var F=H.getSelection(),Te=T.textContent.length,ye=Math.min(I.start,Te),Xe=I.end===void 0?ye:Math.min(I.end,Te);!F.extend&&ye>Xe&&(v=Xe,Xe=ye,ye=v);var L=ag(T,ye),M=ag(T,Xe);if(L&&M&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var z=J.createRange();z.setStart(L.node,L.offset),F.removeAllRanges(),ye>Xe?(F.addRange(z),F.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),F.addRange(z))}}}}for(J=[],F=T;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Nc=!!Vd,Pd=Vd=null}finally{Ge=h,ae.p=l,$.T=a}}t.current=r,jt=2}}function T_(){if(jt===2){jt=0;var t=Ai,r=Na,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Zy(t,r.alternate,r)}finally{Ge=h,ae.p=l,$.T=a}}jt=3}}function b_(){if(jt===4||jt===3){jt=0,mu();var t=Ai,r=Na,a=Oa,l=u_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,Na=Ai=null,A_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(bi=null),Ws(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ot,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,h=ae.p,ae.p=2,$.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{$.T=r,ae.p=h}}(Oa&3)!==0&&vc(),ar(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Td?pl++:(pl=0,Td=t):pl=0,gl(0)}}function A_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,$o(r)))}function vc(t){return E_(),T_(),b_(),S_()}function S_(){if(jt!==5)return!1;var t=Ai,r=vd;vd=0;var a=Ws(Oa),l=$.T,h=ae.p;try{ae.p=32>a?32:a,$.T=null,a=Ed,Ed=null;var d=Ai,v=Oa;if(jt=0,Na=Ai=null,Oa=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,o_(d.current),i_(d,d.current,v,a),Ge=T,gl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{ae.p=h,$.T=l,A_(t,r)}}function w_(t,r,a){r=Sn(a,r),r=Jf(t.stateNode,r,2),t=di(t,r,2),t!==null&&(_r(t,2),ar(t))}function We(t,r,a){if(t.tag===3)w_(t,t,a);else for(;r!==null;){if(r.tag===3){w_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(bi===null||!bi.has(l))){t=Sn(a,t),a=xy(2),l=di(r,a,2),l!==null&&(Dy(a,l,r,t),_r(l,2),ar(l));break}}r=r.return}}function wd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new IA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(pd=!0,h.add(a),t=OA.bind(null,t,r,a),r.then(t,t))}function OA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Le&a)===a&&(ut===4||ut===3&&(Le&62914560)===Le&&300>_n()-_d?(Ge&2)===0&&Ma(t,0):gd|=a,Da===Le&&(Da=0)),ar(t)}function R_(t,r){r===0&&(r=wo()),t=pa(t,r),t!==null&&(_r(t,r),ar(t))}function MA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),R_(t,a)}function kA(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),R_(t,a)}function VA(t,r){return Zi(t,r)}var Ec=null,Va=null,Rd=!1,Tc=!1,Id=!1,Ms=0;function ar(t){t!==Va&&t.next===null&&(Va===null?Ec=Va=t:Va=Va.next=t),Tc=!0,Rd||(Rd=!0,LA())}function gl(t,r){if(!Id&&Tc){Id=!0;do for(var a=!1,l=Ec;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ft(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,D_(l,d))}else d=Le,d=Xs(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||is(l,d)||(a=!0,D_(l,d));l=l.next}while(a);Id=!1}}function PA(){I_()}function I_(){Tc=Rd=!1;var t=0;Ms!==0&&(GA()&&(t=Ms),Ms=0);for(var r=_n(),a=null,l=Ec;l!==null;){var h=l.next,d=C_(l,r);d===0?(l.next=null,a===null?Ec=h:a.next=h,h===null&&(Va=a)):(a=l,(t!==0||(d&3)!==0)&&(Tc=!0)),l=h}gl(t)}function C_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Ft(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Ao(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=Je,a=Le,a=Xs(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ji(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||is(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Ji(l),Ws(a)){case 2:case 8:a=Ys;break;case 32:a=es;break;case 268435456:a=$s;break;default:a=es}return l=x_.bind(null,t),a=Zi(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Ji(l),t.callbackPriority=2,t.callbackNode=null,2}function x_(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vc()&&t.callbackNode!==a)return null;var l=Le;return l=Xs(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(h_(t,l,r),C_(t,_n()),t.callbackNode!=null&&t.callbackNode===a?x_.bind(null,t):null)}function D_(t,r){if(vc())return null;h_(t,r,!0)}function LA(){QA(function(){(Ge&6)!==0?Zi(To,PA):I_()})}function Cd(){return Ms===0&&(Ms=So()),Ms}function N_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ra(""+t)}function O_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function UA(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=N_((h[mt]||null).action),v=l.submitter;v&&(r=(r=v[mt]||null)?N_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new ia("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var I=v?O_(h,v):new FormData(h);Yf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?O_(h,v):new FormData(h),Yf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var xd=0;xd<df.length;xd++){var Dd=df[xd],jA=Dd.toLowerCase(),zA=Dd[0].toUpperCase()+Dd.slice(1);Pn(jA,"on"+zA)}Pn(hg,"onAnimationEnd"),Pn(fg,"onAnimationIteration"),Pn(dg,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(rA,"onTransitionRun"),Pn(iA,"onTransitionStart"),Pn(sA,"onTransitionCancel"),Pn(mg,"onTransitionEnd"),Er("onMouseEnter",["mouseout","mouseover"]),Er("onMouseLeave",["mouseout","mouseover"]),Er("onPointerEnter",["pointerout","pointerover"]),Er("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function M_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(X){lc(X)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(X){lc(X)}h.currentTarget=null,d=I}}}}function Oe(t,r){var a=r[Co];a===void 0&&(a=r[Co]=new Set);var l=t+"__bubble";a.has(l)||(k_(r,t,2,!1),a.add(l))}function Nd(t,r,a){var l=0;r&&(l|=4),k_(a,t,l,r)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Od(t){if(!t[bc]){t[bc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(BA.has(a)||Nd(a,!1,t),Nd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[bc]||(r[bc]=!0,Nd("selectionchange",!1,r))}}function k_(t,r,a,l){switch(iv(r)){case 2:var h=mS;break;case 8:h=pS;break;default:h=Kd}a=h.bind(null,r,a,t),h=void 0,!bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Md(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=vr(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Su(function(){var B=d,X=Tn(a),J=[];e:{var H=pg.get(t);if(H!==void 0){var F=ia,Te=t;switch(t){case"keypress":if(Wn(a)===0)break e;case"keydown":case"keyup":F=ca;break;case"focusin":Te="focus",F=oa;break;case"focusout":Te="blur",F=oa;break;case"beforeblur":case"afterblur":F=oa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Ou;break;case hg:case fg:case dg:F=la;break;case mg:F=ku;break;case"scroll":case"scrollend":F=wu;break;case"wheel":F=ha;break;case"copy":case"cut":case"paste":F=ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Bo;break;case"toggle":case"beforetoggle":F=Pu}var ye=(r&4)!==0,Xe=!ye&&(t==="scroll"||t==="scrollend"),L=ye?H!==null?H+"Capture":null:H;ye=[];for(var M=B,z;M!==null;){var Z=M;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||L===null||(Z=fs(M,L),Z!=null&&ye.push(_l(M,Z,z))),Xe)break;M=M.return}0<ye.length&&(H=new F(H,Te,null,a,X),J.push({event:H,listeners:ye}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Ar&&(Te=a.relatedTarget||a.fromElement)&&(vr(Te)||Te[vn]))break e;if((F||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Te=a.relatedTarget||a.toElement,F=B,Te=Te?vr(Te):null,Te!==null&&(Xe=u(Te),ye=Te.tag,Te!==Xe||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(F=null,Te=B),F!==Te)){if(ye=An,Z="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Bo,Z="onPointerLeave",L="onPointerEnter",M="pointer"),Xe=F==null?H:Qn(F),z=Te==null?H:Qn(Te),H=new ye(Z,M+"leave",F,a,X),H.target=Xe,H.relatedTarget=z,Z=null,vr(X)===B&&(ye=new ye(L,M+"enter",Te,a,X),ye.target=z,ye.relatedTarget=Xe,Z=ye),Xe=Z,F&&Te)t:{for(ye=F,L=Te,M=0,z=ye;z;z=Pa(z))M++;for(z=0,Z=L;Z;Z=Pa(Z))z++;for(;0<M-z;)ye=Pa(ye),M--;for(;0<z-M;)L=Pa(L),z--;for(;M--;){if(ye===L||L!==null&&ye===L.alternate)break t;ye=Pa(ye),L=Pa(L)}ye=null}else ye=null;F!==null&&V_(J,H,F,ye,!1),Te!==null&&Xe!==null&&V_(J,Xe,Te,ye,!0)}}e:{if(H=B?Qn(B):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var ce=eg;else if(bt(H))if(tg)ce=eA;else{ce=Zb;var De=Wb}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&ko(B.elementType)&&(ce=eg):ce=Jb;if(ce&&(ce=ce(t,B))){Cr(J,ce,a,X);break e}De&&De(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&li(H,"number",H.value)}switch(De=B?Qn(B):window,t){case"focusin":(bt(De)||De.contentEditable==="true")&&(fa=De,cf=B,Fo=null);break;case"focusout":Fo=cf=fa=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,ug(J,a,X);break;case"selectionchange":if(nA)break;case"keydown":case"keyup":ug(J,a,X)}var fe;if(er)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ve?K(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Ve||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ve&&(fe=Po()):(Xn=X,ui="value"in Xn?Xn.value:Xn.textContent,Ve=!0)),De=Ac(B,ve),0<De.length&&(ve=new jo(ve,t,null,a,X),J.push({event:ve,listeners:De}),fe?ve.data=fe:(fe=se(a),fe!==null&&(ve.data=fe)))),(fe=g?Tt(t,a):Pe(t,a))&&(ve=Ac(B,"onBeforeInput"),0<ve.length&&(De=new jo("onBeforeInput","beforeinput",null,a,X),J.push({event:De,listeners:ve}),De.data=fe)),UA(J,t,B,a,X)}M_(J,r)})}function _l(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Ac(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=fs(t,a),h!=null&&l.unshift(_l(t,h,d)),h=fs(t,r),h!=null&&l.push(_l(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Pa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function V_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=fs(a,d),B!=null&&v.unshift(_l(a,B,I))):h||(B=fs(a,d),B!=null&&v.push(_l(a,B,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var qA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function P_(t){return(typeof t=="string"?t:""+t).replace(qA,`
`).replace(HA,"")}function L_(t,r){return r=P_(r),P_(t)===r}function Sc(){}function $e(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&En(t,""+l);break;case"className":Yn(t,"class",l);break;case"tabIndex":Yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,a,l);break;case"style":Mo(t,l,d);break;case"data":if(r!=="object"){Yn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ra(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&$e(t,r,"name",h.name,h,null),$e(t,r,"formEncType",h.formEncType,h,null),$e(t,r,"formMethod",h.formMethod,h,null),$e(t,r,"formTarget",h.formTarget,h,null)):($e(t,r,"encType",h.encType,h,null),$e(t,r,"method",h.method,h,null),$e(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ra(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),oi(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":oi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nf.get(a)||a,oi(t,a,l))}}function kd(t,r,a,l,h,d){switch(a){case"style":Mo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):oi(t,a,l)}}}function zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,d,v,a,null)}}h&&$e(t,r,"srcSet",a.srcSet,a,null),l&&$e(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:$e(t,r,l,X,a,null)}}us(t,d,T,I,B,v,h,!1),na(t);return;case"select":Oe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$e(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?br(t,!!l,r,!1):a!=null&&br(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(t,r,v,T,a,null)}cs(t,l,h,d),na(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,r,I,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<yl.length;l++)Oe(yl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(t,r,B,l,a,null)}return;default:if(ko(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&kd(t,r,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(t,r,T,l,a,null))}function FA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,B=null,X=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(F)||$e(t,r,F,null,l,J)}}for(var H in l){var F=l[H];if(J=a[H],l.hasOwnProperty(H)&&(F!=null||J!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":X=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:F!==J&&$e(t,r,H,F,l,J)}}un(t,v,T,I,B,X,d,h);return;case"select":F=v=T=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||$e(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&$e(t,r,h,d,l,I)}r=T,a=v,l=F,H!=null?br(t,!!a,H,!1):!!l!=!!a&&(r!=null?br(t,!!a,r,!0):br(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,r,v,h,l,d)}Qe(t,H,F);return;case"option":for(var Te in a)if(H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:$e(t,r,Te,null,l,H)}for(I in l)if(H=l[I],F=a[I],l.hasOwnProperty(I)&&H!==F&&(H!=null||F!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:$e(t,r,I,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&$e(t,r,ye,null,l,H);for(B in l)if(H=l[B],F=a[B],l.hasOwnProperty(B)&&H!==F&&(H!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:$e(t,r,B,H,l,F)}return;default:if(ko(r)){for(var Xe in a)H=a[Xe],a.hasOwnProperty(Xe)&&H!==void 0&&!l.hasOwnProperty(Xe)&&kd(t,r,Xe,void 0,l,H);for(X in l)H=l[X],F=a[X],!l.hasOwnProperty(X)||H===F||H===void 0&&F===void 0||kd(t,r,X,H,l,F);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&$e(t,r,L,null,l,H);for(J in l)H=l[J],F=a[J],!l.hasOwnProperty(J)||H===F||H==null&&F==null||$e(t,r,J,H,l,F)}var Vd=null,Pd=null;function wc(t){return t.nodeType===9?t:t.ownerDocument}function U_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Ld(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ud=null;function GA(){var t=window.event;return t&&t.type==="popstate"?t===Ud?!1:(Ud=t,!0):(Ud=null,!1)}var z_=typeof setTimeout=="function"?setTimeout:void 0,KA=typeof clearTimeout=="function"?clearTimeout:void 0,B_=typeof Promise=="function"?Promise:void 0,QA=typeof queueMicrotask=="function"?queueMicrotask:typeof B_<"u"?function(t){return B_.resolve(null).then(t).catch(YA)}:z_;function YA(t){setTimeout(function(){throw t})}function wi(t){return t==="head"}function q_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&vl(v.documentElement),a&2&&vl(v.body),a&4)for(a=v.head,vl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[ss]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Il(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Il(r)}function jd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jd(a),ai(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function $A(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ss])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function XA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function WA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Bd=null;function H_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function F_(t,r,a){switch(r=wc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function vl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ai(t)}var Dn=new Map,G_=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Br=ae.d;ae.d={f:ZA,r:JA,D:eS,C:tS,L:nS,m:rS,X:sS,S:iS,M:aS};function ZA(){var t=Br.f(),r=yc();return t||r}function JA(t){var r=Kn(t);r!==null&&r.tag===5&&r.type==="form"?hy(r):Br.r(t)}var La=typeof document>"u"?null:document;function K_(t,r,a){var l=La;if(l&&typeof r=="string"&&r){var h=pt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),G_.has(h)||(G_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),zt(r,"link",t),ct(r),l.head.appendChild(r)))}}function eS(t){Br.D(t),K_("dns-prefetch",t,null)}function tS(t,r){Br.C(t,r),K_("preconnect",t,r)}function nS(t,r,a){Br.L(t,r,a);var l=La;if(l&&t&&r){var h='link[rel="preload"][as="'+pt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(r){case"style":d=Ua(t);break;case"script":d=ja(t)}Dn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Dn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(El(d))||r==="script"&&l.querySelector(Tl(d))||(r=l.createElement("link"),zt(r,"link",t),ct(r),l.head.appendChild(r)))}}function rS(t,r){Br.m(t,r);var a=La;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ja(t)}if(!Dn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Dn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(d)))return}l=a.createElement("link"),zt(l,"link",t),ct(l),a.head.appendChild(l)}}}function iS(t,r,a){Br.S(t,r,a);var l=La;if(l&&t){var h=Wt(l).hoistableStyles,d=Ua(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(El(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Dn.get(d))&&qd(t,a);var I=v=l.createElement("link");ct(I),zt(I,"link",t),I._p=new Promise(function(B,X){I.onload=B,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ic(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function sS(t,r){Br.X(t,r);var a=La;if(a&&t){var l=Wt(a).hoistableScripts,h=ja(t),d=l.get(h);d||(d=a.querySelector(Tl(h)),d||(t=E({src:t,async:!0},r),(r=Dn.get(h))&&Hd(t,r),d=a.createElement("script"),ct(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function aS(t,r){Br.M(t,r);var a=La;if(a&&t){var l=Wt(a).hoistableScripts,h=ja(t),d=l.get(h);d||(d=a.querySelector(Tl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Dn.get(h))&&Hd(t,r),d=a.createElement("script"),ct(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Q_(t,r,a,l){var h=(h=be.current)?Rc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ua(a.href),a=Wt(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ua(a.href);var d=Wt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(El(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),d||oS(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ja(a),a=Wt(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ua(t){return'href="'+pt(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function Y_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function oS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),zt(r,"link",a),ct(r),t.head.appendChild(r))}function ja(t){return'[src="'+pt(t)+'"]'}function Tl(t){return"script[async]"+t}function $_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return r.instance=l,ct(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),zt(l,"style",h),Ic(l,a.precedence,t),r.instance=l;case"stylesheet":h=Ua(a.href);var d=t.querySelector(El(h));if(d)return r.state.loading|=4,r.instance=d,ct(d),d;l=Y_(a),(h=Dn.get(h))&&qd(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",l),r.state.loading|=4,Ic(d,a.precedence,t),r.instance=d;case"script":return d=ja(a.src),(h=t.querySelector(Tl(d)))?(r.instance=h,ct(h),h):(l=a,(h=Dn.get(d))&&(l=E({},a),Hd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),zt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Ic(l,a.precedence,t));return r.instance}function Ic(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function qd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Hd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Cc=null;function X_(t,r,a){if(Cc===null){var l=new Map,h=Cc=new Map;h.set(a,l)}else h=Cc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ss]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function W_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function lS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Z_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function uS(){}function cS(t,r,a){if(bl===null)throw Error(s(475));var l=bl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ua(a.href),d=t.querySelector(El(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=xc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ct(d);return}d=t.ownerDocument||t,a=Y_(a),(h=Dn.get(h))&&qd(a,h),d=d.createElement("link"),ct(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=xc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function hS(){if(bl===null)throw Error(s(475));var t=bl;return t.stylesheets&&t.count===0&&Fd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Fd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function xc(){if(this.count--,this.count===0){if(this.stylesheets)Fd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function Fd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,r.forEach(fS,t),Dc=null,xc.call(t))}function fS(t,r){if(!(r.state.loading&4)){var a=Dc.get(t);if(a)var l=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Al={$$typeof:ne,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function dS(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yr(0),this.hiddenUpdates=yr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function J_(t,r,a,l,h,d,v,T,I,B,X,J){return t=new dS(t,r,a,v,T,I,B,J),r=1,d===!0&&(r|=24),d=hn(3,null,null,r),t.current=d,d.stateNode=t,r=wf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},xf(d),t}function ev(t){return t?(t=ga,t):ga}function tv(t,r,a,l,h,d){h=ev(h),l.context===null?l.context=h:l.pendingContext=h,l=fi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=di(t,l,r),a!==null&&(gn(a,t,r),Jo(a,t,r))}function nv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Gd(t,r){nv(t,r),(t=t.alternate)&&nv(t,r)}function rv(t){if(t.tag===13){var r=pa(t,67108864);r!==null&&gn(r,t,67108864),Gd(t,67108864)}}var Nc=!0;function mS(t,r,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=2,Kd(t,r,a,l)}finally{ae.p=d,$.T=h}}function pS(t,r,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=8,Kd(t,r,a,l)}finally{ae.p=d,$.T=h}}function Kd(t,r,a,l){if(Nc){var h=Qd(l);if(h===null)Md(t,r,l,Oc,a),sv(t,l);else if(yS(h,t,r,a,l))l.stopPropagation();else if(sv(t,l),r&4&&-1<gS.indexOf(t)){for(;h!==null;){var d=Kn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Mn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Ft(v);T.entanglements[1]|=I,v&=~I}ar(d),(Ge&6)===0&&(pc=_n()+500,gl(0))}}break;case 13:T=pa(d,2),T!==null&&gn(T,d,2),yc(),Gd(d,2)}if(d=Qd(l),d===null&&Md(t,r,l,Oc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Md(t,r,l,null,a)}}function Qd(t){return t=Tn(t),Yd(t)}var Oc=null;function Yd(t){if(Oc=null,t=vr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Oc=t,null}function iv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xh()){case To:return 2;case Ys:return 8;case es:case Wh:return 32;case $s:return 268435456;default:return 32}default:return 32}}var $d=!1,Ri=null,Ii=null,Ci=null,Sl=new Map,wl=new Map,xi=[],gS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sv(t,r){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":Sl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(r.pointerId)}}function Rl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Kn(r),r!==null&&rv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function yS(t,r,a,l,h){switch(r){case"focusin":return Ri=Rl(Ri,t,r,a,l,h),!0;case"dragenter":return Ii=Rl(Ii,t,r,a,l,h),!0;case"mouseover":return Ci=Rl(Ci,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,Rl(Sl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,Rl(wl.get(d)||null,t,r,a,l,h)),!0}return!1}function av(t){var r=vr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,yu(t.priority,function(){if(a.tag===13){var l=pn();l=ri(l);var h=pa(a,l);h!==null&&gn(h,a,l),Gd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ar=l,a.target.dispatchEvent(l),Ar=null}else return r=Kn(a),r!==null&&rv(r),t.blockedOn=a,!1;r.shift()}return!0}function ov(t,r,a){Mc(t)&&a.delete(r)}function _S(){$d=!1,Ri!==null&&Mc(Ri)&&(Ri=null),Ii!==null&&Mc(Ii)&&(Ii=null),Ci!==null&&Mc(Ci)&&(Ci=null),Sl.forEach(ov),wl.forEach(ov)}function kc(t,r){t.blockedOn===r&&(t.blockedOn=null,$d||($d=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_S)))}var Vc=null;function lv(t){Vc!==t&&(Vc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Yd(l||a)===null)continue;break}var d=Kn(a);d!==null&&(t.splice(r,3),r-=3,Yf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Il(t){function r(I){return kc(I,t)}Ri!==null&&kc(Ri,t),Ii!==null&&kc(Ii,t),Ci!==null&&kc(Ci,t),Sl.forEach(r),wl.forEach(r);for(var a=0;a<xi.length;a++){var l=xi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<xi.length&&(a=xi[0],a.blockedOn===null);)av(a),a.blockedOn===null&&xi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[mt]||null;if(typeof d=="function")v||lv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[mt]||null)T=v.formAction;else if(Yd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),lv(a)}}}function Xd(t){this._internalRoot=t}Pc.prototype.render=Xd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=pn();tv(a,l,t,r,null,null)},Pc.prototype.unmount=Xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;tv(t.current,2,null,t,null,null),yc(),r[vn]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var r=ii();t={blockedOn:null,target:t,priority:r};for(var a=0;a<xi.length&&r!==0&&r<xi[a].priority;a++);xi.splice(a,0,t),a===0&&av(t)}};var uv=e.version;if(uv!=="19.1.0")throw Error(s(527,uv,"19.1.0"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var vS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{ot=Lc.inject(vS),Fe=Lc}catch{}}return xl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=wy,d=Ry,v=Iy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=J_(t,1,!1,null,null,a,l,h,d,v,T,null),t[vn]=r.current,Od(t),new Xd(r)},xl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=wy,v=Ry,T=Iy,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),r=J_(t,1,!0,r,a??null,l,h,d,v,T,I,B),r.context=ev(null),a=r.current,l=pn(),l=ri(l),h=fi(l),h.callback=null,di(a,h,l),a=l,r.current.lanes=a,_r(r,a),ar(r),t[vn]=r.current,Od(t),new Pc(r)},xl.version="19.1.0",xl}var vv;function xS(){if(vv)return Jd.exports;vv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jd.exports=CS(),Jd.exports}var DS=xS(),Dl={},Ev;function NS(){if(Ev)return Dl;Ev=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=f,Dl.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,P){const D=new u,Q=S.length;if(Q<2)return D;const q=(P==null?void 0:P.decode)||E;let Y=0;do{const ie=S.indexOf("=",Y);if(ie===-1)break;const ne=S.indexOf(";",Y),me=ne===-1?Q:ne;if(ie>me){Y=S.lastIndexOf(";",ie-1)+1;continue}const he=m(S,Y,ie),we=p(S,ie,he),k=S.slice(he,we);if(D[k]===void 0){let w=m(S,ie+1,me),R=p(S,me,w);const O=q(S.slice(w,R));D[k]=O}Y=me+1}while(Y<Q);return D}function m(S,P,D){do{const Q=S.charCodeAt(P);if(Q!==32&&Q!==9)return P}while(++P<D);return D}function p(S,P,D){for(;P>D;){const Q=S.charCodeAt(--P);if(Q!==32&&Q!==9)return P+1}return D}function y(S,P,D){const Q=(D==null?void 0:D.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const q=Q(P);if(!e.test(q))throw new TypeError(`argument val is invalid: ${P}`);let Y=S+"="+q;if(!D)return Y;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);Y+="; Max-Age="+D.maxAge}if(D.domain){if(!n.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);Y+="; Domain="+D.domain}if(D.path){if(!s.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);Y+="; Path="+D.path}if(D.expires){if(!A(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);Y+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(Y+="; HttpOnly"),D.secure&&(Y+="; Secure"),D.partitioned&&(Y+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return Y}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function A(S){return o.call(S)==="[object Date]"}return Dl}NS();var Tv="popstate";function OS(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return vm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Hl(o)}return kS(e,n,null,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function fr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MS(){return Math.random().toString(36).substring(2,10)}function bv(i,e){return{usr:i.state,key:i.key,idx:e}}function vm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?lo(e):e,state:n,key:e&&e.key||s||MS()}}function Hl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function lo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function kS(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let q=E(),Y=q==null?null:q-y;y=q,p&&p({action:m,location:Q.location,delta:Y})}function S(q,Y){m="PUSH";let ie=vm(Q.location,q,Y);y=E()+1;let ne=bv(ie,y),me=Q.createHref(ie);try{f.pushState(ne,"",me)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(me)}u&&p&&p({action:m,location:Q.location,delta:1})}function P(q,Y){m="REPLACE";let ie=vm(Q.location,q,Y);y=E();let ne=bv(ie,y),me=Q.createHref(ie);f.replaceState(ne,"",me),u&&p&&p({action:m,location:Q.location,delta:0})}function D(q){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,ie=typeof q=="string"?q:Hl(q);return ie=ie.replace(/ $/,"%20"),it(Y,`No window.location.(origin|href) available to create URL for href: ${ie}`),new URL(ie,Y)}let Q={get action(){return m},get location(){return i(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Tv,A),p=q,()=>{o.removeEventListener(Tv,A),p=null}},createHref(q){return e(o,q)},createURL:D,encodeLocation(q){let Y=D(q);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:P,go(q){return f.go(q)}};return Q}function lE(i,e,n="/"){return VS(i,e,n,!1)}function VS(i,e,n,s){let o=typeof e=="string"?lo(e):e,u=Qr(o.pathname||"/",n);if(u==null)return null;let f=uE(i);PS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=QS(u);m=GS(f[p],y,s)}return m}function uE(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Gr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),uE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:HS(y,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of cE(u.path))o(u,f,p)}),e}function cE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=cE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function PS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:FS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var LS=/^:[\w-]+$/,US=3,jS=2,zS=1,BS=10,qS=-2,Av=i=>i==="*";function HS(i,e){let n=i.split("/"),s=n.length;return n.some(Av)&&(s+=qS),e&&(s+=jS),n.filter(o=>!Av(o)).reduce((o,u)=>o+(LS.test(u)?US:u===""?zS:BS),s)}function FS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function GS(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),S=p.route;if(!A&&y&&n&&!s[s.length-1].route.index&&(A=rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Gr([u,A.pathname]),pathnameBase:WS(Gr([u,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(u=Gr([u,A.pathnameBase]))}return f}function rh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=KS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:A},S)=>{if(E==="*"){let D=m[S]||"";f=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const P=m[S];return A&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function KS(i,e=!1,n=!0){fr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function QS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Qr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function YS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?lo(i):i;return{pathname:n?n.startsWith("/")?n:$S(n,e):e,search:ZS(s),hash:JS(o)}}function $S(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function rm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hE(i){let e=XS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function fE(i,e,n,s=!1){let o;typeof i=="string"?o=lo(i):(o={...i},it(!o.pathname||!o.pathname.includes("?"),rm("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),rm("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),rm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),A-=1;o.pathname=S.join("/")}m=A>=0?e[A]:"/"}let p=YS(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Gr=i=>i.join("/").replace(/\/\/+/g,"/"),WS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),ZS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,JS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ew(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var dE=["POST","PUT","PATCH","DELETE"];new Set(dE);var tw=["GET",...dE];new Set(tw);var uo=G.createContext(null);uo.displayName="DataRouter";var Ah=G.createContext(null);Ah.displayName="DataRouterState";var mE=G.createContext({isTransitioning:!1});mE.displayName="ViewTransition";var nw=G.createContext(new Map);nw.displayName="Fetchers";var rw=G.createContext(null);rw.displayName="Await";var pr=G.createContext(null);pr.displayName="Navigation";var tu=G.createContext(null);tu.displayName="Location";var Jr=G.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var Ym=G.createContext(null);Ym.displayName="RouteError";function iw(i,{relative:e}={}){it(nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(pr),{hash:o,pathname:u,search:f}=ru(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Gr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function nu(){return G.useContext(tu)!=null}function Bs(){return it(nu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(tu).location}var pE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gE(i){G.useContext(pr).static||G.useLayoutEffect(i)}function $m(){let{isDataRoute:i}=G.useContext(Jr);return i?yw():sw()}function sw(){it(nu(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(uo),{basename:e,navigator:n}=G.useContext(pr),{matches:s}=G.useContext(Jr),{pathname:o}=Bs(),u=JSON.stringify(hE(s)),f=G.useRef(!1);return gE(()=>{f.current=!0}),G.useCallback((p,y={})=>{if(fr(f.current,pE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=fE(p,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Gr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,i])}G.createContext(null);function ru(i,{relative:e}={}){let{matches:n}=G.useContext(Jr),{pathname:s}=Bs(),o=JSON.stringify(hE(n));return G.useMemo(()=>fE(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function aw(i,e){return yE(i,e)}function yE(i,e,n,s){var ie;it(nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(pr),{matches:f}=G.useContext(Jr),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let ne=A&&A.path||"";_E(y,!A||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let S=Bs(),P;if(e){let ne=typeof e=="string"?lo(e):e;it(E==="/"||((ie=ne.pathname)==null?void 0:ie.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),P=ne}else P=S;let D=P.pathname||"/",Q=D;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");Q="/"+D.replace(/^\//,"").split("/").slice(ne.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:lE(i,{pathname:Q});fr(A||q!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),fr(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=hw(q&&q.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:Gr([E,o.encodeLocation?o.encodeLocation(ne.pathname).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:Gr([E,o.encodeLocation?o.encodeLocation(ne.pathnameBase).pathname:ne.pathnameBase])})),f,n,s);return e&&Y?G.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},Y):Y}function ow(){let i=gw(),e=ew(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var lw=G.createElement(ow,null),uw=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?G.createElement(Jr.Provider,{value:this.props.routeContext},G.createElement(Ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cw({routeContext:i,match:e,children:n}){let s=G.useContext(uo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Jr.Provider,{value:i},n)}function hw(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:A}=n,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let A,S=!1,P=null,D=null;n&&(A=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||lw,f&&(m<0&&E===0?(_E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,D=null):m===E&&(S=!0,D=y.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),q=()=>{let Y;return A?Y=P:S?Y=D:y.route.Component?Y=G.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,G.createElement(cw,{match:y,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:Y})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?G.createElement(uw,{location:n.location,revalidation:n.revalidation,component:P,error:A,children:q(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):q()},null)}function Xm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fw(i){let e=G.useContext(uo);return it(e,Xm(i)),e}function dw(i){let e=G.useContext(Ah);return it(e,Xm(i)),e}function mw(i){let e=G.useContext(Jr);return it(e,Xm(i)),e}function Wm(i){let e=mw(i),n=e.matches[e.matches.length-1];return it(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function pw(){return Wm("useRouteId")}function gw(){var s;let i=G.useContext(Ym),e=dw("useRouteError"),n=Wm("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function yw(){let{router:i}=fw("useNavigate"),e=Wm("useNavigate"),n=G.useRef(!1);return gE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{fr(n.current,pE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Sv={};function _E(i,e,n){!e&&!Sv[i]&&(Sv[i]=!0,fr(!1,n))}G.memo(_w);function _w({routes:i,future:e,state:n}){return yE(i,void 0,n,e)}function za(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){it(!nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=lo(n));let{pathname:p="/",search:y="",hash:E="",state:A=null,key:S="default"}=n,P=G.useMemo(()=>{let D=Qr(p,f);return D==null?null:{location:{pathname:D,search:y,hash:E,state:A,key:S},navigationType:s}},[f,p,y,E,A,S,s]);return fr(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:G.createElement(pr.Provider,{value:m},G.createElement(tu.Provider,{children:e,value:P}))}function Ew({children:i,location:e}){return aw(Em(i),e)}function Em(i,e=[]){let n=[];return G.Children.forEach(i,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,Em(s.props.children,u));return}it(s.type===za,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Em(s.props.children,u)),n.push(f)}),n}var Gc="get",Kc="application/x-www-form-urlencoded";function Sh(i){return i!=null&&typeof i.tagName=="string"}function Tw(i){return Sh(i)&&i.tagName.toLowerCase()==="button"}function bw(i){return Sh(i)&&i.tagName.toLowerCase()==="form"}function Aw(i){return Sh(i)&&i.tagName.toLowerCase()==="input"}function Sw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ww(i,e){return i.button===0&&(!e||e==="_self")&&!Sw(i)}var Uc=null;function Rw(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var Iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function im(i){return i!=null&&!Iw.has(i)?(fr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):i}function Cw(i,e){let n,s,o,u,f;if(bw(i)){let m=i.getAttribute("action");s=m?Qr(m,e):null,n=i.getAttribute("method")||Gc,o=im(i.getAttribute("enctype"))||Kc,u=new FormData(i)}else if(Tw(i)||Aw(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Qr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Gc,o=im(i.getAttribute("formenctype"))||im(m.getAttribute("enctype"))||Kc,u=new FormData(m,i),!Rw()){let{name:y,type:E,value:A}=i;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,A)}}else{if(Sh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gc,s=null,o=Kc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Zm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function xw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Nw(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await xw(u,n);return f.links?f.links():[]}return[]}));return Vw(s.flat(1).filter(Dw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wv(i,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Ow(i,e,{includeHydrateFallback:n}={}){return Mw(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Mw(i){return[...new Set(i)]}function kw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Vw(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(kw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var Pw=new Set([100,101,204,205]);function Lw(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&Qr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function vE(){let i=G.useContext(uo);return Zm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Uw(){let i=G.useContext(Ah);return Zm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Jm=G.createContext(void 0);Jm.displayName="FrameworkContext";function EE(){let i=G.useContext(Jm);return Zm(i,"You must render this element inside a <HydratedRouter> element"),i}function jw(i,e){let n=G.useContext(Jm),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=e,S=G.useRef(null);G.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Q=Y=>{Y.forEach(ie=>{f(ie.isIntersecting)})},q=new IntersectionObserver(Q,{threshold:.5});return S.current&&q.observe(S.current),()=>{q.disconnect()}}},[i]),G.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let P=()=>{o(!0)},D=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Nl(m,P),onBlur:Nl(p,D),onMouseEnter:Nl(y,P),onMouseLeave:Nl(E,D),onTouchStart:Nl(A,P)}]:[!1,S,{}]}function Nl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function zw({page:i,...e}){let{router:n}=vE(),s=G.useMemo(()=>lE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?G.createElement(qw,{page:i,matches:s,...e}):null}function Bw(i){let{manifest:e,routeModules:n}=EE(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return Nw(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function qw({page:i,matches:e,...n}){let s=Bs(),{manifest:o,routeModules:u}=EE(),{basename:f}=vE(),{loaderData:m,matches:p}=Uw(),y=G.useMemo(()=>wv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=G.useMemo(()=>wv(i,e,p,o,s,"assets"),[i,e,p,o,s]),A=G.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let D=new Set,Q=!1;if(e.forEach(Y=>{var ne;let ie=o.routes[Y.route.id];!ie||!ie.hasLoader||(!y.some(me=>me.route.id===Y.route.id)&&Y.route.id in m&&((ne=u[Y.route.id])!=null&&ne.shouldRevalidate)||ie.hasClientLoader?Q=!0:D.add(Y.route.id))}),D.size===0)return[];let q=Lw(i,f);return Q&&D.size>0&&q.searchParams.set("_routes",e.filter(Y=>D.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,y,e,i,u]),S=G.useMemo(()=>Ow(E,o),[E,o]),P=Bw(E);return G.createElement(G.Fragment,null,A.map(D=>G.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),S.map(D=>G.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),P.map(({key:D,link:Q})=>G.createElement("link",{key:D,...Q})))}function Hw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var TE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TE&&(window.__reactRouterVersion="7.5.3")}catch{}function Fw({basename:i,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=OS({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(vw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var bE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,or=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:A,...S},P){let{basename:D}=G.useContext(pr),Q=typeof y=="string"&&bE.test(y),q,Y=!1;if(typeof y=="string"&&Q&&(q=y,TE))try{let R=new URL(window.location.href),O=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=Qr(O.pathname,D);O.origin===R.origin&&V!=null?y=V+O.search+O.hash:Y=!0}catch{fr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=iw(y,{relative:o}),[ne,me,he]=jw(s,S),we=Yw(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function k(R){e&&e(R),R.defaultPrevented||we(R)}let w=G.createElement("a",{...S,...he,href:q||ie,onClick:Y||u?e:k,ref:Hw(P,me),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return ne&&!Q?G.createElement(G.Fragment,null,w,G.createElement(zw,{page:ie})):w});or.displayName="Link";var Gw=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let A=ru(f,{relative:y.relative}),S=Bs(),P=G.useContext(Ah),{navigator:D,basename:Q}=G.useContext(pr),q=P!=null&&Jw(A)&&m===!0,Y=D.encodeLocation?D.encodeLocation(A).pathname:A.pathname,ie=S.pathname,ne=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),ne=ne?ne.toLowerCase():null,Y=Y.toLowerCase()),ne&&Q&&(ne=Qr(ne,Q)||ne);const me=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let he=ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(me)==="/",we=ne!=null&&(ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(Y.length)==="/"),k={isActive:he,isPending:we,isTransitioning:q},w=he?e:void 0,R;typeof s=="function"?R=s(k):R=[s,he?"active":null,we?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(k):u;return G.createElement(or,{...y,"aria-current":w,className:R,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(k):p)});Gw.displayName="NavLink";var Kw=G.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Gc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:A,...S},P)=>{let D=Ww(),Q=Zw(m,{relative:y}),q=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&bE.test(m),ie=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let me=ne.nativeEvent.submitter,he=(me==null?void 0:me.getAttribute("formmethod"))||f;D(me||ne.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:A})};return G.createElement("form",{ref:P,method:q,action:Q,onSubmit:s?p:ie,...S,"data-discover":!Y&&i==="render"?"true":void 0})});Kw.displayName="Form";function Qw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AE(i){let e=G.useContext(uo);return it(e,Qw(i)),e}function Yw(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=$m(),p=Bs(),y=ru(i,{relative:u});return G.useCallback(E=>{if(ww(E,e)){E.preventDefault();let A=n!==void 0?n:Hl(p)===Hl(y);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,i,o,u,f])}var $w=0,Xw=()=>`__${String(++$w)}__`;function Ww(){let{router:i}=AE("useSubmit"),{basename:e}=G.useContext(pr),n=pw();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=Cw(s,e);if(o.navigate===!1){let E=o.fetcherKey||Xw();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function Zw(i,{relative:e}={}){let{basename:n}=G.useContext(pr),s=G.useContext(Jr);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ru(i||".",{relative:e})},f=Bs();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Gr([n,u.pathname])),Hl(u)}function Jw(i,e={}){let n=G.useContext(mE);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=AE("useViewTransitionState"),o=ru(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Qr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Qr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return rh(o.pathname,f)!=null||rh(o.pathname,u)!=null}new TextEncoder;[...Pw];const eR="/assets/logo-grapas-y-puntillas-el-caballo-CG3dhsR1.png",tR=()=>{};var Rv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},wE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,P=y&63;p||(P=64,f||(S=64)),s.push(n[E],n[A],n[S],n[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(SE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):nR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new rR;const S=u<<2|m>>4;if(s.push(S),y!==64){const P=m<<4&240|y>>2;if(s.push(P),A!==64){const D=y<<6&192|A;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class rR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iR=function(i){const e=SE(i);return wE.encodeByteArray(e,!0)},ih=function(i){return iR(i).replace(/\./g,"")},RE=function(i){try{return wE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=()=>sR().__FIREBASE_DEFAULTS__,oR=()=>{if(typeof process>"u"||typeof Rv>"u")return;const i=Rv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},lR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&RE(i[1]);return e&&JSON.parse(e)},wh=()=>{try{return tR()||aR()||oR()||lR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},IE=i=>{var e,n;return(n=(e=wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},uR=i=>{const e=IE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},CE=()=>{var i;return(i=wh())===null||i===void 0?void 0:i.config},xE=i=>{var e;return(e=wh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[ih(JSON.stringify(n)),ih(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function dR(){var i;const e=(i=wh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function gR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yR(){const i=Xt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function _R(){return!dR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vR(){try{return typeof indexedDB=="object"}catch{return!1}}function ER(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="FirebaseError";class ei extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=TR,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?bR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ei(o,m,s)}}function bR(i,e){return i.replace(AR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const AR=/\{\$([^}]+)}/g;function SR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ls(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Iv(u)&&Iv(f)){if(!Ls(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Iv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ol(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ml(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function wR(i,e){const n=new RR(i,e);return n.subscribe.bind(n)}class RR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");IR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=sm),o.error===void 0&&(o.error=sm),o.complete===void 0&&(o.complete=sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(i){return i&&i._delegate?i._delegate:i}class Us{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new cR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DR(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xR(i){return i===ks?void 0:i}function DR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const OR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},MR=Me.INFO,kR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},VR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=kR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ep{constructor(e){this.name=e,this._logLevel=MR,this._logHandler=VR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const PR=(i,e)=>e.some(n=>i instanceof n);let Cv,xv;function LR(){return Cv||(Cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UR(){return xv||(xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DE=new WeakMap,Tm=new WeakMap,NE=new WeakMap,am=new WeakMap,tp=new WeakMap;function jR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Pi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&DE.set(n,i)}).catch(()=>{}),tp.set(e,i),e}function zR(i){if(Tm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Tm.set(i,e)}let bm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Tm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||NE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function BR(i){bm=i(bm)}function qR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(om(this),e,...n);return NE.set(s,e.sort?e.sort():[e]),Pi(s)}:UR().includes(i)?function(...e){return i.apply(om(this),e),Pi(DE.get(this))}:function(...e){return Pi(i.apply(om(this),e))}}function HR(i){return typeof i=="function"?qR(i):(i instanceof IDBTransaction&&zR(i),PR(i,LR())?new Proxy(i,bm):i)}function Pi(i){if(i instanceof IDBRequest)return jR(i);if(am.has(i))return am.get(i);const e=HR(i);return e!==i&&(am.set(i,e),tp.set(e,i)),e}const om=i=>tp.get(i);function FR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Pi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Pi(f.result),p.oldVersion,p.newVersion,Pi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const GR=["get","getKey","getAll","getAllKeys","count"],KR=["put","add","delete","clear"],lm=new Map;function Dv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=KR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return lm.set(e,u),u}BR(i=>({...i,get:(e,n,s)=>Dv(e,n)||i.get(e,n,s),has:(e,n)=>!!Dv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function YR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Am="@firebase/app",Nv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new ep("@firebase/app"),$R="@firebase/app-compat",XR="@firebase/analytics-compat",WR="@firebase/analytics",ZR="@firebase/app-check-compat",JR="@firebase/app-check",e1="@firebase/auth",t1="@firebase/auth-compat",n1="@firebase/database",r1="@firebase/data-connect",i1="@firebase/database-compat",s1="@firebase/functions",a1="@firebase/functions-compat",o1="@firebase/installations",l1="@firebase/installations-compat",u1="@firebase/messaging",c1="@firebase/messaging-compat",h1="@firebase/performance",f1="@firebase/performance-compat",d1="@firebase/remote-config",m1="@firebase/remote-config-compat",p1="@firebase/storage",g1="@firebase/storage-compat",y1="@firebase/firestore",_1="@firebase/vertexai",v1="@firebase/firestore-compat",E1="firebase",T1="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",b1={[Am]:"fire-core",[$R]:"fire-core-compat",[WR]:"fire-analytics",[XR]:"fire-analytics-compat",[JR]:"fire-app-check",[ZR]:"fire-app-check-compat",[e1]:"fire-auth",[t1]:"fire-auth-compat",[n1]:"fire-rtdb",[r1]:"fire-data-connect",[i1]:"fire-rtdb-compat",[s1]:"fire-fn",[a1]:"fire-fn-compat",[o1]:"fire-iid",[l1]:"fire-iid-compat",[u1]:"fire-fcm",[c1]:"fire-fcm-compat",[h1]:"fire-perf",[f1]:"fire-perf-compat",[d1]:"fire-rc",[m1]:"fire-rc-compat",[p1]:"fire-gcs",[g1]:"fire-gcs-compat",[y1]:"fire-fst",[v1]:"fire-fst-compat",[_1]:"fire-vertex","fire-js":"fire-js",[E1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Map,A1=new Map,wm=new Map;function Ov(i,e){try{i.container.addComponent(e)}catch(n){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Xa(i){const e=i.name;if(wm.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,i);for(const n of sh.values())Ov(n,i);for(const n of A1.values())Ov(n,i);return!0}function np(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Nn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new iu("app","Firebase",S1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=T1;function OE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Sm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Li.create("bad-app-name",{appName:String(o)});if(n||(n=CE()),!n)throw Li.create("no-options");const u=sh.get(o);if(u){if(Ls(n,u.options)&&Ls(s,u.config))return u;throw Li.create("duplicate-app",{appName:o})}const f=new NR(o);for(const p of wm.values())f.addComponent(p);const m=new w1(n,s,f);return sh.set(o,m),m}function ME(i=Sm){const e=sh.get(i);if(!e&&i===Sm&&CE())return OE();if(!e)throw Li.create("no-app",{appName:i});return e}function Ui(i,e,n){var s;let o=(s=b1[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(m.join(" "));return}Xa(new Us(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="firebase-heartbeat-database",I1=1,Fl="firebase-heartbeat-store";let um=null;function kE(){return um||(um=FR(R1,I1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Li.create("idb-open",{originalErrorMessage:i.message})})),um}async function C1(i){try{const n=(await kE()).transaction(Fl),s=await n.objectStore(Fl).get(VE(i));return await n.done,s}catch(e){if(e instanceof ei)Yr.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yr.warn(n.message)}}}async function Mv(i,e){try{const s=(await kE()).transaction(Fl,"readwrite");await s.objectStore(Fl).put(e,VE(i)),await s.done}catch(n){if(n instanceof ei)Yr.warn(n.message);else{const s=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yr.warn(s.message)}}}function VE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=1024,D1=30;class N1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=kv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>D1){const f=k1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Yr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kv(),{heartbeatsToSend:s,unsentEntries:o}=O1(this._heartbeatsCache.heartbeats),u=ih(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Yr.warn(n),""}}}function kv(){return new Date().toISOString().substring(0,10)}function O1(i,e=x1){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Vv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Vv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class M1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vR()?ER().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Vv(i){return ih(JSON.stringify({version:2,heartbeats:i})).length}function k1(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(i){Xa(new Us("platform-logger",e=>new QR(e),"PRIVATE")),Xa(new Us("heartbeat",e=>new N1(e),"PRIVATE")),Ui(Am,Nv,i),Ui(Am,Nv,"esm2017"),Ui("fire-js","")}V1("");var P1="firebase",L1="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui(P1,L1,"app");const U1={apiKey:"AIzaSyBQQrooNc559pqCZk0SwUiM-WeZl4h4ZRI",authDomain:"registro-herramientas-7fdb3.firebaseapp.com",projectId:"registro-herramientas-7fdb3",storageBucket:"registro-herramientas-7fdb3.firebasestorage.app",messagingSenderId:"468039295698",appId:"1:468039295698:web:52d79154a275a6bf9a430b"},Hn=OE(U1);function rp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function PE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j1=PE,LE=new iu("auth","Firebase",PE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new ep("@firebase/auth");function z1(i,...e){ah.logLevel<=Me.WARN&&ah.warn(`Auth (${co}): ${i}`,...e)}function Qc(i,...e){ah.logLevel<=Me.ERROR&&ah.error(`Auth (${co}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(i,...e){throw sp(i,...e)}function zn(i,...e){return sp(i,...e)}function ip(i,e,n){const s=Object.assign(Object.assign({},j1()),{[e]:n});return new iu("auth","Firebase",s).create(e,{appName:i.name})}function ji(i){return ip(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B1(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&On(i,"argument-error"),ip(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return LE.create(i,...e)}function _e(i,e,...n){if(!i)throw sp(e,...n)}function Hr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Qc(e),new Error(e)}function $r(i,e){i||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function q1(){return Pv()==="http:"||Pv()==="https:"}function Pv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q1()||pR()||"connection"in navigator)?navigator.onLine:!0}function F1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=fR()||gR()}get(){return H1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(i,e){$r(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q1=new au(3e4,6e4);function qs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Yi(i,e,n,s,o={}){return jE(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=su(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:p},u);return mR()||(y.referrerPolicy="no-referrer"),UE.fetch()(await zE(i,i.config.apiHost,n,m),y)})}async function jE(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},G1),e);try{const o=new $1(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw jc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw jc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw jc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ip(i,E,y);On(i,E)}}catch(o){if(o instanceof ei)throw o;On(i,"network-request-failed",{message:String(o)})}}async function Rh(i,e,n,s,o={}){const u=await Yi(i,e,n,s,o);return"mfaPendingCredential"in u&&On(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function zE(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?ap(i.config,o):`${i.config.apiScheme}://${o}`;return K1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Y1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(zn(this.auth,"network-request-failed")),Q1.get())})}}function jc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=zn(i,e,s);return o.customData._tokenResponse=n,o}function Lv(i){return i!==void 0&&i.enterprise!==void 0}class X1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Y1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function W1(i,e){return Yi(i,"GET","/v2/recaptchaConfig",qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(i,e){return Yi(i,"POST","/v1/accounts:delete",e)}async function oh(i,e){return Yi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J1(i,e=!1){const n=It(i),s=await n.getIdToken(e),o=op(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ul(cm(o.auth_time)),issuedAtTime:Ul(cm(o.iat)),expirationTime:Ul(cm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function cm(i){return Number(i)*1e3}function op(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=RE(n);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Uv(i){const e=op(i);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ei&&eI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function eI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await Gl(i,oh(n,{idToken:s}));_e(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?BE(u.providerUserInfo):[],m=rI(i.providerData,f),p=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Im(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,A)}async function nI(i){const e=It(i);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function BE(i){return i.map(e=>{var{providerId:n}=e,s=rp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(i,e){const n=await jE(i,{},async()=>{const s=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await zE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",UE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sI(i,e){return Yi(i,"POST","/v2/accounts:revokeToken",qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Uv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await iI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ga;return s&&(_e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(i,e){_e(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class jn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=rp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Im(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J1(this,e)}reload(){return nI(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(ji(this.auth));const e=await this.getIdToken();return await Gl(this,Z1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,D=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ie=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ne,emailVerified:me,isAnonymous:he,providerData:we,stsTokenManager:k}=n;_e(ne&&k,e,"internal-error");const w=Ga.fromJSON(this.name,k);_e(typeof ne=="string",e,"internal-error"),Ni(A,e.name),Ni(S,e.name),_e(typeof me=="boolean",e,"internal-error"),_e(typeof he=="boolean",e,"internal-error"),Ni(P,e.name),Ni(D,e.name),Ni(Q,e.name),Ni(q,e.name),Ni(Y,e.name),Ni(ie,e.name);const R=new jn({uid:ne,auth:e,email:S,emailVerified:me,displayName:A,isAnonymous:he,photoURL:D,phoneNumber:P,tenantId:Q,stsTokenManager:w,createdAt:Y,lastLoginAt:ie});return we&&Array.isArray(we)&&(R.providerData=we.map(O=>Object.assign({},O))),q&&(R._redirectEventId=q),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ga;o.updateFromServerResponse(n);const u=new jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await lh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?BE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ga;m.updateFromIdToken(s);const p=new jn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new Map;function Fr(i){$r(i instanceof Function,"Expected a class definition");let e=jv.get(i);return e?($r(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,jv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qE.type="NONE";const zv=qE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(i,e,n){return`firebase:${i}:${e}:${n}`}class Ka{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Yc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await oh(this.auth,{idToken:e}).catch(()=>{});return n?jn._fromGetAccountInfoResponse(this.auth,n,e):null}return jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ka(Fr(zv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Fr(zv);const f=Yc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let A;if(typeof E=="string"){const S=await oh(e,{idToken:E}).catch(()=>{});if(!S)break;A=await jn._fromGetAccountInfoResponse(e,S,E)}else A=jn._fromJSON(e,E);y!==u&&(m=A),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ka(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ka(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YE(e))return"Blackberry";if($E(e))return"Webos";if(FE(e))return"Safari";if((e.includes("chrome/")||GE(e))&&!e.includes("edge/"))return"Chrome";if(QE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function HE(i=Xt()){return/firefox\//i.test(i)}function FE(i=Xt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GE(i=Xt()){return/crios\//i.test(i)}function KE(i=Xt()){return/iemobile/i.test(i)}function QE(i=Xt()){return/android/i.test(i)}function YE(i=Xt()){return/blackberry/i.test(i)}function $E(i=Xt()){return/webos/i.test(i)}function lp(i=Xt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function aI(i=Xt()){var e;return lp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oI(){return yR()&&document.documentMode===10}function XE(i=Xt()){return lp(i)||QE(i)||$E(i)||YE(i)||/windows phone/i.test(i)||KE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(i,e=[]){let n;switch(i){case"Browser":n=Bv(Xt());break;case"Worker":n=`${Bv(Xt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(i,e={}){return Yi(i,"GET","/v2/passwordPolicy",qs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=6;class hI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:cI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qv(this),this.idTokenSubscription=new qv(this),this.beforeStateQueue=new lI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oh(this,{idToken:e}),s=await jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(ji(this));const n=e?It(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uI(this),n=new hI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await sI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&z1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Hs(i){return It(i)}class qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=wR(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dI(i){Ih=i}function ZE(i){return Ih.loadJS(i)}function mI(){return Ih.recaptchaEnterpriseScript}function pI(){return Ih.gapiScript}function gI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class yI{constructor(){this.enterprise=new _I}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _I{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const vI="recaptcha-enterprise",JE="NO_RECAPTCHA";class EI{constructor(e){this.type=vI,this.auth=Hs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{W1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new X1(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Lv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(JE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Lv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=mI();p.length!==0&&(p+=m),ZE(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Hv(i,e,n,s=!1,o=!1){const u=new EI(i);let f;if(o)f=JE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Fv(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Hv(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Hv(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(i,e){const n=np(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ls(u,e??{}))return o;On(o,"already-initialized")}return n.initialize({options:e})}function bI(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Fr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function AI(i,e,n){const s=Hs(i);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=eT(e),{host:f,port:m}=SI(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(Ls(y,s.config.emulator)&&Ls(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,wI()}function eT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function SI(i){const e=eT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Gv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Gv(f)}}}function Gv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function wI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function RI(i,e){return Yi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(i,e){return Rh(i,"POST","/v1/accounts:signInWithPassword",qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(i,e){return Rh(i,"POST","/v1/accounts:signInWithEmailLink",qs(i,e))}async function xI(i,e){return Rh(i,"POST","/v1/accounts:signInWithEmailLink",qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends up{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Kl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Kl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fv(e,n,"signInWithPassword",II);case"emailLink":return CI(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fv(e,s,"signUpPassword",RI);case"emailLink":return xI(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(i,e){return Rh(i,"POST","/v1/accounts:signInWithIdp",qs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="http://localhost";class Xr extends up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=rp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Xr(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Qa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qa(e,n)}buildRequest(){const e={requestUri:DI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OI(i){const e=Ol(Ml(i)).link,n=e?Ol(Ml(e)).deep_link_id:null,s=Ol(Ml(i)).deep_link_id;return(s?Ol(Ml(s)).link:null)||s||n||e||i}class cp{constructor(e){var n,s,o,u,f,m;const p=Ol(Ml(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,A=NI((o=p.mode)!==null&&o!==void 0?o:null);_e(y&&E&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=OI(e);try{return new cp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(e,n){return Kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=cp.parseLink(n);return _e(s,"argument-error"),Kl._fromEmailAndCode(e,s.code,s.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends hp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class jl extends fo{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return _e("providerId"in n&&"signInMethod"in n,"argument-error"),Xr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return _e(e.idToken||e.accessToken,"argument-error"),Xr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return jl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return jl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:u,nonce:f,providerId:m}=e;if(!s&&!o&&!n&&!u||!m)return null;try{return new jl(m)._credential({idToken:n,accessToken:s,nonce:f,pendingToken:u})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends fo{constructor(){super("facebook.com")}static credential(e){return Xr._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends fo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xr._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends fo{constructor(){super("github.com")}static credential(e){return Xr._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends fo{constructor(){super("twitter.com")}static credential(e,n){return Xr._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ki.credential(n,s)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await jn._fromIdTokenResponse(e,s,o),f=Kv(s);return new Wa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Kv(s);return new Wa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Kv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends ei{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new uh(e,n,s,o)}}function tT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(i,u,e,s):u})}async function MI(i,e,n=!1){const s=await Gl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Wa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(i,e,n=!1){const{auth:s}=i;if(Nn(s.app))return Promise.reject(ji(s));const o="reauthenticate";try{const u=await Gl(i,tT(s,o,e,i),n);_e(u.idToken,s,"internal-error");const f=op(u.idToken);_e(f,s,"internal-error");const{sub:m}=f;return _e(i.uid===m,s,"user-mismatch"),Wa._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&On(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nT(i,e,n=!1){if(Nn(i.app))return Promise.reject(ji(i));const s="signIn",o=await tT(i,s,e),u=await Wa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function VI(i,e){return nT(Hs(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(i){const e=Hs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function LI(i,e,n){return Nn(i.app)?Promise.reject(ji(i)):VI(It(i),ho.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&PI(i),s})}function UI(i,e,n,s){return It(i).onIdTokenChanged(e,n,s)}function jI(i,e,n){return It(i).beforeAuthStateChanged(e,n)}function rT(i,e,n,s){return It(i).onAuthStateChanged(e,n,s)}function zI(i){return It(i).signOut()}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=1e3,qI=10;class sT extends iT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);oI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,qI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sT.type="LOCAL";const HI=sT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends iT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aT.type="SESSION";const oT=aT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ch(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await FI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=fp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function KI(i){ur().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function QI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function $I(){return lT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="firebaseLocalStorageDb",XI=1,hh="firebaseLocalStorage",cT="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xh(i,e){return i.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function WI(){const i=indexedDB.deleteDatabase(uT);return new ou(i).toPromise()}function Cm(){const i=indexedDB.open(uT,XI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(hh,{keyPath:cT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(hh)?e(s):(s.close(),await WI(),e(await Cm()))})})}async function Qv(i,e,n){const s=xh(i,!0).put({[cT]:e,value:n});return new ou(s).toPromise()}async function ZI(i,e){const n=xh(i,!1).get(e),s=await new ou(n).toPromise();return s===void 0?null:s.value}function Yv(i,e){const n=xh(i,!0).delete(e);return new ou(n).toPromise()}const JI=800,eC=3;class hT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>eC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance($I()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QI(),!this.activeServiceWorker)return;this.sender=new GI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await Qv(e,ch,"1"),await Yv(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Qv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>ZI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=xh(o,!1).getAll();return new ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hT.type="LOCAL";const tC=hT;new au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(i,e){return e?Fr(e):(_e(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nC(i){return nT(i.auth,new dp(i),i.bypassAuthState)}function rC(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),kI(n,new dp(i),i.bypassAuthState)}async function iC(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),MI(n,new dp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nC;case"linkViaPopup":case"linkViaRedirect":return iC;case"reauthViaPopup":case"reauthViaRedirect":return rC;default:On(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new au(2e3,1e4);async function $v(i,e,n){if(Nn(i.app))return Promise.reject(zn(i,"operation-not-supported-in-this-environment"));const s=Hs(i);B1(i,e,hp);const o=fT(s,n);return new Vs(s,"signInViaPopup",e,o).executeNotNull()}class Vs extends dT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Vs.currentPopupAction&&Vs.currentPopupAction.cancel(),Vs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){$r(this.filter.length===1,"Popup operations only handle one event");const e=fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sC.get())};e()}}Vs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="pendingRedirect",$c=new Map;class oC extends dT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const s=await lC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lC(i,e){const n=hC(e),s=cC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function uC(i,e){$c.set(i._key(),e)}function cC(i){return Fr(i._redirectPersistence)}function hC(i){return Yc(aC,i.config.apiKey,i.name)}async function fC(i,e,n=!1){if(Nn(i.app))return Promise.reject(ji(i));const s=Hs(i),o=fT(s,e),f=await new oC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=10*60*1e3;class mC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!mT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xv(e))}saveEventToCache(e){this.cachedEventUids.add(Xv(e)),this.lastProcessedEventTime=Date.now()}}function Xv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function mT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(i,e={}){return Yi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_C=/^https?/;async function vC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await gC(i);for(const n of e)try{if(EC(n))return}catch{}On(i,"unauthorized-domain")}function EC(i){const e=Rm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!_C.test(n))return!1;if(yC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new au(3e4,6e4);function Wv(){const i=ur().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function bC(i){return new Promise((e,n)=>{var s,o,u;function f(){Wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(zn(i,"network-request-failed"))},timeout:TC.get()})}if(!((o=(s=ur().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ur().gapi)===null||u===void 0)&&u.load)f();else{const m=gI("iframefcb");return ur()[m]=()=>{gapi.load?f():n(zn(i,"network-request-failed"))},ZE(`${pI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function AC(i){return Xc=Xc||bC(i),Xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new au(5e3,15e3),wC="__/auth/iframe",RC="emulator/auth/iframe",IC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xC(i){const e=i.config;_e(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?ap(e,RC):`https://${i.config.authDomain}/${wC}`,s={apiKey:e.apiKey,appName:i.name,v:co},o=CC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${su(s).slice(1)}`}async function DC(i){const e=await AC(i),n=ur().gapi;return _e(n,i,"internal-error"),e.open({where:document.body,url:xC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=zn(i,"network-request-failed"),m=ur().setTimeout(()=>{u(f)},SC.get());function p(){ur().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OC=500,MC=600,kC="_blank",VC="http://localhost";class Zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PC(i,e,n,s=OC,o=MC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},NC),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xt().toLowerCase();n&&(m=GE(y)?kC:n),HE(y)&&(e=e||VC,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[P,D])=>`${S}${P}=${D},`,"");if(aI(y)&&m!=="_self")return LC(e||"",m),new Zv(null);const A=window.open(e||"",m,E);_e(A,i,"popup-blocked");try{A.focus()}catch{}return new Zv(A)}function LC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="__/auth/handler",jC="emulator/auth/handler",zC=encodeURIComponent("fac");async function Jv(i,e,n,s,o,u){_e(i.config.authDomain,i,"auth-domain-config-required"),_e(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:co,eventId:o};if(e instanceof hp){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",SR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof fo){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),y=p?`#${zC}=${encodeURIComponent(p)}`:"";return`${BC(i)}?${su(m).slice(1)}${y}`}function BC({config:i}){return i.emulator?ap(i,jC):`https://${i.authDomain}/${UC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class qC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oT,this._completeRedirectFn=fC,this._overrideRedirectResult=uC}async _openPopup(e,n,s,o){var u;$r((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Jv(e,n,s,Rm(),o);return PC(e,f,fp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Jv(e,n,s,Rm(),o);return KI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):($r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await DC(e),s=new mC(e);return n.register("authEvent",o=>(_e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[hm];f!==void 0&&n(!!f),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XE()||FE()||lp()}}const HC=qC;var e0="@firebase/auth",t0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KC(i){Xa(new Us("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WE(i)},y=new fI(s,o,u,p);return bI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Xa(new Us("auth-internal",e=>{const n=Hs(e.getProvider("auth").getImmediate());return(s=>new FC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(e0,t0,GC(i)),Ui(e0,t0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=5*60,YC=xE("authIdTokenMaxAge")||QC;let n0=null;const $C=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>YC)return;const o=n==null?void 0:n.token;n0!==o&&(n0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function mo(i=ME()){const e=np(i,"auth");if(e.isInitialized())return e.getImmediate();const n=TI(i,{popupRedirectResolver:HC,persistence:[tC,HI,oT]}),s=xE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=$C(u.toString());jI(n,f,()=>f(n.currentUser)),UI(n,m=>f(m))}}const o=IE("auth");return o&&AI(n,`http://${o}`),n}function XC(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}dI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=zn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",XC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KC("Browser");var r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zi,pT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,w){function R(){}R.prototype=w.prototype,k.D=w.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(O,V,U){for(var x=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)x[Vt-2]=arguments[Vt];return w.prototype[V].apply(O,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,w,R){R||(R=0);var O=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)O[V]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=k.g[0],R=k.g[1],V=k.g[2];var U=k.g[3],x=w+(U^R&(V^U))+O[0]+3614090360&4294967295;w=R+(x<<7&4294967295|x>>>25),x=U+(V^w&(R^V))+O[1]+3905402710&4294967295,U=w+(x<<12&4294967295|x>>>20),x=V+(R^U&(w^R))+O[2]+606105819&4294967295,V=U+(x<<17&4294967295|x>>>15),x=R+(w^V&(U^w))+O[3]+3250441966&4294967295,R=V+(x<<22&4294967295|x>>>10),x=w+(U^R&(V^U))+O[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=U+(V^w&(R^V))+O[5]+1200080426&4294967295,U=w+(x<<12&4294967295|x>>>20),x=V+(R^U&(w^R))+O[6]+2821735955&4294967295,V=U+(x<<17&4294967295|x>>>15),x=R+(w^V&(U^w))+O[7]+4249261313&4294967295,R=V+(x<<22&4294967295|x>>>10),x=w+(U^R&(V^U))+O[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=U+(V^w&(R^V))+O[9]+2336552879&4294967295,U=w+(x<<12&4294967295|x>>>20),x=V+(R^U&(w^R))+O[10]+4294925233&4294967295,V=U+(x<<17&4294967295|x>>>15),x=R+(w^V&(U^w))+O[11]+2304563134&4294967295,R=V+(x<<22&4294967295|x>>>10),x=w+(U^R&(V^U))+O[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=U+(V^w&(R^V))+O[13]+4254626195&4294967295,U=w+(x<<12&4294967295|x>>>20),x=V+(R^U&(w^R))+O[14]+2792965006&4294967295,V=U+(x<<17&4294967295|x>>>15),x=R+(w^V&(U^w))+O[15]+1236535329&4294967295,R=V+(x<<22&4294967295|x>>>10),x=w+(V^U&(R^V))+O[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=U+(R^V&(w^R))+O[6]+3225465664&4294967295,U=w+(x<<9&4294967295|x>>>23),x=V+(w^R&(U^w))+O[11]+643717713&4294967295,V=U+(x<<14&4294967295|x>>>18),x=R+(U^w&(V^U))+O[0]+3921069994&4294967295,R=V+(x<<20&4294967295|x>>>12),x=w+(V^U&(R^V))+O[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=U+(R^V&(w^R))+O[10]+38016083&4294967295,U=w+(x<<9&4294967295|x>>>23),x=V+(w^R&(U^w))+O[15]+3634488961&4294967295,V=U+(x<<14&4294967295|x>>>18),x=R+(U^w&(V^U))+O[4]+3889429448&4294967295,R=V+(x<<20&4294967295|x>>>12),x=w+(V^U&(R^V))+O[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=U+(R^V&(w^R))+O[14]+3275163606&4294967295,U=w+(x<<9&4294967295|x>>>23),x=V+(w^R&(U^w))+O[3]+4107603335&4294967295,V=U+(x<<14&4294967295|x>>>18),x=R+(U^w&(V^U))+O[8]+1163531501&4294967295,R=V+(x<<20&4294967295|x>>>12),x=w+(V^U&(R^V))+O[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=U+(R^V&(w^R))+O[2]+4243563512&4294967295,U=w+(x<<9&4294967295|x>>>23),x=V+(w^R&(U^w))+O[7]+1735328473&4294967295,V=U+(x<<14&4294967295|x>>>18),x=R+(U^w&(V^U))+O[12]+2368359562&4294967295,R=V+(x<<20&4294967295|x>>>12),x=w+(R^V^U)+O[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=U+(w^R^V)+O[8]+2272392833&4294967295,U=w+(x<<11&4294967295|x>>>21),x=V+(U^w^R)+O[11]+1839030562&4294967295,V=U+(x<<16&4294967295|x>>>16),x=R+(V^U^w)+O[14]+4259657740&4294967295,R=V+(x<<23&4294967295|x>>>9),x=w+(R^V^U)+O[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=U+(w^R^V)+O[4]+1272893353&4294967295,U=w+(x<<11&4294967295|x>>>21),x=V+(U^w^R)+O[7]+4139469664&4294967295,V=U+(x<<16&4294967295|x>>>16),x=R+(V^U^w)+O[10]+3200236656&4294967295,R=V+(x<<23&4294967295|x>>>9),x=w+(R^V^U)+O[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=U+(w^R^V)+O[0]+3936430074&4294967295,U=w+(x<<11&4294967295|x>>>21),x=V+(U^w^R)+O[3]+3572445317&4294967295,V=U+(x<<16&4294967295|x>>>16),x=R+(V^U^w)+O[6]+76029189&4294967295,R=V+(x<<23&4294967295|x>>>9),x=w+(R^V^U)+O[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=U+(w^R^V)+O[12]+3873151461&4294967295,U=w+(x<<11&4294967295|x>>>21),x=V+(U^w^R)+O[15]+530742520&4294967295,V=U+(x<<16&4294967295|x>>>16),x=R+(V^U^w)+O[2]+3299628645&4294967295,R=V+(x<<23&4294967295|x>>>9),x=w+(V^(R|~U))+O[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=U+(R^(w|~V))+O[7]+1126891415&4294967295,U=w+(x<<10&4294967295|x>>>22),x=V+(w^(U|~R))+O[14]+2878612391&4294967295,V=U+(x<<15&4294967295|x>>>17),x=R+(U^(V|~w))+O[5]+4237533241&4294967295,R=V+(x<<21&4294967295|x>>>11),x=w+(V^(R|~U))+O[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=U+(R^(w|~V))+O[3]+2399980690&4294967295,U=w+(x<<10&4294967295|x>>>22),x=V+(w^(U|~R))+O[10]+4293915773&4294967295,V=U+(x<<15&4294967295|x>>>17),x=R+(U^(V|~w))+O[1]+2240044497&4294967295,R=V+(x<<21&4294967295|x>>>11),x=w+(V^(R|~U))+O[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=U+(R^(w|~V))+O[15]+4264355552&4294967295,U=w+(x<<10&4294967295|x>>>22),x=V+(w^(U|~R))+O[6]+2734768916&4294967295,V=U+(x<<15&4294967295|x>>>17),x=R+(U^(V|~w))+O[13]+1309151649&4294967295,R=V+(x<<21&4294967295|x>>>11),x=w+(V^(R|~U))+O[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=U+(R^(w|~V))+O[11]+3174756917&4294967295,U=w+(x<<10&4294967295|x>>>22),x=V+(w^(U|~R))+O[2]+718787259&4294967295,V=U+(x<<15&4294967295|x>>>17),x=R+(U^(V|~w))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+w&4294967295,k.g[1]=k.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+U&4294967295}s.prototype.u=function(k,w){w===void 0&&(w=k.length);for(var R=w-this.blockSize,O=this.B,V=this.h,U=0;U<w;){if(V==0)for(;U<=R;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<w;)if(O[V++]=k.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<w;)if(O[V++]=k[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=w},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var w=1;w<k.length-8;++w)k[w]=0;var R=8*this.o;for(w=k.length-8;w<k.length;++w)k[w]=R&255,R/=256;for(this.u(k),k=Array(16),w=R=0;4>w;++w)for(var O=0;32>O;O+=8)k[R++]=this.g[w]>>>O&255;return k};function u(k,w){var R=m;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=w(k)}function f(k,w){this.h=w;for(var R=[],O=!0,V=k.length-1;0<=V;V--){var U=k[V]|0;O&&U==w||(R[V]=U,O=!1)}this.g=R}var m={};function p(k){return-128<=k&&128>k?u(k,function(w){return new f([w|0],0>w?-1:0)}):new f([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return A;if(0>k)return q(y(-k));for(var w=[],R=1,O=0;k>=R;O++)w[O]=k/R|0,R*=4294967296;return new f(w,0)}function E(k,w){if(k.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k.charAt(0)=="-")return q(E(k.substring(1),w));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),O=A,V=0;V<k.length;V+=8){var U=Math.min(8,k.length-V),x=parseInt(k.substring(V,V+U),w);8>U?(U=y(Math.pow(w,U)),O=O.j(U).add(y(x))):(O=O.j(R),O=O.add(y(x)))}return O}var A=p(0),S=p(1),P=p(16777216);i=f.prototype,i.m=function(){if(Q(this))return-q(this).m();for(var k=0,w=1,R=0;R<this.g.length;R++){var O=this.i(R);k+=(0<=O?O:4294967296+O)*w,w*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D(this))return"0";if(Q(this))return"-"+q(this).toString(k);for(var w=y(Math.pow(k,6)),R=this,O="";;){var V=me(R,w).g;R=Y(R,V.j(w));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=V,D(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function D(k){if(k.h!=0)return!1;for(var w=0;w<k.g.length;w++)if(k.g[w]!=0)return!1;return!0}function Q(k){return k.h==-1}i.l=function(k){return k=Y(this,k),Q(k)?-1:D(k)?0:1};function q(k){for(var w=k.g.length,R=[],O=0;O<w;O++)R[O]=~k.g[O];return new f(R,~k.h).add(S)}i.abs=function(){return Q(this)?q(this):this},i.add=function(k){for(var w=Math.max(this.g.length,k.g.length),R=[],O=0,V=0;V<=w;V++){var U=O+(this.i(V)&65535)+(k.i(V)&65535),x=(U>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);O=x>>>16,U&=65535,x&=65535,R[V]=x<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Y(k,w){return k.add(q(w))}i.j=function(k){if(D(this)||D(k))return A;if(Q(this))return Q(k)?q(this).j(q(k)):q(q(this).j(k));if(Q(k))return q(this.j(q(k)));if(0>this.l(P)&&0>k.l(P))return y(this.m()*k.m());for(var w=this.g.length+k.g.length,R=[],O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<k.g.length;V++){var U=this.i(O)>>>16,x=this.i(O)&65535,Vt=k.i(V)>>>16,at=k.i(V)&65535;R[2*O+2*V]+=x*at,ie(R,2*O+2*V),R[2*O+2*V+1]+=U*at,ie(R,2*O+2*V+1),R[2*O+2*V+1]+=x*Vt,ie(R,2*O+2*V+1),R[2*O+2*V+2]+=U*Vt,ie(R,2*O+2*V+2)}for(O=0;O<w;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=w;O<2*w;O++)R[O]=0;return new f(R,0)};function ie(k,w){for(;(k[w]&65535)!=k[w];)k[w+1]+=k[w]>>>16,k[w]&=65535,w++}function ne(k,w){this.g=k,this.h=w}function me(k,w){if(D(w))throw Error("division by zero");if(D(k))return new ne(A,A);if(Q(k))return w=me(q(k),w),new ne(q(w.g),q(w.h));if(Q(w))return w=me(k,q(w)),new ne(q(w.g),w.h);if(30<k.g.length){if(Q(k)||Q(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,O=w;0>=O.l(k);)R=he(R),O=he(O);var V=we(R,1),U=we(O,1);for(O=we(O,2),R=we(R,2);!D(O);){var x=U.add(O);0>=x.l(k)&&(V=V.add(R),U=x),O=we(O,1),R=we(R,1)}return w=Y(k,V.j(w)),new ne(V,w)}for(V=A;0<=k.l(w);){for(R=Math.max(1,Math.floor(k.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=y(R),x=U.j(w);Q(x)||0<x.l(k);)R-=O,U=y(R),x=U.j(w);D(U)&&(U=S),V=V.add(U),k=Y(k,x)}return new ne(V,k)}i.A=function(k){return me(this,k).h},i.and=function(k){for(var w=Math.max(this.g.length,k.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)&k.i(O);return new f(R,this.h&k.h)},i.or=function(k){for(var w=Math.max(this.g.length,k.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)|k.i(O);return new f(R,this.h|k.h)},i.xor=function(k){for(var w=Math.max(this.g.length,k.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)^k.i(O);return new f(R,this.h^k.h)};function he(k){for(var w=k.g.length+1,R=[],O=0;O<w;O++)R[O]=k.i(O)<<1|k.i(O-1)>>>31;return new f(R,k.h)}function we(k,w){var R=w>>5;w%=32;for(var O=k.g.length-R,V=[],U=0;U<O;U++)V[U]=0<w?k.i(U+R)>>>w|k.i(U+R+1)<<32-w:k.i(U+R);return new f(V,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,pT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,zi=f}).apply(typeof r0<"u"?r0:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gT,kl,yT,Wc,xm,_T,vT,ET;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in _))break e;_=_[j]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,j={next:function(){if(!b&&_<c.length){var K=_++;return{value:g(K,c[K]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function A(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function S(c,g,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,S.apply(null,arguments)}function P(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function D(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,j,K){for(var se=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)se[Ve-2]=arguments[Ve];return g.prototype[j].apply(b,se)}}function Q(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function q(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const j=c.length||0,K=b.length||0;c.length=j+K;for(let se=0;se<K;se++)c[j+se]=b[se]}else c.push(b)}}class Y{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ie(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var he=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function we(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function k(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function w(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(_ in b)c[_]=b[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function V(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function x(){var c=ze;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Vt{constructor(){this.h=this.g=null}add(g,_){const b=at.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var at=new Y(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,pe=!1,ze=new Vt,N=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(te)}};var te=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(_){U(_)}var g=at;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}pe=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function xe(c,g){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(he){e:{try{me(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}D(xe,re);var be={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Fn(c,g,_,b,j){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=j,this.key=++Ze,this.da=this.fa=!1}function ni(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function gr(c){this.src=c,this.g={},this.h=0}gr.prototype.add=function(c,g,_,b,j){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=Zi(c,g,b,j);return-1<se?(g=c[se],_||(g.fa=!1)):(g=new Fn(g,this.src,K,!!b,j),g.fa=_,c.push(g)),g};function Wi(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],j=Array.prototype.indexOf.call(b,g,void 0),K;(K=0<=j)&&Array.prototype.splice.call(b,j,1),K&&(ni(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Zi(c,g,_,b){for(var j=0;j<c.length;++j){var K=c[j];if(!K.da&&K.listener==g&&K.capture==!!_&&K.ha==b)return j}return-1}var Ji="closure_lm_"+(1e6*Math.random()|0),Eo={};function mu(c,g,_,b,j){if(Array.isArray(g)){for(var K=0;K<g.length;K++)mu(c,g[K],_,b,j);return null}return _=pu(_),c&&c[Ct]?c.K(g,_,y(b)?!!b.capture:!1,j):_n(c,g,_,!1,b,j)}function _n(c,g,_,b,j,K){if(!g)throw Error("Invalid event type");var se=y(j)?!!j.capture:!!j,Ve=$s(c);if(Ve||(c[Ji]=Ve=new gr(c)),_=Ve.add(g,_,b,se,K),_.proxy)return _;if(b=Xh(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ge||(j=se),j===void 0&&(j=!1),c.addEventListener(g.toString(),b,j);else if(c.attachEvent)c.attachEvent(es(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xh(){function c(_){return g.call(c.src,c.listener,_)}const g=Wh;return c}function To(c,g,_,b,j){if(Array.isArray(g))for(var K=0;K<g.length;K++)To(c,g[K],_,b,j);else b=y(b)?!!b.capture:!!b,_=pu(_),c&&c[Ct]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],_=Zi(K,_,b,j),-1<_&&(ni(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=$s(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Zi(g,_,b,j)),(_=-1<c?g[c]:null)&&Ys(_))}function Ys(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ct])Wi(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(es(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=$s(g))?(Wi(_,c),_.h==0&&(_.src=null,g[Ji]=null)):ni(c)}}}function es(c){return c in Eo?Eo[c]:Eo[c]="on"+c}function Wh(c,g){if(c.da)c=!0;else{g=new xe(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&Ys(c),c=_.call(b,g)}return c}function $s(c){return c=c[Ji],c instanceof gr?c:null}var bo="__closure_events_fn_"+(1e9*Math.random()>>>0);function pu(c){return typeof c=="function"?c:(c[bo]||(c[bo]=function(g){return c.handleEvent(g)}),c[bo])}function ot(){oe.call(this),this.i=new gr(this),this.M=this,this.F=null}D(ot,oe),ot.prototype[Ct]=!0,ot.prototype.removeEventListener=function(c,g,_,b){To(this,c,g,_,b)};function Fe(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new re(g,c);else if(g instanceof re)g.target=g.target||c;else{var j=g;g=new re(b,c),O(g,j)}if(j=!0,_)for(var K=_.length-1;0<=K;K--){var se=g.g=_[K];j=ln(se,b,!0,g)&&j}if(se=g.g=c,j=ln(se,b,!0,g)&&j,j=ln(se,b,!1,g)&&j,_)for(K=0;K<_.length;K++)se=g.g=_[K],j=ln(se,b,!1,g)&&j}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)ni(_[b]);delete c.g[g],c.h--}}this.F=null},ot.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},ot.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function ln(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,K=0;K<g.length;++K){var se=g[K];if(se&&!se.da&&se.capture==_){var Ve=se.listener,Tt=se.ha||se.src;se.fa&&Wi(c.i,se),j=Ve.call(Tt,b)!==!1&&j}}return j&&!b.defaultPrevented}function Ft(c,g,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function gu(c){c.g=Ft(()=>{c.g=null,c.i&&(c.i=!1,gu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Zh extends oe{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:gu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){oe.call(this),this.h=c,this.g={}}D(ts,oe);var ns=[];function rs(c){we(c.g,function(g,_){this.g.hasOwnProperty(_)&&Ys(g)},c),c.g={}}ts.prototype.N=function(){ts.aa.N.call(this),rs(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=m.JSON.stringify,Xs=m.JSON.parse,is=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ao(){}Ao.prototype.h=null;function So(c){return c.h||(c.h=c.i())}function wo(){}var yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){re.call(this,"d")}D(_r,re);function Ro(){re.call(this,"c")}D(Ro,re);var Gn={},Io=null;function ri(){return Io=Io||new ot}Gn.La="serverreachability";function Ws(c){re.call(this,Gn.La,c)}D(Ws,re);function ii(c){const g=ri();Fe(g,new Ws(g))}Gn.STAT_EVENT="statevent";function yu(c,g){re.call(this,Gn.STAT_EVENT,c),this.stat=g}D(yu,re);function tt(c){const g=ri();Fe(g,new yu(g,c))}Gn.Ma="timingevent";function Et(c,g){re.call(this,Gn.Ma,c),this.size=g}D(Et,re);function mt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function Co(c,g,_,b,j,K){c.info(function(){if(c.g)if(K)for(var se="",Ve=K.split("&"),Tt=0;Tt<Ve.length;Tt++){var Pe=Ve[Tt].split("=");if(1<Pe.length){var Dt=Pe[0];Pe=Pe[1];var bt=Dt.split("_");se=2<=bt.length&&bt[1]=="type"?se+(Dt+"="+Pe+"&"):se+(Dt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+g+`
`+_+`
`+se})}function Jh(c,g,_,b,j,K,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+g+`
`+_+`
`+K+" "+se})}function si(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ss(c,_)+(b?" "+b:"")})}function _u(c,g){c.info(function(){return"TIMEOUT: "+g})}vn.prototype.info=function(){};function ss(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<j.length;se++)j[se]=""}}}}return Mn(_)}catch{return g}}var ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Qn(){}D(Qn,Ao),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Kn=new Qn;function Wt(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var xo={},Zs={};function kn(c,g,_){c.L=1,c.v=cs(un(g)),c.m=_,c.P=!0,Er(c,null)}function Er(c,g){c.F=Date.now(),as(c),c.A=un(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Vo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new ct,c.g=ku(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Zh(S(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(ns[0]=j.toString()),j=ns);for(var K=0;K<j.length;K++){var se=mu(_,j[K],b||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),ii(),Co(c.i,c.u,c.A,c.l,c.R,c.m)}Wt.prototype.ca=function(c){c=c.target;const g=this.M;g&&An(c)==3?g.j():this.Y(c)},Wt.prototype.Y=function(c){try{if(c==this.g)e:{const bt=An(this.g);var g=this.g.Ba();const Cr=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Ru(this.g)))){this.J||bt!=4||g==7||(g==8||0>=Cr?ii(3):ii(2)),oi(this);var _=this.g.Z();this.X=_;t:if(vu(this)){var b=Ru(this.g);c="";var j=b.length,K=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),Yn(this);var se="";break t}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(K&&g==j-1)});b.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Jh(this.i,this.u,this.A,this.l,this.R,bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Tt=this.g;if((Ve=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Ve)){var Pe=Ve;break t}}Pe=null}if(_=Pe)si(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,os(this,_);else{this.o=!1,this.s=3,tt(12),Pt(this),Yn(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<se.length;)if(Lt=Eu(this,se),Lt==Zs){bt==4&&(this.s=4,tt(14),_=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==xo){this.s=4,tt(15),si(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else si(this.i,this.l,Lt,null),os(this,Lt);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||se.length!=0||this.h.h||(this.s=1,tt(16),_=!1),this.o=this.o&&_,!_)si(this.i,this.l,se,"[Invalid Chunked Response]"),Pt(this),Yn(this);else if(0<se.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),_s(Dt),Dt.M=!0,tt(11))}}else si(this.i,this.l,se,null),os(this,se);bt==4&&Pt(this),this.o&&!this.J&&(bt==4?Nu(this.j,this):(this.o=!1,as(this)))}else sf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Pt(this),Yn(this)}}}catch{}finally{}};function vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Eu(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?Zs:(_=Number(g.substring(_,b)),isNaN(_)?xo:(b+=1,b+_>g.length?Zs:(g=g.slice(b,b+_),c.C=b+_,g)))}Wt.prototype.cancel=function(){this.J=!0,Pt(this)};function as(c){c.S=Date.now()+c.I,Tu(c,c.I)}function Tu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(S(c.ba,c),g)}function oi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Wt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_u(this.i,this.A),this.L!=2&&(ii(),tt(17)),Pt(this),this.s=2,Yn(this)):Tu(this,this.S-c)};function Yn(c){c.j.G==0||c.J||Nu(c.j,c)}function Pt(c){oi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,rs(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function os(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Do(_.h,c))){if(!c.K&&Do(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ca(_),la(_);else break e;zo(_),tt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=mt(S(_.Za,_),6e3));if(1>=ea(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ir(_,11)}else if((c.K||_.g==c)&&ca(_),!ie(g))for(j=_.Da.g.parse(g),g=0;g<j.length;g++){let Pe=j[g];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Dt=Pe[3];Dt!=null&&(_.la=Dt,_.j.info("VER="+_.la));const bt=Pe[4];bt!=null&&(_.Aa=bt,_.j.info("SVER="+_.Aa));const Cr=Pe[5];Cr!=null&&typeof Cr=="number"&&0<Cr&&(b=1.5*Cr,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Lt=c.g;if(Lt){const tr=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tr){var K=b.h;K.g||tr.indexOf("spdy")==-1&&tr.indexOf("quic")==-1&&tr.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ta(K,K.h),K.h=null))}if(b.D){const qo=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&(b.ya=qo,Qe(b.I,b.D,qo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var se=c;if(b.qa=Mu(b,b.J?b.ia:null,b.W),se.K){Zt(b.h,se);var Ve=se,Tt=b.L;Tt&&(Ve.I=Tt),Ve.B&&(oi(Ve),as(Ve)),b.g=se}else xu(b);0<_.i.length&&ua(_)}else Pe[0]!="stop"&&Pe[0]!="close"||Ir(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ir(_,7):Uo(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}ii(4)}catch{}}var bu=class{constructor(c,g){this.g=c,this.map=g}};function Tr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Js(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ea(c){return c.h?1:c.g?c.g.size:0}function Do(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ta(c,g){c.g?c.g.add(g):c.h=g}function Zt(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Tr.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function No(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return Q(c.i)}function ef(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function na(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function Oo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=na(c),b=ef(c),j=b.length,K=0;K<j;K++)g.call(void 0,b[K],_&&_[K],c)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tf(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),j=null;if(0<=b){var K=c[_].substring(0,b);j=c[_].substring(b+1)}else K=c[_];g(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,us(this,c.j),this.o=c.o,this.g=c.g,li(this,c.s),this.l=c.l;var g=c.i,_=new Ar;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),br(this,_),this.m=c.m}else c&&(g=String(c).match(ls))?(this.h=!1,us(this,g[1]||"",!0),this.o=En(g[2]||""),this.g=En(g[3]||"",!0),li(this,g[4]),this.l=En(g[5]||"",!0),br(this,g[6]||"",!0),this.m=En(g[7]||"")):(this.h=!1,this.i=new Ar(null,this.h))}pt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(hs(g,Mo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(hs(g,Mo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(hs(_,_.charAt(0)=="/"?nf:ko,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",hs(_,ra)),c.join("")};function un(c){return new pt(c)}function us(c,g,_){c.j=_?En(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function li(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function br(c,g,_){g instanceof Ar?(c.i=g,Su(c.i,c.h)):(_||(g=hs(g,rf)),c.i=new Ar(g,c.h))}function Qe(c,g,_){c.i.set(g,_)}function cs(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function En(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hs(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Au),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Au(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Mo=/[#\/\?@]/g,ko=/[#\?:]/g,nf=/[#\?]/g,rf=/[#\?@]/g,ra=/#/g;function Ar(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&tf(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}i=Ar.prototype,i.add=function(c,g){Tn(this),this.i=null,c=$n(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Sr(c,g){Tn(c),g=$n(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function wr(c,g){return Tn(c),g=$n(c,g),c.g.has(g)}i.forEach=function(c,g){Tn(this),this.g.forEach(function(_,b){_.forEach(function(j){c.call(g,j,b,this)},this)},this)},i.na=function(){Tn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const j=c[b];for(let K=0;K<j.length;K++)_.push(g[b])}return _},i.V=function(c){Tn(this);let g=[];if(typeof c=="string")wr(this,c)&&(g=g.concat(this.g.get($n(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},i.set=function(c,g){return Tn(this),this.i=null,c=$n(this,c),wr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Vo(c,g,_){Sr(c,g),0<_.length&&(c.i=null,c.g.set($n(c,g),Q(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const K=encodeURIComponent(String(b)),se=this.V(b);for(b=0;b<se.length;b++){var j=K;se[b]!==""&&(j+="="+encodeURIComponent(String(se[b]))),c.push(j)}}return this.i=c.join("&")};function $n(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Su(c,g){g&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(_,b){var j=b.toLowerCase();b!=j&&(Sr(this,b),Vo(this,j,_))},c)),c.j=g}function fs(c,g){const _=new vn;if(m.Image){const b=new Image;b.onload=P(bn,_,"TestLoadImage: loaded",!0,g,b),b.onerror=P(bn,_,"TestLoadImage: error",!1,g,b),b.onabort=P(bn,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=P(bn,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Vn(c,g){const _=new vn,b=new AbortController,j=setTimeout(()=>{b.abort(),bn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(K=>{clearTimeout(j),K.ok?bn(_,"TestPingServer: ok",!0,g):bn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),bn(_,"TestPingServer: error",!1,g)})}function bn(c,g,_,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(_)}catch{}}function ds(){this.g=new is}function Xn(c,g,_){const b=_||"";try{Oo(c,function(j,K){let se=j;y(j)&&(se=Mn(j)),g.push(b+K+"="+encodeURIComponent(se))})}catch(j){throw g.push(b+"type="+encodeURIComponent("_badmap")),j}}function ui(c){this.l=c.Ub||null,this.j=c.eb||!1}D(ui,Ao),ui.prototype.g=function(){return new Rr(this.l,this.j)},ui.prototype.i=function(c){return function(){return c}}({});function Rr(c,g){ot.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Rr,ot),i=Rr.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Zn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Po(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Po(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Wn(this):Zn(this),this.readyState==3&&Po(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},i.Qa=function(c){this.g&&(this.response=c,Wn(this))},i.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zn(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Lo(c){let g="";return we(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function xt(c,g,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Lo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,g,_))}function qe(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(qe,ot);var ia=/^https?$/i,ms=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?So(this.o):So(Kn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){wu(this,K);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)_.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())_.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ms,g,void 0))||b||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of _)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ps(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){wu(this,K)}};function wu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,sa(c),Jn(c)}function sa(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),Jn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?aa(this):this.bb())},i.bb=function(){aa(this)};function aa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)Ft(c.Ea,0,c);else if(Fe(c,"readystatechange"),An(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var b;if(b=se===0){var j=String(c.D).match(ls)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),b=!ia.test(j?j.toLowerCase():"")}_=b}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var K=2<An(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",sa(c)}}finally{Jn(c)}}}}function Jn(c,g){if(c.g){ps(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Fe(c,"ready");try{_.onreadystatechange=b}catch{}}}function ps(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Xs(g)}};function Ru(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function sf(c){const g={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ie(c[b]))continue;var _=V(c[b]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=g[j]||[];g[j]=K,K.push(_)}k(g,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function oa(c){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,c),this.cb=gs("retryDelaySeedMs",1e4,c),this.Wa=gs("forwardChannelMaxRetries",2,c),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Tr(c&&c.concurrentRequestLimit),this.Da=new ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=oa.prototype,i.la=8,i.G=1,i.connect=function(c,g,_,b){tt(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Mu(this,null,this.W),ua(this)};function Uo(c){if(Iu(c),c.G==3){var g=c.U++,_=un(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",g),Qe(_,"TYPE","terminate"),ys(c,_),g=new Wt(c,c.j,g),g.L=2,g.v=cs(un(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=ku(g.j,null),g.g.ea(g.v)),g.F=Date.now(),as(g)}Ou(c)}function la(c){c.g&&(_s(c),c.g.cancel(),c.g=null)}function Iu(c){la(c),c.u&&(m.clearTimeout(c.u),c.u=null),ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ua(c){if(!Js(c.h)&&!c.s){c.s=!0;var g=c.Ga;ae||N(),pe||(ae(),pe=!0),ze.add(g,c),c.B=0}}function af(c,g){return ea(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(S(c.Ga,c,g),Bo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Wt(this,this.j,c);let K=this.o;if(this.S&&(K?(K=w(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Cu(this,j,g),_=un(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),ys(this,_),K&&(this.O?g="headers="+encodeURIComponent(String(Lo(K)))+"&"+g:this.m&&xt(_,this.m,K)),ta(this.h,j),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",g),Qe(_,"SID","null"),j.T=!0,kn(j,_,null)):kn(j,_,g),this.G=2}}else this.G==3&&(c?jo(this,c):this.i.length==0||Js(this.h)||jo(this))};function jo(c,g){var _;g?_=g.l:_=c.U++;const b=un(c.I);Qe(b,"SID",c.K),Qe(b,"RID",_),Qe(b,"AID",c.T),ys(c,b),c.m&&c.o&&xt(b,c.m,c.o),_=new Wt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Cu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ta(c.h,_),kn(_,b,g)}function ys(c,g){c.H&&we(c.H,function(_,b){Qe(g,b,_)}),c.l&&Oo({},function(_,b){Qe(g,b,_)})}function Cu(c,g,_){_=Math.min(c.i.length,_);var b=c.l?S(c.l.Na,c.l,c):null;e:{var j=c.i;let K=-1;for(;;){const se=["count="+_];K==-1?0<_?(K=j[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let Ve=!0;for(let Tt=0;Tt<_;Tt++){let Pe=j[Tt].g;const Dt=j[Tt].map;if(Pe-=K,0>Pe)K=Math.max(0,j[Tt].g-100),Ve=!1;else try{Xn(Dt,se,"req"+Pe+"_")}catch{b&&b(Dt)}}if(Ve){b=se.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,b}function xu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ae||N(),pe||(ae(),pe=!0),ze.add(g,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(S(c.Fa,c),Bo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),la(this),Du(this))};function _s(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Du(c){c.g=new Wt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=un(c.qa);Qe(g,"RID","rpc"),Qe(g,"SID",c.K),Qe(g,"AID",c.T),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(g,"TO",c.ja),Qe(g,"TYPE","xmlhttp"),ys(c,g),c.m&&c.o&&xt(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=cs(un(g)),_.m=null,_.P=!0,Er(_,c)}i.Za=function(){this.C!=null&&(this.C=null,la(this),zo(this),tt(19))};function ca(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Nu(c,g){var _=null;if(c.g==g){ca(c),_s(c),c.g=null;var b=2}else if(Do(c.h,g))_=g.D,Zt(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;b=ri(),Fe(b,new Et(b,_)),ua(c)}else xu(c);else if(j=g.s,j==3||j==0&&0<g.X||!(b==1&&af(c,g)||b==2&&zo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),j){case 1:Ir(c,5);break;case 4:Ir(c,10);break;case 3:Ir(c,6);break;default:Ir(c,2)}}}function Bo(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ir(c,g){if(c.j.info("Error code "+g),g==2){var _=S(c.fb,c),b=c.Xa;const j=!b;b=new pt(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||us(b,"https"),cs(b),j?fs(b.toString(),_):Vn(b.toString(),_)}else tt(2);c.G=0,c.l&&c.l.sa(g),Ou(c),Iu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Ou(c){if(c.G=0,c.ka=[],c.l){const g=No(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ka,g),q(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Mu(c,g,_){var b=_ instanceof pt?un(_):new pt(_);if(b.g!="")g&&(b.g=g+"."+b.g),li(b,b.s);else{var j=m.location;b=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var K=new pt(null);b&&us(K,b),g&&(K.g=g),j&&li(K,j),_&&(K.l=_),b=K}return _=c.D,g=c.ya,_&&g&&Qe(b,_,g),Qe(b,"VER",c.la),ys(c,b),b}function ku(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new qe(new ui({eb:_})):new qe(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}i=Vu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ha(){}ha.prototype.g=function(c,g){return new Jt(c,g)};function Jt(c,g){ot.call(this),this.g=new oa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ie(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ie(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new er(this)}D(Jt,ot),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Uo(this.g)},Jt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Mn(c),c=_);g.i.push(new bu(g.Ya++,c)),g.G==3&&ua(g)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,Jt.aa.N.call(this)};function Pu(c){_r.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}D(Pu,_r);function Lu(){Ro.call(this),this.status=1}D(Lu,Ro);function er(c){this.g=c}D(er,Vu),er.prototype.ua=function(){Fe(this.g,"a")},er.prototype.ta=function(c){Fe(this.g,new Pu(c))},er.prototype.sa=function(c){Fe(this.g,new Lu)},er.prototype.ra=function(){Fe(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,ET=function(){return new ha},vT=function(){return ri()},_T=Gn,xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,Wc=ai,vr.COMPLETE="complete",yT=vr,wo.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",ot.prototype.listen=ot.prototype.K,kl=wo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,gT=qe}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const i0="@firebase/firestore",s0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new ep("@firebase/firestore");function Ba(){return js.logLevel}function ue(i,...e){if(js.logLevel<=Me.DEBUG){const n=e.map(mp);js.debug(`Firestore (${po}): ${i}`,...n)}}function Wr(i,...e){if(js.logLevel<=Me.ERROR){const n=e.map(mp);js.error(`Firestore (${po}): ${i}`,...n)}}function Za(i,...e){if(js.logLevel<=Me.WARN){const n=e.map(mp);js.warn(`Firestore (${po}): ${i}`,...n)}}function mp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,TT(i,s,n)}function TT(i,e,n){let s=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Wr(s),new Error(s)}function He(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||TT(e,o,s)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class ZC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JC{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Kr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Kr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new bT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class e2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class t2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new e2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new a0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new a0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=r2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function Dm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=AT(),f=i2(u.encode(o0(i,n)),u.encode(o0(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(i.length,e.length)}function o0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function i2(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ce(i[n],e[n]);return Ce(i.length,e.length)}function Ja(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=-62135596800,u0=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*u0);return new wt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l0)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-l0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new wt(0,0))}static max(){return new Ae(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="__name__";class lr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return lr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=lr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=lr.isNumericId(e),o=lr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?lr.extractNumericId(e).compare(lr.extractNumericId(n)):Dm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zi.fromString(e.substring(4,e.length-2))}}class et extends lr{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const s2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends lr{construct(e,n,s){return new qt(e,n,s)}static isValidIdentifier(e){return s2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c0}static keyField(){return new qt([c0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(et.fromString(e))}static fromName(e){return new de(et.fromString(e).popFirst(5))}static empty(){return new de(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function a2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new wt(n+1,0):new wt(n,s));return new qi(o,de.empty(),e)}function o2(i){return new qi(i.readTime,i.key,Ql)}class qi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new qi(Ae.min(),de.empty(),Ql)}static max(){return new qi(Ae.max(),de.empty(),Ql)}}function l2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(i.documentKey,e.documentKey),n!==0?n:Ce(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(i){if(i.code!==W.FAILED_PRECONDITION||i.message!==u2)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function h2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Dh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=-1;function Nh(i){return i==null}function fh(i){return i===0&&1/i==-1/0}function f2(i){return typeof i=="number"&&Number.isInteger(i)&&!fh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="";function d2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=h0(e)),e=m2(i.get(n),e);return h0(e)}function m2(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case wT:n+="";break;default:n+=u}}return n}function h0(i){return i+wT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function $i(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function RT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Bt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d0(this.data.getIterator())}getIteratorFrom(e){return new d0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class d0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new yn([])}unionWith(e){let n=new Rt(qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new IT("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const p2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(i){if(He(!!i,39018),typeof i=="string"){let e=0;const n=p2.exec(i);if(He(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(i.seconds),nanos:dt(i.nanos)}}function dt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Fi(i){return typeof i=="string"?Ht.fromBase64String(i):Ht.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="server_timestamp",xT="__type__",DT="__previous_value__",NT="__local_write_time__";function Oh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[xT])===null||n===void 0?void 0:n.stringValue)===CT}function Mh(i){const e=i.mapValue.fields[DT];return Oh(e)?Mh(e):e}function Yl(i){const e=Hi(i.mapValue.fields[NT].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const dh="(default)";class $l{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="__type__",y2="__max__",qc={mapValue:{}},MT="__vector__",mh="value";function Gi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Oh(i)?4:v2(i)?9007199254740991:_2(i)?10:11:Ee(28295,{value:i})}function dr(i,e){if(i===e)return!0;const n=Gi(i);if(n!==Gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Yl(i).isEqual(Yl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Hi(o.timestampValue),m=Hi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Fi(o.bytesValue).isEqual(Fi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=dt(o.doubleValue),m=dt(u.doubleValue);return f===m?fh(f)===fh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Ja(i.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(f0(f)!==f0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!dr(f[p],m[p])))return!1;return!0}(i,e);default:return Ee(52216,{left:i})}}function Xl(i,e){return(i.values||[]).find(n=>dr(n,e))!==void 0}function eo(i,e){if(i===e)return 0;const n=Gi(i),s=Gi(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=dt(u.integerValue||u.doubleValue),p=dt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return m0(i.timestampValue,e.timestampValue);case 4:return m0(Yl(i),Yl(e));case 5:return Dm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Fi(u),p=Fi(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ce(m[y],p[y]);if(E!==0)return E}return Ce(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(dt(u.latitude),dt(f.latitude));return m!==0?m:Ce(dt(u.longitude),dt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return p0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const A=u.fields||{},S=f.fields||{},P=(m=A[mh])===null||m===void 0?void 0:m.arrayValue,D=(p=S[mh])===null||p===void 0?void 0:p.arrayValue,Q=Ce(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((E=D==null?void 0:D.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:p0(P,D)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===qc.mapValue&&f===qc.mapValue)return 0;if(u===qc.mapValue)return 1;if(f===qc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const S=Dm(p[A],E[A]);if(S!==0)return S;const P=eo(m[p[A]],y[E[A]]);if(P!==0)return P}return Ce(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Ee(23264,{Pe:n})}}function m0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const n=Hi(i),s=Hi(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function p0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=eo(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function to(i){return Nm(i)}function Nm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Hi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Fi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return de.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Nm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Nm(n.fields[f])}`;return o+"}"}(i.mapValue):Ee(61005,{value:i})}function Zc(i){switch(Gi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mh(i);return e?16+Zc(e):16;case 5:return 2*i.stringValue.length;case 6:return Fi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Zc(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return $i(s.fields,(u,f)=>{o+=u.length+Zc(f)}),o}(i.mapValue);default:throw Ee(13486,{value:i})}}function ph(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Om(i){return!!i&&"integerValue"in i}function gp(i){return!!i&&"arrayValue"in i}function g0(i){return!!i&&"nullValue"in i}function y0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Jc(i){return!!i&&"mapValue"in i}function _2(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[OT])===null||n===void 0?void 0:n.stringValue)===MT}function zl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return $i(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=zl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function v2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===y2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=qt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=zl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){$i(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new on(zl(this.value))}}function kT(i){const e=[];return $i(i.fields,(n,s)=>{const o=new qt([n]);if(Jc(s)){const u=kT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new $t(e,0,Ae.min(),Ae.min(),Ae.min(),on.empty(),0)}static newFoundDocument(e,n,s,o){return new $t(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new $t(e,2,n,Ae.min(),Ae.min(),on.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,Ae.min(),Ae.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this.position=e,this.inclusive=n}}function _0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(f.referenceValue),n.key):s=eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function v0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!dr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n="asc"){this.field=e,this.dir=n}}function E2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{}class vt extends VT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new b2(e,n,s):n==="array-contains"?new w2(e,s):n==="in"?new R2(e,s):n==="not-in"?new I2(e,s):n==="array-contains-any"?new C2(e,s):new vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new A2(e,s):new S2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&Gi(this.value)===Gi(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends VT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new qn(e,n)}matches(e){return PT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function PT(i){return i.op==="and"}function LT(i){return T2(i)&&PT(i)}function T2(i){for(const e of i.filters)if(e instanceof qn)return!1;return!0}function Mm(i){if(i instanceof vt)return i.field.canonicalString()+i.op.toString()+to(i.value);if(LT(i))return i.filters.map(e=>Mm(e)).join(",");{const e=i.filters.map(n=>Mm(n)).join(",");return`${i.op}(${e})`}}function UT(i,e){return i instanceof vt?function(s,o){return o instanceof vt&&s.op===o.op&&s.field.isEqual(o.field)&&dr(s.value,o.value)}(i,e):i instanceof qn?function(s,o){return o instanceof qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&UT(f,o.filters[m]),!0):!1}(i,e):void Ee(19439)}function jT(i){return i instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(i):i instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(jT).join(" ,")+"}"}(i):"Filter"}class b2 extends vt{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class A2 extends vt{constructor(e,n){super(e,"in",n),this.keys=zT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class S2 extends vt{constructor(e,n){super(e,"not-in",n),this.keys=zT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>de.fromName(s.referenceValue))}class w2 extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gp(n)&&Xl(n.arrayValue,this.value)}}class R2 extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class I2 extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class C2 extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function E0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new x2(i,e,n,s,o,u,f)}function yp(i){const e=Se(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Mm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>to(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>to(s)).join(",")),e.Ie=n}return e.Ie}function _p(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!E2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!UT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!v0(i.startAt,e.startAt)&&v0(i.endAt,e.endAt)}function km(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function D2(i,e,n,s,o,u,f,m){return new Fs(i,e,n,s,o,u,f,m)}function vp(i){return new Fs(i)}function T0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Ep(i){return i.collectionGroup!==null}function Ya(i){const e=Se(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Rt(qt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Wl(u,s))}),n.has(qt.keyField().canonicalString())||e.Ee.push(new Wl(qt.keyField(),s))}return e.Ee}function cr(i){const e=Se(i);return e.de||(e.de=N2(e,Ya(i))),e.de}function N2(i,e){if(i.limitType==="F")return E0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Wl(o.field,u)});const n=i.endAt?new no(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new no(i.startAt.position,i.startAt.inclusive):null;return E0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Vm(i,e){const n=i.filters.concat([e]);return new Fs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function gh(i,e,n){return new Fs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function kh(i,e){return _p(cr(i),cr(e))&&i.limitType===e.limitType}function BT(i){return`${yp(cr(i))}|lt:${i.limitType}`}function qa(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>jT(o)).join(", ")}]`),Nh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>to(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>to(o)).join(",")),`Target(${s})`}(cr(i))}; limitType=${i.limitType})`}function Vh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Ya(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=_0(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Ya(s),o)||s.endAt&&!function(f,m,p){const y=_0(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Ya(s),o))}(i,e)}function O2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qT(i){return(e,n)=>{let s=!1;for(const o of Ya(i)){const u=M2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function M2(i,e,n){const s=i.field.isKeyField()?de.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?eo(p,y):Ee(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){$i(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return RT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new st(de.comparator);function Zr(){return k2}const HT=new st(de.comparator);function Vl(...i){let e=HT;for(const n of i)e=e.insert(n.key,n);return e}function FT(i){let e=HT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ps(){return Bl()}function GT(){return Bl()}function Bl(){return new Gs(i=>i.toString(),(i,e)=>i.isEqual(e))}const V2=new st(de.comparator),P2=new Rt(de.comparator);function ke(...i){let e=P2;for(const n of i)e=e.add(n);return e}const L2=new Rt(Ce);function U2(){return L2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function KT(i){return{integerValue:""+i}}function j2(i,e){return f2(e)?KT(e):Tp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this._=void 0}}function z2(i,e,n){return i instanceof Zl?function(o,u){const f={fields:{[xT]:{stringValue:CT},[NT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Oh(u)&&(u=Mh(u)),u&&(f.fields[DT]=u),{mapValue:f}}(n,e):i instanceof Jl?YT(i,e):i instanceof eu?$T(i,e):function(o,u){const f=QT(o,u),m=b0(f)+b0(o.Re);return Om(f)&&Om(o.Re)?KT(m):Tp(o.serializer,m)}(i,e)}function B2(i,e,n){return i instanceof Jl?YT(i,e):i instanceof eu?$T(i,e):n}function QT(i,e){return i instanceof yh?function(s){return Om(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Zl extends Ph{}class Jl extends Ph{constructor(e){super(),this.elements=e}}function YT(i,e){const n=XT(e);for(const s of i.elements)n.some(o=>dr(o,s))||n.push(s);return{arrayValue:{values:n}}}class eu extends Ph{constructor(e){super(),this.elements=e}}function $T(i,e){let n=XT(e);for(const s of i.elements)n=n.filter(o=>!dr(o,s));return{arrayValue:{values:n}}}class yh extends Ph{constructor(e,n){super(),this.serializer=e,this.Re=n}}function b0(i){return dt(i.integerValue||i.doubleValue)}function XT(i){return gp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.field=e,this.transform=n}}function H2(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Jl&&o instanceof Jl||s instanceof eu&&o instanceof eu?Ja(s.elements,o.elements,dr):s instanceof yh&&o instanceof yh?dr(s.Re,o.Re):s instanceof Zl&&o instanceof Zl}(i.transform,e.transform)}class F2{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Lh{}function WT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new JT(i.key,Bn.none()):new lu(i.key,i.data,Bn.none());{const n=i.data,s=on.empty();let o=new Rt(qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Xi(i.key,s,new yn(o.toArray()),Bn.none())}}function G2(i,e,n){i instanceof lu?function(o,u,f){const m=o.value.clone(),p=S0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Xi?function(o,u,f){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=S0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ZT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ql(i,e,n,s){return i instanceof lu?function(u,f,m,p){if(!eh(u.precondition,f))return m;const y=u.value.clone(),E=w0(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,n,s):i instanceof Xi?function(u,f,m,p){if(!eh(u.precondition,f))return m;const y=w0(u.fieldTransforms,p,f),E=f.data;return E.setAll(ZT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,s):function(u,f,m){return eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function K2(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=QT(s.transform,o||null);u!=null&&(n===null&&(n=on.empty()),n.set(s.field,u))}return n||null}function A0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ja(s,o,(u,f)=>H2(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class lu extends Lh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xi extends Lh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ZT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function S0(i,e,n){const s=new Map;He(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,B2(f,m,n[o]))}return s}function w0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,z2(u,f,e))}return s}class JT extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q2 extends Lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&G2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=GT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=WT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,s)=>A0(n,s))&&Ja(this.baseMutations,e.baseMutations,(n,s)=>A0(n,s))}}class bp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return V2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new bp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function W2(i){switch(i){case W.OK:return Ee(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function eb(i){if(i===void 0)return Wr("GRPC error has no .code"),W.UNKNOWN;switch(i){case _t.OK:return W.OK;case _t.CANCELLED:return W.CANCELLED;case _t.UNKNOWN:return W.UNKNOWN;case _t.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case _t.INTERNAL:return W.INTERNAL;case _t.UNAVAILABLE:return W.UNAVAILABLE;case _t.UNAUTHENTICATED:return W.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case _t.NOT_FOUND:return W.NOT_FOUND;case _t.ALREADY_EXISTS:return W.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return W.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case _t.ABORTED:return W.ABORTED;case _t.OUT_OF_RANGE:return W.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return W.UNIMPLEMENTED;case _t.DATA_LOSS:return W.DATA_LOSS;default:return Ee(39323,{code:i})}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new zi([4294967295,4294967295],0);function R0(i){const e=AT().encode(i),n=new pT;return n.update(e),new Uint8Array(n.digest())}function I0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new zi([n,s],0),new zi([o,u],0)]}class Ap{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(s<0)throw new Pl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=zi.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(zi.fromNumber(s)));return o.compare(Z2)===1&&(o=new zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=R0(e),[s,o]=I0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ap(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=R0(e),[s,o]=I0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Uh(Ae.min(),o,new st(Ce),Zr(),ke())}}class uu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new uu(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class tb{constructor(e,n){this.targetId=e,this.Ce=n}}class nb{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class C0{constructor(){this.Fe=0,this.Me=x0(),this.xe=Ht.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),n=ke(),s=ke();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new uu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=x0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class J2{constructor(e){this.ze=e,this.je=new Map,this.He=Zr(),this.Je=Hc(),this.Ye=Hc(),this.Ze=new st(Ce)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(km(u))if(s===0){const f=new de(u.path);this.tt(n,f,$t.newNoDocument(f,Ae.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Fi(s).toUint8Array()}catch(p){if(p instanceof IT)return Za("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ap(f,o,u)}catch(p){return Za(p instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&km(m.target)){const p=new de(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,$t.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=ke();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Uh(e,n,this.Ze,this.He,s);return this.He=Zr(),this.Je=Hc(),this.Ye=Hc(),this.Ze=new st(Ce),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new C0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Rt(Ce),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Rt(Ce),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new C0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Hc(){return new st(de.comparator)}function x0(){return new st(de.comparator)}const ex={asc:"ASCENDING",desc:"DESCENDING"},tx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nx={and:"AND",or:"OR"};class rx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pm(i,e){return i.useProto3Json||Nh(e)?e:{value:e}}function _h(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ix(i,e){return _h(i,e.toTimestamp())}function hr(i){return He(!!i,49232),Ae.fromTimestamp(function(n){const s=Hi(n);return new wt(s.seconds,s.nanos)}(i))}function Sp(i,e){return Lm(i,e).canonicalString()}function Lm(i,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function ib(i){const e=et.fromString(i);return He(ub(e),10190,{key:e.toString()}),e}function Um(i,e){return Sp(i.databaseId,e.path)}function fm(i,e){const n=ib(e);if(n.get(1)!==i.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new de(ab(n))}function sb(i,e){return Sp(i.databaseId,e)}function sx(i){const e=ib(i);return e.length===4?et.emptyPath():ab(e)}function jm(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ab(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function D0(i,e,n){return{name:Um(i,e),fields:n.value.mapValue.fields}}function ax(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(He(E===void 0||typeof E=="string",58123),Ht.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ht.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?W.UNKNOWN:eb(y.code);return new le(E,y.message||"")}(f);n=new nb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=fm(i,s.document.name),u=hr(s.document.updateTime),f=s.document.createTime?hr(s.document.createTime):Ae.min(),m=new on({mapValue:{fields:s.document.fields}}),p=$t.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new th(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=fm(i,s.document),u=s.readTime?hr(s.readTime):Ae.min(),f=$t.newNoDocument(o,u),m=s.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=fm(i,s.document),u=s.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new X2(o,u),m=s.targetId;n=new tb(m,f)}}return n}function ox(i,e){let n;if(e instanceof lu)n={update:D0(i,e.key,e.value)};else if(e instanceof JT)n={delete:Um(i,e.key)};else if(e instanceof Xi)n={update:D0(i,e.key,e.data),updateMask:gx(e.fieldMask)};else{if(!(e instanceof Q2))return Ee(16599,{ft:e.type});n={verify:Um(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Ee(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:ix(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(i,e.precondition)),n}function lx(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?hr(o.updateTime):hr(u);return f.isEqual(Ae.min())&&(f=hr(u)),new F2(f,o.transformResults||[])}(n,e))):[]}function ux(i,e){return{documents:[sb(i,e.path)]}}function cx(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=sb(i,o);const u=function(y){if(y.length!==0)return lb(qn.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:Ha(S.field),direction:dx(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Pm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:n,parent:o}}function hx(i){let e=sx(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const S=ob(A);return S instanceof qn&&LT(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(S=>function(D){return new Wl(Fa(D.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,Nh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(A){const S=!!A.before,P=A.values||[];return new no(P,S)}(n.startAt));let y=null;return n.endAt&&(y=function(A){const S=!A.before,P=A.values||[];return new no(P,S)}(n.endAt)),D2(e,o,f,u,m,"F",p,y)}function fx(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ob(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fa(n.unaryFilter.field);return vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fa(n.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fa(n.unaryFilter.field);return vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fa(n.unaryFilter.field);return vt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(i):i.fieldFilter!==void 0?function(n){return vt.create(Fa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(s=>ob(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(i):Ee(30097,{filter:i})}function dx(i){return ex[i]}function mx(i){return tx[i]}function px(i){return nx[i]}function Ha(i){return{fieldPath:i.canonicalString()}}function Fa(i){return qt.fromServerFormat(i.fieldPath)}function lb(i){return i instanceof vt?function(n){if(n.op==="=="){if(y0(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(g0(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y0(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(g0(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:mx(n.op),value:n.value}}}(i):i instanceof qn?function(n){const s=n.getFilters().map(o=>lb(o));return s.length===1?s[0]:{compositeFilter:{op:px(n.op),filters:s}}}(i):Ee(54877,{filter:i})}function gx(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ub(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.wt=e}}function _x(i){const e=hx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?gh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.yn=new Ex}addToCollectionParentIndex(e,n){return this.yn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(qi.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class Ex{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Rt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Rt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cb=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(cb,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ro(0)}static ir(){return new ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="LruGarbageCollector",Tx=1048576;function M0([i,e],[n,s]){const o=Ce(i,n);return o===0?Ce(e,s):o}class bx{constructor(e){this.cr=e,this.buffer=new Rt(M0),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();M0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Ax{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ue(O0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yo(n)?ue(O0,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Ir(3e5)})}}class Sx{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Dh.le);const s=new bx(n);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(N0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N0):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(y=Date.now(),Ba()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function wx(i,e){return new Sx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.changes=new Gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&ql(s.mutation,o,yn.empty(),wt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=Ps();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Vl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ps();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Zr();const f=Bl(),m=function(){return Bl()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Xi)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),ql(E.mutation,y,E.mutation.getFieldMask(),wt.now())):f.set(y.key,yn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var A;return m.set(y,new Ix(E,(A=f.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Bl();let o=new st((f,m)=>f-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||yn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const A=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,A=GT();E.forEach(S=>{if(!u.has(S)){const P=WT(n.get(S),s.get(S));P!==null&&A.set(S,P),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return de.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ep(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Ps());let m=Ql,p=u;return f.next(y=>ee.forEach(y,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,ke())).next(E=>({batchId:m,changes:FT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(s=>{let o=Vl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const y=function(A,S){return new Fs(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((A,S)=>{f=f.insert(A,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,$t.newInvalidDocument(E)))});let m=Vl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&ql(E.mutation,y,yn.empty(),wt.now()),Vh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:hr(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:_x(o.bundledQuery),readTime:hr(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.overlays=new st(de.comparator),this.Or=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ps();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Ps(),u=n.length+1,f=new de(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new st((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ps(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ps(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new $2(n,s));let u=this.Or.get(n);u===void 0&&(u=ke(),this.Or.set(n,u)),this.Or.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.Nr=new Rt(kt.Br),this.Lr=new Rt(kt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new kt(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new de(new et([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new de(new et([])),s=new kt(n,e),o=new kt(n,e+1);let u=ke();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new kt(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return de.comparator(e.key,n.key)||Ce(e.Gr,n.Gr)}static kr(e,n){return Ce(e.Gr,n.Gr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Rt(kt.Br)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Y2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Hr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?pp:this.Jn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const m=this.jr(f.Gr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Rt(Ce);return n.forEach(o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),ee.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const f=new kt(new de(u),0);let m=new Rt(Ce);return this.zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Gr)),!0)},f),ee.resolve(this.Jr(m))}Jr(e){const n=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return ee.forEach(n.mutations,o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new kt(n,0),o=this.zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.Zr=e,this.docs=function(){return new st(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let s=Zr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$t.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Zr();const f=n.path,m=new de(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||l2(o2(E),s)<=0||(o.has(E.key)||Vh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}Xr(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new kx(this)}getSize(e){return ee.resolve(this.size)}}class kx extends Rx{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.persistence=e,this.ei=new Gs(n=>yp(n),_p),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ti=0,this.ni=new wp,this.targetCount=0,this.ri=ro.rr()}forEachTarget(e,n){return this.ei.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),ee.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.ar(n),ee.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n){this.ii={},this.overlays={},this.si=new Dh(0),this.oi=!1,this.oi=!0,this._i=new Nx,this.referenceDelegate=e(this),this.ai=new Vx(this),this.indexManager=new vx,this.remoteDocumentCache=function(o){return new Mx(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new yx(n),this.ci=new xx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Dx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new Ox(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new Px(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,n){return ee.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class Px extends c2{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Ti=new wp,this.Ii=null}static Ei(e){return new Rp(e)}get di(){if(this.Ii)return this.Ii;throw Ee(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,s=>{const o=de.fromPath(s);return this.Ai(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return ee.or([()=>ee.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.Ri=new Gs(s=>d2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=wx(this,n)}static Ei(e,n){return new vh(e,n)}li(){}hi(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return ee.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),ee.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}gr(e,n,s){return ee.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=o}static Ps(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ip(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return _R()?8:h2(Xt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new Lx;return this.fs(e,n,f).next(m=>{if(u.result=m,this.Is)return this.gs(e,n,f,m.size)})}).next(()=>u.result)}gs(e,n,s,o){return s.documentReadCount<this.Es?(Ba()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ee.resolve()):(Ba()<=Me.DEBUG&&ue("QueryEngine","Query:",qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ba()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):ee.resolve())}Rs(e,n){if(T0(n))return ee.resolve(null);let s=cr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=gh(n,null,"F"),s=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ke(...u);return this.As.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.ps(n,m);return this.ys(n,y,f,p.readTime)?this.Rs(e,gh(n,null,"F")):this.ws(e,y,n,p)}))})))}Vs(e,n,s,o){return T0(n)||o.isEqual(Ae.min())?ee.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(n,u);return this.ys(n,f,s,o)?ee.resolve(null):(Ba()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qa(n)),this.ws(e,f,n,a2(o,Ql)).next(m=>m))})}ps(e,n){let s=new Rt(qT(e));return n.forEach((o,u)=>{Vh(e,u)&&(s=s.add(u))}),s}ys(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,n,s){return Ba()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",qa(n)),this.As.getDocumentsMatchingQuery(e,n,qi.min(),s)}ws(e,n,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="LocalStore",jx=3e8;class zx{constructor(e,n,s,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new st(Ce),this.Ds=new Gs(u=>yp(u),_p),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cx(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function Bx(i,e,n,s){return new zx(i,e,n,s)}async function fb(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=ke();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Ms:y,removedBatchIds:f,addedBatchIds:m}))})})}function qx(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const A=y.batch,S=A.keys();let P=ee.resolve();return S.forEach(D=>{P=P.next(()=>E.getEntry(p,D)).next(Q=>{const q=y.docVersions.get(D);He(q!==null,48541),Q.version.compareTo(q)<0&&(A.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function db(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function Hx(i,e){const n=Se(i),s=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const m=[];e.targetChanges.forEach((E,A)=>{const S=o.get(A);if(!S)return;m.push(n.ai.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,A)));let P=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?P=P.withResumeToken(Ht.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(A,P),function(Q,q,Y){return Q.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=jx?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(S,P,E)&&m.push(n.ai.updateTargetData(u,P))});let p=Zr(),y=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(Fx(u,f,e.documentUpdates).next(E=>{p=E.xs,y=E.Os})),!s.isEqual(Ae.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(A=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ss=o,u))}function Fx(i,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=Zr();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Cp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{xs:f,Os:o}})}function Gx(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Kx(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ai.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.ai.allocateTargetId(s).next(f=>(o=new Vi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function zm(i,e,n){const s=Se(i),o=s.Ss.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!yo(f))throw f;ue(Cp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function k0(i,e,n){const s=Se(i);let o=Ae.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const A=Se(p),S=A.Ds.get(E);return S!==void 0?ee.resolve(A.Ss.get(S)):A.ai.getTargetData(y,E)}(s,f,cr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:ke())).next(m=>(Qx(s,O2(e),m),{documents:m,Ns:u})))}function Qx(i,e,n){let s=i.vs.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(e,s)}class V0{constructor(){this.activeTargetIds=U2()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yx{constructor(){this.So=new V0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new V0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="ConnectivityMonitor";class L0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ue(P0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ue(P0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function Bm(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="RestConnection",Xx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wx{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,n,s,o,u){const f=Bm(),m=this.$o(e,n.toUriEncodedString());ue(dm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(e,m,p,s).then(y=>(ue(dm,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Za(dm,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Wo(e,n,s,o,u,f){return this.Qo(e,n,s,o,u)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,n){const s=Xx[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class Jx extends Wx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,o){const u=Bm();return new Promise((f,m)=>{const p=new gT;p.setWithCredentials(!0),p.listenOnce(yT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Wc.NO_ERROR:const E=p.getResponseJson();ue(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Wc.TIMEOUT:ue(Qt,`RPC '${e}' ${u} timed out`),m(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const A=p.getStatus();if(ue(Qt,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const P=S==null?void 0:S.error;if(P&&P.status&&P.message){const D=function(q){const Y=q.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Y)>=0?Y:W.UNKNOWN}(P.status);m(new le(D,P.message))}else m(new le(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new le(W.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{s_:e,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{ue(Qt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ue(Qt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}a_(e,n,s){const o=Bm(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ET(),m=vT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Qt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);let S=!1,P=!1;const D=new Zx({Go:q=>{P?ue(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(S||(ue(Qt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),ue(Qt,`RPC '${e}' stream ${o} sending:`,q),A.send(q))},zo:()=>A.close()}),Q=(q,Y,ie)=>{q.listen(Y,ne=>{try{ie(ne)}catch(me){setTimeout(()=>{throw me},0)}})};return Q(A,kl.EventType.OPEN,()=>{P||(ue(Qt,`RPC '${e}' stream ${o} transport opened.`),D.t_())}),Q(A,kl.EventType.CLOSE,()=>{P||(P=!0,ue(Qt,`RPC '${e}' stream ${o} transport closed`),D.r_())}),Q(A,kl.EventType.ERROR,q=>{P||(P=!0,Za(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),D.r_(new le(W.UNAVAILABLE,"The operation could not be completed")))}),Q(A,kl.EventType.MESSAGE,q=>{var Y;if(!P){const ie=q.data[0];He(!!ie,16349);const ne=ie,me=(ne==null?void 0:ne.error)||((Y=ne[0])===null||Y===void 0?void 0:Y.error);if(me){ue(Qt,`RPC '${e}' stream ${o} received error:`,me);const he=me.status;let we=function(R){const O=_t[R];if(O!==void 0)return eb(O)}(he),k=me.message;we===void 0&&(we=W.INTERNAL,k="Unknown error status: "+he+" with message "+me.message),P=!0,D.r_(new le(we,k)),A.close()}else ue(Qt,`RPC '${e}' stream ${o} received:`,ie),D.i_(ie)}}),Q(m,_T.STAT_EVENT,q=>{q.stat===xm.PROXY?ue(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===xm.NOPROXY&&ue(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.n_()},0),D}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(i){return new rx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="PersistentStream";class pb{constructor(e,n,s,o,u,f,m,p){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new mb(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===n&&this.B_(s,o)},s=>{e(()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ue(U0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ue(U0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eD extends pb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=ax(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?hr(f.readTime):Ae.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=jm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=km(p)?{documents:ux(u,p)}:{query:cx(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=rb(u,f.resumeToken);const y=Pm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=_h(u,f.snapshotVersion.toTimestamp());const y=Pm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=fx(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=jm(this.serializer),n.removeTarget=e,this.F_(n)}}class tD extends pb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=lx(e.writeResults,e.commitTime),s=hr(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=jm(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>ox(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{}class rD extends nD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,Lm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())})}Wo(e,n,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(e,Lm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(W.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class iD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Wr(n),this.ea=!1):ue("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="RemoteStore";class sD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{Ks(this)&&(ue(zs,"Restarting streams for network reachability change."),await async function(p){const y=Se(p);y.aa.add(4),await cu(y),y.la.set("Unknown"),y.aa.delete(4),await zh(y)}(this))})}),this.la=new iD(s,o)}}async function zh(i){if(Ks(i))for(const e of i.ua)await e(!0)}async function cu(i){for(const e of i.ua)await e(!1)}function gb(i,e){const n=Se(i);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Op(n)?Np(n):_o(n).b_()&&Dp(n,e))}function xp(i,e){const n=Se(i),s=_o(n);n._a.delete(e),s.b_()&&yb(n,e),n._a.size===0&&(s.b_()?s.v_():Ks(n)&&n.la.set("Unknown"))}function Dp(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(i).U_(e)}function yb(i,e){i.ha.Ke(e),_o(i).K_(e)}function Np(i){i.ha=new J2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),_o(i).start(),i.la.ta()}function Op(i){return Ks(i)&&!_o(i).w_()&&i._a.size>0}function Ks(i){return Se(i).aa.size===0}function _b(i){i.ha=void 0}async function aD(i){i.la.set("Online")}async function oD(i){i._a.forEach((e,n)=>{Dp(i,e)})}async function lD(i,e){_b(i),Op(i)?(i.la.ia(e),Np(i)):i.la.set("Unknown")}async function uD(i,e,n){if(i.la.set("Online"),e instanceof nb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(i,e)}catch(s){ue(zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Eh(i,s)}else if(e instanceof th?i.ha.Xe(e):e instanceof tb?i.ha.ot(e):i.ha.nt(e),!n.isEqual(Ae.min()))try{const s=await db(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(y);E&&u._a.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),yb(u,p);const A=new Vi(E.target,p,y,E.sequenceNumber);Dp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ue(zs,"Failed to raise snapshot:",s),await Eh(i,s)}}async function Eh(i,e,n){if(!yo(e))throw e;i.aa.add(1),await cu(i),i.la.set("Offline"),n||(n=()=>db(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(zs,"Retrying IndexedDB access"),await n(),i.aa.delete(1),await zh(i)})}function vb(i,e){return e().catch(n=>Eh(i,n,e))}async function Bh(i){const e=Se(i),n=Ki(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:pp;for(;cD(e);)try{const o=await Gx(e.localStore,s);if(o===null){e.oa.length===0&&n.v_();break}s=o.batchId,hD(e,o)}catch(o){await Eh(e,o)}Eb(e)&&Tb(e)}function cD(i){return Ks(i)&&i.oa.length<10}function hD(i,e){i.oa.push(e);const n=Ki(i);n.b_()&&n.W_&&n.G_(e.mutations)}function Eb(i){return Ks(i)&&!Ki(i).w_()&&i.oa.length>0}function Tb(i){Ki(i).start()}async function fD(i){Ki(i).H_()}async function dD(i){const e=Ki(i);for(const n of i.oa)e.G_(n.mutations)}async function mD(i,e,n){const s=i.oa.shift(),o=bp.from(s,e,n);await vb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Bh(i)}async function pD(i,e){e&&Ki(i).W_&&await async function(s,o){if(function(f){return W2(f)&&f!==W.ABORTED}(o.code)){const u=s.oa.shift();Ki(s).D_(),await vb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Bh(s)}}(i,e),Eb(i)&&Tb(i)}async function j0(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),ue(zs,"RemoteStore received new credentials");const s=Ks(n);n.aa.add(3),await cu(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await zh(n)}async function gD(i,e){const n=Se(i);e?(n.aa.delete(2),await zh(n)):e||(n.aa.add(2),await cu(n),n.la.set("Unknown"))}function _o(i){return i.Pa||(i.Pa=function(n,s,o){const u=Se(n);return u.Y_(),new eD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:aD.bind(null,i),Jo:oD.bind(null,i),Zo:lD.bind(null,i),Q_:uD.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),Op(i)?Np(i):i.la.set("Unknown")):(await i.Pa.stop(),_b(i))})),i.Pa}function Ki(i){return i.Ta||(i.Ta=function(n,s,o){const u=Se(n);return u.Y_(),new tD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:fD.bind(null,i),Zo:pD.bind(null,i),z_:dD.bind(null,i),j_:mD.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await Bh(i)):(await i.Ta.stop(),i.oa.length>0&&(ue(zs,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Mp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kp(i,e){if(Wr("AsyncQueue",`${e}: ${i}`),yo(i))return new le(W.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{static emptySet(e){return new $a(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Vl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new $a;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.Ia=new st(de.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class io{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new io(e,n,$a.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class _D{constructor(){this.queries=B0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=B0(),u.forEach((f,m)=>{for(const p of m.Ra)p.onError(s)})})(this,new le(W.ABORTED,"Firestore shutting down"))}}function B0(){return new Gs(i=>BT(i),kh)}async function bb(i,e){const n=Se(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new yD,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=kp(f,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Ra.push(e),e.ga(n.onlineState),u.Aa&&e.pa(u.Aa)&&Vp(n)}async function Ab(i,e){const n=Se(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function vD(i,e){const n=Se(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(s=!0);f.Aa=o}}s&&Vp(n)}function ED(i,e,n){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(n);s.queries.delete(e)}function Vp(i){i.fa.forEach(e=>{e.next()})}var qm,q0;(q0=qm||(qm={})).ya="default",q0.Cache="cache";class Sb{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.key=e}}class Rb{constructor(e){this.key=e}}class TD{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ke(),this.mutatedKeys=ke(),this.Ua=qT(e),this.Ka=new $a(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new z0,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const S=o.get(E),P=Vh(this.query,A)?A:null,D=!!S&&this.mutatedKeys.has(S.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let q=!1;S&&P?S.data.isEqual(P.data)?D!==Q&&(s.track({type:3,doc:P}),q=!0):this.ja(S,P)||(s.track({type:2,doc:P}),q=!0,(p&&this.Ua(P,p)>0||y&&this.Ua(P,y)<0)&&(m=!0)):!S&&P?(s.track({type:0,doc:P}),q=!0):S&&!P&&(s.track({type:1,doc:S}),q=!0,(p||y)&&(m=!0)),q&&(P?(f=f.add(P),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,A)=>function(P,D){const Q=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:q})}};return Q(P)-Q(D)}(E.type,A.type)||this.Ua(E.doc,A.doc)),this.Ha(s),o=o!=null&&o;const m=n&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,y=p!==this.Qa;return this.Qa=p,f.length!==0||y?{snapshot:new io(this.query,e.Ka,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new z0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ke(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new Rb(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new wb(s))}),n}Xa(e){this.qa=e.Ns,this.$a=ke();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return io.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Pp="SyncEngine";class bD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class AD{constructor(e){this.key=e,this.tu=!1}}class SD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Gs(m=>BT(m),kh),this.iu=new Map,this.su=new Set,this.ou=new st(de.comparator),this._u=new Map,this.au=new wp,this.uu={},this.cu=new Map,this.lu=ro.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function wD(i,e,n=!0){const s=Ob(i);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await Ib(s,e,n,!0),o}async function RD(i,e){const n=Ob(i);await Ib(n,e,!0,!1)}async function Ib(i,e,n,s){const o=await Kx(i.localStore,cr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ID(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&gb(i.remoteStore,o),m}async function ID(i,e,n,s,o){i.Pu=(A,S,P)=>async function(Q,q,Y,ie){let ne=q.view.Ga(Y);ne.ys&&(ne=await k0(Q.localStore,q.query,!1).then(({documents:k})=>q.view.Ga(k,ne)));const me=ie&&ie.targetChanges.get(q.targetId),he=ie&&ie.targetMismatches.get(q.targetId)!=null,we=q.view.applyChanges(ne,Q.isPrimaryClient,me,he);return F0(Q,q.targetId,we.Ya),we.snapshot}(i,A,S,P);const u=await k0(i.localStore,e,!0),f=new TD(e,u.Ns),m=f.Ga(u.documents),p=uu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,p);F0(i,n,y.Ya);const E=new bD(e,n,f);return i.ru.set(e,E),i.iu.has(n)?i.iu.get(n).push(e):i.iu.set(n,[e]),y.snapshot}async function CD(i,e,n){const s=Se(i),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!kh(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&xp(s.remoteStore,o.targetId),Hm(s,o.targetId)}).catch(go)):(Hm(s,o.targetId),await zm(s.localStore,o.targetId,!0))}async function xD(i,e){const n=Se(i),s=n.ru.get(e),o=n.iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xp(n.remoteStore,s.targetId))}async function DD(i,e,n){const s=LD(i);try{const o=await function(f,m){const p=Se(f),y=wt.now(),E=m.reduce((P,D)=>P.add(D.key),ke());let A,S;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let D=Zr(),Q=ke();return p.Cs.getEntries(P,E).next(q=>{D=q,D.forEach((Y,ie)=>{ie.isValidDocument()||(Q=Q.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,D)).next(q=>{A=q;const Y=[];for(const ie of m){const ne=K2(ie,A.get(ie.key).overlayedDocument);ne!=null&&Y.push(new Xi(ie.key,ne,kT(ne.value.mapValue),Bn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,Y,m)}).next(q=>{S=q;const Y=q.applyToLocalDocumentSet(A,Q);return p.documentOverlayCache.saveOverlays(P,q.batchId,Y)})}).then(()=>({batchId:S.batchId,changes:FT(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.uu[f.currentUser.toKey()];y||(y=new st(Ce)),y=y.insert(m,p),f.uu[f.currentUser.toKey()]=y}(s,o.batchId,n),await hu(s,o.changes),await Bh(s.remoteStore)}catch(o){const u=kp(o,"Failed to persist write");n.reject(u)}}async function Cb(i,e){const n=Se(i);try{const s=await Hx(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?He(f.tu,14607):o.removedDocuments.size>0&&(He(f.tu,42227),f.tu=!1))}),await hu(n,s,e)}catch(s){await go(s)}}function H0(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ru.forEach((u,f)=>{const m=f.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let y=!1;p.queries.forEach((E,A)=>{for(const S of A.Ra)S.ga(m)&&(y=!0)}),y&&Vp(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ND(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s._u.get(e),u=o&&o.key;if(u){let f=new st(de.comparator);f=f.insert(u,$t.newNoDocument(u,Ae.min()));const m=ke().add(u),p=new Uh(Ae.min(),new Map,new st(Ce),f,m);await Cb(s,p),s.ou=s.ou.remove(u),s._u.delete(e),Lp(s)}else await zm(s.localStore,e,!1).then(()=>Hm(s,e,n)).catch(go)}async function OD(i,e){const n=Se(i),s=e.batch.batchId;try{const o=await qx(n.localStore,e);Db(n,s,null),xb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await hu(n,o)}catch(o){await go(o)}}async function MD(i,e,n){const s=Se(i);try{const o=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(A=>(He(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(y,A))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);Db(s,e,n),xb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await hu(s,o)}catch(o){await go(o)}}function xb(i,e){(i.cu.get(e)||[]).forEach(n=>{n.resolve()}),i.cu.delete(e)}function Db(i,e,n){const s=Se(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Hm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),n&&i.nu.Tu(s,n);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||Nb(i,s)})}function Nb(i,e){i.su.delete(e.path.canonicalString());const n=i.ou.get(e);n!==null&&(xp(i.remoteStore,n),i.ou=i.ou.remove(e),i._u.delete(n),Lp(i))}function F0(i,e,n){for(const s of n)s instanceof wb?(i.au.addReference(s.key,e),kD(i,s)):s instanceof Rb?(ue(Pp,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||Nb(i,s.key)):Ee(19791,{Iu:s})}function kD(i,e){const n=e.key,s=n.path.canonicalString();i.ou.get(n)||i.su.has(s)||(ue(Pp,"New document in limbo: "+n),i.su.add(s),Lp(i))}function Lp(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const n=new de(et.fromString(e)),s=i.lu.next();i._u.set(s,new AD(n)),i.ou=i.ou.insert(n,s),gb(i.remoteStore,new Vi(cr(vp(n.path)),s,"TargetPurposeLimboResolution",Dh.le))}}async function hu(i,e,n){const s=Se(i),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,p)=>{f.push(s.Pu(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){o.push(y);const A=Ip.Ps(p.targetId,y);u.push(A)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(p,y){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ee.forEach(y,S=>ee.forEach(S.ls,P=>E.persistence.referenceDelegate.addReference(A,S.targetId,P)).next(()=>ee.forEach(S.hs,P=>E.persistence.referenceDelegate.removeReference(A,S.targetId,P)))))}catch(A){if(!yo(A))throw A;ue(Cp,"Failed to update sequence numbers: "+A)}for(const A of y){const S=A.targetId;if(!A.fromCache){const P=E.Ss.get(S),D=P.snapshotVersion,Q=P.withLastLimboFreeSnapshotVersion(D);E.Ss=E.Ss.insert(S,Q)}}}(s.localStore,u))}async function VD(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){ue(Pp,"User change. New user:",e.toKey());const s=await fb(n.localStore,e);n.currentUser=e,function(u,f){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new le(W.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await hu(n,s.Ms)}}function PD(i,e){const n=Se(i),s=n._u.get(e);if(s&&s.tu)return ke().add(s.key);{let o=ke();const u=n.iu.get(e);if(!u)return o;for(const f of u){const m=n.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function Ob(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ND.bind(null,e),e.nu.Q_=vD.bind(null,e.eventManager),e.nu.Tu=ED.bind(null,e.eventManager),e}function LD(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MD.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return Bx(this.persistence,new Ux,e.initialUser,this.serializer)}Ru(e){return new hb(Rp.Ei,this.serializer)}Au(e){return new Yx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class UD extends Th{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){He(this.persistence.referenceDelegate instanceof vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ax(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new hb(s=>vh.Ei(s,n),this.serializer)}}class Fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>H0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=VD.bind(null,this.syncEngine),await gD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _D}()}createDatastore(e){const n=jh(e.databaseInfo.databaseId),s=function(u){return new Jx(u)}(e.databaseInfo);return function(u,f,m,p){return new rD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new sD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>H0(this.syncEngine,n,0),function(){return L0.C()?new L0:new $x}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const A=new SD(o,u,f,m,p,y);return E&&(A.hu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);ue(zs,"RemoteStore shutting down."),u.aa.add(5),await cu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="FirestoreClient";class jD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=ST.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(Qi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(Qi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=kp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function pm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(Qi,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await fb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function G0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await zD(i);ue(Qi,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>j0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>j0(e.remoteStore,o)),i._onlineComponents=e}async function zD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(Qi,"Using user provided OfflineComponentProvider");try{await pm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await pm(i,new Th)}}else ue(Qi,"Using default OfflineComponentProvider"),await pm(i,new UD(void 0));return i._offlineComponents}async function kb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(Qi,"Using user provided OnlineComponentProvider"),await G0(i,i._uninitializedComponentsProvider._online)):(ue(Qi,"Using default OnlineComponentProvider"),await G0(i,new Fm))),i._onlineComponents}function BD(i){return kb(i).then(e=>e.syncEngine)}async function Vb(i){const e=await kb(i),n=e.eventManager;return n.onListen=wD.bind(null,e.syncEngine),n.onUnlisten=CD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xD.bind(null,e.syncEngine),n}function qD(i,e,n={}){const s=new Kr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new Mb({next:S=>{E.yu(),f.enqueueAndForget(()=>Ab(u,A));const P=S.docs.has(m);!P&&S.fromCache?y.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&p&&p.source==="server"?y.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new Sb(vp(m.path),E,{includeMetadataChanges:!0,Fa:!0});return bb(u,A)}(await Vb(i),i.asyncQueue,e,n,s)),s.promise}function HD(i,e,n={}){const s=new Kr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new Mb({next:S=>{E.yu(),f.enqueueAndForget(()=>Ab(u,A)),S.fromCache&&p.source==="server"?y.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),A=new Sb(m,E,{includeMetadataChanges:!0,Fa:!0});return bb(u,A)}(await Vb(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(i,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function FD(i,e,n,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Q0(i){if(!de.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Y0(i){if(de.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function qh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function mr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(i);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="firestore.googleapis.com",$0=!0;class X0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ub,this.ssl=$0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:$0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Tx)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new WC;switch(s.type){case"firstParty":return new t2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=K0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),K0.delete(n),s.terminate())}(this),Promise.resolve()}}function GD(i,e,n,s={}){var o;const u=(i=mr(i,Hh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==Ub&&u.host!==m&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Ls(p,f)&&(i._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Yt.MOCK_USER;else{y=hR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Yt(A)}i._authCredentials=new ZC(new bT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ti(this.firestore,e,this._query)}}class tn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class Bi extends ti{constructor(e,n,s){super(e,n,vp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new de(e))}withConverter(e){return new Bi(this.firestore,e,this._path)}}function so(i,e,...n){if(i=It(i),Lb("collection","path",e),i instanceof Hh){const s=et.fromString(e,...n);return Y0(s),new Bi(i,null,s)}{if(!(i instanceof tn||i instanceof Bi))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return Y0(s),new Bi(i.firestore,null,s)}}function ao(i,e,...n){if(i=It(i),arguments.length===1&&(e=ST.newId()),Lb("doc","path",e),i instanceof Hh){const s=et.fromString(e,...n);return Q0(s),new tn(i,null,new de(s))}{if(!(i instanceof tn||i instanceof Bi))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return Q0(s),new tn(i.firestore,i instanceof Bi?i.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="AsyncQueue";class Z0{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new mb(this,"async_queue_retry"),this.ju=()=>{const s=mm();s&&ue(W0,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Kr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!yo(e))throw e;ue(W0,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Wr("INTERNAL UNHANDLED ERROR: ",J0(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=Mp.createAndSchedule(this,e,n,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Ee(47125,{ec:J0(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function J0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class vo extends Hh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Z0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z0(e),this._firestoreClient=void 0,await e}}}function Qs(i,e){const n=typeof i=="object"?i:ME(),s=typeof i=="string"?i:dh,o=np(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=uR("firestore");u&&GD(o,...u)}return o}function Up(i){if(i._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||KD(i),i._firestoreClient}function KD(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,y,E){return new g2(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Pb(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new jD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oo(Ht.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oo(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=/^__.*__$/;class YD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}class jb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{oc:i})}}class Bp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Bp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return bh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(zb(this.oc)&&QD.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class $D{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||jh(e)}dc(e,n,s,o=!1){return new Bp({oc:e,methodName:n,Ec:s,path:qt.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fu(i){const e=i._freezeSettings(),n=jh(i._databaseId);return new $D(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Bb(i,e,n,s,o,u={}){const f=i.dc(u.merge||u.mergeFields?2:0,e,n,o);Hp("Data must be an object, but it was:",f,s);const m=Hb(s,f);let p,y;if(u.merge)p=new yn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const S=Gm(e,A,n);if(!f.contains(S))throw new le(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Gb(E,S)||E.push(S)}p=new yn(E),y=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,y=f.fieldTransforms;return new YD(new on(m),p,y)}class Kh extends Gh{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}class qp extends Gh{_toFieldTransform(e){return new q2(e.path,new Zl)}isEqual(e){return e instanceof qp}}function XD(i,e,n,s){const o=i.dc(1,e,n);Hp("Data must be an object, but it was:",o,s);const u=[],f=on.empty();$i(s,(p,y)=>{const E=Fp(e,p,n);y=It(y);const A=o.hc(E);if(y instanceof Kh)u.push(E);else{const S=du(y,A);S!=null&&(u.push(E),f.set(E,S))}});const m=new yn(u);return new jb(f,m,o.fieldTransforms)}function WD(i,e,n,s,o,u){const f=i.dc(1,e,n),m=[Gm(e,s,n)],p=[o];if(u.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Gm(e,u[S])),p.push(u[S+1]);const y=[],E=on.empty();for(let S=m.length-1;S>=0;--S)if(!Gb(y,m[S])){const P=m[S];let D=p[S];D=It(D);const Q=f.hc(P);if(D instanceof Kh)y.push(P);else{const q=du(D,Q);q!=null&&(y.push(P),E.set(P,q))}}const A=new yn(y);return new jb(E,A,f.fieldTransforms)}function qb(i,e,n,s=!1){return du(n,i.dc(s?4:3,e))}function du(i,e){if(Fb(i=It(i)))return Hp("Unsupported field value:",e,i),Hb(i,e);if(i instanceof Gh)return function(s,o){if(!zb(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=du(m,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=It(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return j2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=wt.fromDate(s);return{timestampValue:_h(o.serializer,u)}}if(s instanceof wt){const u=new wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(s instanceof jp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oo)return{bytesValue:rb(o.serializer,s._byteString)};if(s instanceof tn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof zp)return function(f,m){return{mapValue:{fields:{[OT]:{stringValue:MT},[mh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Tc("VectorValues must only contain numeric values.");return Tp(m.serializer,y)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${qh(s)}`)}(i,e)}function Hb(i,e){const n={};return RT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$i(i,(s,o)=>{const u=du(o,e.uc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Fb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof wt||i instanceof jp||i instanceof oo||i instanceof tn||i instanceof Gh||i instanceof zp)}function Hp(i,e,n){if(!Fb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=qh(n);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function Gm(i,e,n){if((e=It(e))instanceof Fh)return e._internalPath;if(typeof e=="string")return Fp(i,e);throw bh("Field path arguments must be of type string or ",i,!1,void 0,n)}const ZD=new RegExp("[~\\*/\\[\\]]");function Fp(i,e,n){if(e.search(ZD)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Fh(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function bh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new le(W.INVALID_ARGUMENT,m+i+p)}function Gb(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JD extends Gp{data(){return super.data()}}function Kp(i,e){return typeof e=="string"?Fp(i,e):e instanceof Fh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qp{}class Qh extends Qp{}function eE(i,e,...n){let s=[];e instanceof Qp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof $p).length,m=u.filter(p=>p instanceof Yp).length;if(f>1||f>0&&m>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Yp extends Qh{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Yp(e,n,s)}_apply(e){const n=this._parse(e);return Kb(e._query,n),new ti(e.firestore,e.converter,Vm(e._query,n))}_parse(e){const n=fu(e.firestore);return function(u,f,m,p,y,E,A){let S;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){iE(A,E);const D=[];for(const Q of A)D.push(rE(p,u,Q));S={arrayValue:{values:D}}}else S=rE(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||iE(A,E),S=qb(m,f,A,E==="in"||E==="not-in");return vt.create(y,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class $p extends Qp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $p(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Kb(f,p),f=Vm(f,p)}(e._query,n),new ti(e.firestore,e.converter,Vm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xp extends Qh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Xp(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(u,f)}(e._query,this._field,this._direction);return new ti(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Fs(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function tE(i,e="asc"){const n=e,s=Kp("orderBy",i);return Xp._create(s,n)}class Wp extends Qh{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Wp(e,n,s)}_apply(e){return new ti(e.firestore,e.converter,gh(e._query,this._limit,this._limitType))}}function nE(i){return Wp._create("limit",i,"F")}class Zp extends Qh{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Zp(e,n,s)}_apply(e){const n=nN(e,this.type,this._docOrFields,this._inclusive);return new ti(e.firestore,e.converter,function(o,u){return new Fs(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(e._query,n))}}function tN(...i){return Zp._create("startAfter",i,!1)}function nN(i,e,n,s){if(n[0]=It(n[0]),n[0]instanceof Gp)return function(u,f,m,p,y){if(!p)throw new le(W.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const E=[];for(const A of Ya(u))if(A.field.isKeyField())E.push(ph(f,p.key));else{const S=p.data.field(A.field);if(Oh(S))throw new le(W.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(S===null){const P=A.field.canonicalString();throw new le(W.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}E.push(S)}return new no(E,y)}(i._query,i.firestore._databaseId,e,n[0]._document,s);{const o=fu(i.firestore);return function(f,m,p,y,E,A){const S=f.explicitOrderBy;if(E.length>S.length)throw new le(W.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let D=0;D<E.length;D++){const Q=E[D];if(S[D].field.isKeyField()){if(typeof Q!="string")throw new le(W.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof Q}`);if(!Ep(f)&&Q.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${Q}' contains a slash.`);const q=f.path.child(et.fromString(Q));if(!de.isDocumentKey(q))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${q}' is not because it contains an odd number of segments.`);const Y=new de(q);P.push(ph(m,Y))}else{const q=qb(p,y,Q);P.push(q)}}return new no(P,A)}(i._query,i.firestore._databaseId,o,e,n,s)}}function rE(i,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ep(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!de.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ph(i,new de(s))}if(n instanceof tn)return ph(i,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function iE(i,e){if(!Array.isArray(i)||i.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Kb(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rN{convertValue(e,n="none"){switch(Gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return $i(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[mh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>dt(f.doubleValue));return new zp(u)}convertGeoPoint(e){return new jp(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Mh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=Hi(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);He(ub(s),9688,{name:e});const o=new $l(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||Wr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yb extends Gp{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Kp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class nh extends Yb{data(e={}){return super.data(e)}}class iN{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ll(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new nh(this._firestore,this._userDataWriter,s.key,s,new Ll(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ll(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ll(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:sN(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(i){i=mr(i,tn);const e=mr(i.firestore,vo);return qD(Up(e),i._key).then(n=>oN(e,i,n))}class $b extends rN{constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function Yh(i){i=mr(i,ti);const e=mr(i.firestore,vo),n=Up(e),s=new $b(e);return eN(i._query),HD(n,i._query).then(o=>new iN(e,s,i,o))}function sE(i,e,n){i=mr(i,tn);const s=mr(i.firestore,vo),o=Qb(i.converter,e);return Jp(s,[Bb(fu(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Bn.none())])}function Xb(i,e,n,...s){i=mr(i,tn);const o=mr(i.firestore,vo),u=fu(o);let f;return f=typeof(e=It(e))=="string"||e instanceof Fh?WD(u,"updateDoc",i._key,e,n,s):XD(u,"updateDoc",i._key,e),Jp(o,[f.toMutation(i._key,Bn.exists(!0))])}function aN(i,e){const n=mr(i.firestore,vo),s=ao(i),o=Qb(i.converter,e);return Jp(n,[Bb(fu(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then(()=>s)}function Jp(i,e){return function(s,o){const u=new Kr;return s.asyncQueue.enqueueAndForget(async()=>DD(await BD(s),o,u)),u.promise}(Up(i),e)}function oN(i,e,n){const s=n.docs.get(e._key),o=new $b(i);return new Yb(i,o,e._key,s,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}function lN(){return new qp("serverTimestamp")}(function(e,n=!0){(function(o){po=o})(co),Xa(new Us("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new vo(new JC(s.getProvider("auth-internal")),new n2(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ui(i0,s0,e),Ui(i0,s0,"esm2017")})();const gm=mo(Hn),aE=Qs(Hn),uN=()=>{const[i,e]=G.useState(null),n=async u=>{u.preventDefault();const f=new FormData(u.currentTarget),m=f.get("email"),p=f.get("password");try{await LI(gm,m,p),console.log("Usuario logueado con éxito")}catch(y){e("Error al iniciar sesión. Verifica tus credenciales."),console.error("Error al iniciar sesión:",y)}},s=async()=>{const u=new qr;try{const m=(await $v(gm,u)).user,p=ao(aE,"users",m.uid);(await Km(p)).exists()||await sE(p,{id:m.uid,email:m.email,role:null}),console.log("login con google")}catch(f){console.error(f)}},o=async()=>{const u=new jl("microsoft.com");try{const m=(await $v(gm,u)).user,p=ao(aE,"users",m.uid);(await Km(p)).exists()||await sE(p,{id:m.uid,email:m.email,role:null}),console.log("login con microsoft")}catch(f){console.error(f)}};return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[C.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[C.jsx("img",{alt:"Your Company",src:eR,className:"mx-auto h-10% w-auto"}),C.jsx("h2",{className:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-gray-900",children:"Registro de herramientas"})]}),C.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[C.jsxs("form",{onSubmit:n,method:"POST",className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"email",className:"block text-sm/6 font-medium text-gray-900",children:"Email address"}),C.jsx("div",{className:"mt-2",children:C.jsx("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"email",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("label",{htmlFor:"password",className:"block text-sm/6 font-medium text-gray-900",children:"Password"}),C.jsx("div",{className:"text-sm",children:C.jsx("a",{href:"#",className:"font-semibold text-indigo-600 hover:text-indigo-500",children:"Forgot password?"})})]}),C.jsxs("div",{className:"mt-2",children:[C.jsx("input",{id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"}),i&&C.jsx("p",{className:"mt-2 text-sm text-red-600",children:i})]})]}),C.jsx("div",{children:C.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-neutral-950 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Iniciar sesión"})})]}),C.jsxs("div",{className:"flex mt-4 items-center justify-center flex-wrap",children:[C.jsxs("button",{onClick:s,className:"m-3 flex flex-col items-center justify-center cursor-pointer p-2 rounded-2xl hover:bg-amber-100",children:[C.jsxs("svg",{width:"3vh",height:"auto",viewBox:"0 0 256 262",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",children:[C.jsx("path",{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027",fill:"#4285F4"}),C.jsx("path",{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1",fill:"#34A853"}),C.jsx("path",{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782",fill:"#FBBC05"}),C.jsx("path",{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251",fill:"#EB4335"})]}),"Iniciar con Google"]}),C.jsxs("button",{onClick:o,className:"m-3 flex flex-col items-center justify-center cursor-pointer  p-2 rounded-2xl hover:bg-red-100",children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"3vh",height:"auto",viewBox:"0 0 48 48",children:[C.jsx("path",{fill:"#ff5722",d:"M6 6H22V22H6z",transform:"rotate(-180 14 14)"}),C.jsx("path",{fill:"#4caf50",d:"M26 6H42V22H26z",transform:"rotate(-180 34 14)"}),C.jsx("path",{fill:"#ffc107",d:"M26 26H42V42H26z",transform:"rotate(-180 34 34)"}),C.jsx("path",{fill:"#03a9f4",d:"M6 26H22V42H6z",transform:"rotate(-180 14 34)"})]}),"Iniciar con Microsoft"]})]})]})]})})},cN=Qs(Hn),hN=()=>{const[i,e]=G.useState([]),[n,s]=G.useState(!0),[o,u]=G.useState(null);if(G.useEffect(()=>{const m=rT(mo(),p=>{u(p)});return()=>m()},[]),G.useEffect(()=>{(async()=>{try{const y=(await Yh(so(cN,"users"))).docs.map(E=>({id:E.id,email:E.data().email??"",role:E.data().role??""}));e(y)}catch(p){console.error("Error fetching data:",p)}finally{s(!1)}})()},[]),n||!o)return C.jsx("div",{children:"Cargando datos..."});const f=i.find(m=>m.email===o.email);return C.jsxs("div",{className:"m-4",children:[C.jsxs("div",{className:"flex flex-col items-center justify-center",children:[C.jsx("h1",{className:"mb-4 text-4xl font-extrabold leading-none tracking-tight text-blue-960 md:text-5xl lg:text-6xl",children:"¡Bienvenido!"}),C.jsxs("p",{className:"mb-6 text-lg font-normal text-gray-500 lg:text-xl sm:px-16 xl:px-48 dark:text-gray-400",children:["Bienvenido al sistema de registro y control de herramientas de la empresa. Aquí podrás gestionar la salida, devolución y autorización de herramientas y equipos, asegurando un seguimiento eficiente y seguro de los recursos.",C.jsx("br",{}),"Utiliza las opciones del menú para registrar movimientos, consultar historial y administrar permisos según tu rol."]})]}),C.jsx("div",{children:f&&(!f.role||f.role===""||f.role===null)&&C.jsxs("div",{className:"text-center text-red-600 font-semibold mt-6",children:["Tu cuenta aún no tiene un rol asignado.",C.jsx("br",{}),"Por favor, espera a que el administrador te asigne un rol para acceder a las demás opciones."]})})]})},fN=mo(Hn),$h=({Userloged:i})=>{const[e,n]=G.useState(!1),s=G.useRef(null);G.useEffect(()=>{const f=m=>{s.current&&!s.current.contains(m.target)&&n(!1)};return e?document.addEventListener("mousedown",f):document.removeEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[e]);const o=$m(),u=()=>{zI(fN).then(()=>{console.log("Usuario deslogueado"),o("/")}).catch(f=>{console.error("Error al cerrar sesión:",f)})};return C.jsx(C.Fragment,{children:C.jsx("nav",{className:"border-gray-200 dark:bg-gray-900 p-5 navbar-bg",children:C.jsxs("div",{className:"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4",children:[C.jsx(or,{to:"/",className:"flex items-center space-x-3 rtl:space-x-reverse",children:C.jsx("span",{className:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white",children:"El Caballo S.A"})}),C.jsxs("div",{className:"flex items-center md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse relative",children:[C.jsx("button",{type:"button",className:"flex text-sm  rounded-full md:me-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600",id:"user-menu-button","aria-expanded":e,onClick:()=>n(f=>!f),children:C.jsxs("div",{className:"flex flex-col items-center",children:[C.jsx("div",{className:" relative w-10 h-10 overflow-hidden bg-gray-100 rounded-full dark:bg-gray-600",children:C.jsx("svg",{className:"absolute w-12 h-12 text-gray-400 -left-1",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})})}),C.jsx("small",{className:"text-white mt-2",children:"Abrir menu"})]})}),C.jsxs("div",{ref:s,className:`absolute right-0 mt-70 w-56 z-50 ${e?"":"hidden"} text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow-sm dark:bg-gray-700 dark:divide-gray-600`,id:"user-dropdown",children:[C.jsxs("div",{className:"px-4 py-3 bg-gray-100",children:[C.jsx("strong",{className:"block text-sm dark:text-blue-970 || text-black",children:"Usuario"}),C.jsx("span",{className:"block text-sm  text-gray-500 truncate dark:text-gray-600",children:i})]}),C.jsxs("ul",{className:"py-2 p-2","aria-labelledby":"user-menu-button",children:[C.jsx("li",{children:C.jsx(or,{to:"/",className:"block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"Inicio"})}),C.jsx("li",{children:C.jsx(or,{to:"/formtool",className:"block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"Formulario"})}),C.jsx("li",{children:C.jsx(or,{to:"/register",className:"block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"Registro"})}),C.jsx("li",{children:C.jsx(or,{to:"/admin",className:"block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"Administrador"})})]}),C.jsx("button",{onClick:u,className:"bg-gray-600 text-white text-center block w-full font-semibold px-4 py-2 text-sm hover:bg-gray-500 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white",children:"Cerrar sesión"})]})]}),C.jsx("div",{className:"items-center justify-between hidden w-full md:flex md:w-auto md:order-1",id:"navbar-user",children:C.jsxs("ul",{className:" menu flex flex-col font-medium p-4 md:p-0 mt-24 border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700",children:[C.jsx("li",{children:C.jsx(or,{to:"/formtool",className:"items block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"Formulario"})}),C.jsx("li",{children:C.jsx(or,{to:"/register",className:"items block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"Registro"})}),C.jsx("li",{children:C.jsx(or,{to:"/admin",className:"items block py-2 px-3 text-gray-900 rounded-sm hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"Autorizar"})})]})})]})})})},dN=({emailUser:i})=>C.jsxs(C.Fragment,{children:[C.jsx($h,{Userloged:i}),C.jsx(hN,{})]}),mN=mo(Hn);function pN(){const[i,e]=G.useState(null);return G.useEffect(()=>{const n=rT(mN,s=>{s?(e(s),console.log(" Usuario logueado")):(e(null),console.log("No hay usuario logueado"))});return()=>n()},[]),C.jsx(C.Fragment,{children:C.jsx("div",{className:"min-h-screen flex flex-col",children:C.jsx("main",{className:"flex-grow",children:i?C.jsx(dN,{emailUser:i.email}):C.jsx(uN,{})})})})}const gN=Qs(Hn),yN=()=>{const[i,e]=G.useState(null),[n,s]=G.useState({date:"",responsible:"",typeTool:"",tool:"",reason:"",destination:"",returnDate:"",status:"",photo:[],subPiece:""}),o=m=>{const{id:p,value:y}=m.target;s(E=>({...E,[p]:y}))},u=m=>{m.target.files&&m.target.files.length>4?(e("Solo puedes subir hasta 4 fotos."),m.target.value=""):(e(null),s({...n,photo:m.target.files?Array.from(m.target.files):[]}))},f=async m=>{m.preventDefault();try{await aN(so(gN,"tools"),{date:n.date,responsible:n.responsible.toUpperCase(),typeTool:n.typeTool.toUpperCase(),tool:n.tool.toUpperCase(),reason:n.reason.toUpperCase(),destination:n.destination,returnDate:n.returnDate,status:"fuera",subPiece:n.subPiece}),alert("¡Registro exitoso!"),s({date:"",responsible:"",typeTool:"",tool:"",reason:"",destination:"",returnDate:"",status:"",photo:[],subPiece:""})}catch(p){alert("Error al guardar: "+p.message)}};return C.jsx(C.Fragment,{children:C.jsxs("form",{className:"max-w-sm mx-auto",onSubmit:f,children:[C.jsxs("div",{className:"mb-5",children:[C.jsx("label",{htmlFor:"date",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Fecha"}),C.jsx("input",{type:"date",value:n.date,onChange:o,id:"date",className:"shadow-xs bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-xs-light",required:!0})]}),C.jsxs("div",{className:"mb-5",children:[C.jsx("label",{htmlFor:"responsible",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Responsable de la salida"}),C.jsxs("select",{id:"responsible",value:n.responsible,onChange:o,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[C.jsx("option",{value:"",children:"Selecciona tu nombre"}),C.jsx("option",{value:"Cristian",children:"Cristian"}),C.jsx("option",{value:"Jorge",children:"Jorge"}),C.jsx("option",{value:"France",children:"France"}),C.jsx("option",{value:"Germany",children:"Germany"})]}),C.jsx("label",{htmlFor:"responsible",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Tipo de herramienta"}),C.jsxs("select",{id:"typeTool",value:n.typeTool,onChange:o,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[C.jsx("option",{value:"Herramienta",children:"Herramienta"}),C.jsx("option",{value:"Pieza",children:"Pieza de maquina"}),C.jsx("option",{value:"Maquina",children:"Maquina"}),C.jsx("option",{value:"Equipo de tecnologia",children:"Equipo de tecnología"})]}),n.typeTool==="Pieza"&&C.jsxs(C.Fragment,{children:[C.jsx("label",{htmlFor:"subPiece",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Selecciona la seccion de la pieza"}),C.jsxs("select",{id:"subPiece",value:n.subPiece,onChange:o,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0,children:[C.jsx("option",{value:"",children:"Selecciona la seccion"}),C.jsx("option",{value:"Empaque",children:"Empaque"}),C.jsx("option",{value:"puas",children:"puas"}),C.jsx("option",{value:"picado",children:"picado"}),C.jsx("option",{value:"gal1",children:"gal1"}),C.jsx("option",{value:"gal2",children:"gal2"}),C.jsx("option",{value:"gal3",children:"gal3"}),C.jsx("option",{value:"horno",children:"horno"}),C.jsx("option",{value:"bascula",children:"bascula"})]})]}),C.jsx("label",{htmlFor:"tool",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Herramienta"}),C.jsx("input",{type:"text",id:"tool",value:n.tool,onChange:o,placeholder:"Escribe nombre del objeto",className:"shadow-xs bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-xs-light",required:!0}),C.jsx("label",{htmlFor:"reason",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Motivo de la salida"}),C.jsxs("select",{id:"reason",value:n.reason,onChange:o,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0,children:[C.jsx("option",{value:"",children:"Selecciona el motivo"}),C.jsx("option",{value:"Calibración de instrumentos de medición",children:"Calibración de instrumentos de medición."}),C.jsx("option",{value:"Cambio de empaquetadura botellas hidraulicas.",children:"Cambio de empaquetadura botellas hidraulicas."}),C.jsx("option",{value:"Capacitación en manejo de herramientas",children:"Capacitación en manejo de herramientas."}),C.jsx("option",{value:"Cocida de mangas con anillos.",children:"Cocida de mangas con anillos."})]}),C.jsx("label",{htmlFor:"destination",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Destino de la herramienta"}),C.jsx("input",{type:"text",id:"destination",value:n.destination,onChange:o,placeholder:"Escribe destino de la herramienta",className:"shadow-xs bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-xs-light",required:!0}),C.jsx("label",{htmlFor:"returnDate",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Fecha estimada de regreso"}),C.jsx("input",{type:"date",id:"returnDate",value:n.returnDate,onChange:o,className:"shadow-xs bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-xs-light",required:!0}),C.jsx("label",{htmlFor:"photo",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Sube hasta 4 fotos del objeto"}),C.jsx("input",{type:"file",id:"photo",multiple:!0,accept:"image/*",onChange:u,className:"shadow-xs bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-xs-light",required:!0}),i&&C.jsx("p",{className:"text-red-600 text-sm mt-2",children:i})]}),C.jsx("button",{type:"submit",className:"text-white bg-blue-950 hover:bg-blue-900 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-700 dark:hover:bg-blue-800 dark:focus:ring-blue-900",children:"Register salida"})]})})},_N=()=>C.jsxs(C.Fragment,{children:[C.jsx($h,{}),C.jsxs("div",{className:"border-solid ",children:[C.jsx("h1",{className:"text-2xl font-bold text-center mb-4",children:"Registro de Herramientas"}),C.jsx("p",{className:"text-center mb-4",children:"Por favor, completa el siguiente formulario para registrar la herramienta."})]}),C.jsx("div",{className:"mb-14",children:C.jsx(yN,{})})]}),vN=()=>{const i=$m();return C.jsx("div",{children:C.jsx("button",{type:"button",onClick:()=>i(-1),className:"ml-2 text-blue-700 border border-blue-700 hover:bg-blue-700 hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mt-2",children:"Ir atrás"})})},EN=Qs(Hn);function TN(){const[i,e]=G.useState(null),[n,s]=G.useState(!0);return G.useEffect(()=>{(async()=>{const f=mo().currentUser;if(f){const m=await Km(ao(EN,"users",f.uid));m.exists()?e(m.data().role||null):e(null)}else e(null);s(!1)})()},[]),{role:i,loading:n}}const ym=({allowedRoles:i,children:e})=>{const{role:n,loading:s}=TN();return s?C.jsx("div",{children:"Cargando..."}):n?i.includes(n)?C.jsx(C.Fragment,{children:e}):C.jsxs("div",{className:"max-w-lg mx-auto mt-10 text-center text-red-600",children:["No tienes permiso para acceder a esta opción.",C.jsx("br",{}),"Solicita autorización al administrador.",C.jsx("hr",{}),C.jsx(vN,{})]}):C.jsxs("div",{className:"max-w-lg mx-auto mt-10 text-center text-red-600",children:["No tienes permiso para acceder a esta opción.",C.jsx("br",{}),"Solicita autorización al administrador."]})},bN=({value:i,onChange:e,placeholder:n="Buscar..."})=>C.jsx("div",{className:"text-center mt-5",children:C.jsx("input",{type:"text",value:i,onChange:e,placeholder:n,className:"border rounded px-2 py-1 w-full max-w-xs text-base sm:text-lg"})}),_m=Qs(Hn),AN=mo(Hn),SN=()=>{const[i,e]=G.useState([]),[n,s]=G.useState(!0),[o,u]=G.useState(""),[f,m]=G.useState(null),[p,y]=G.useState(!0),E=3,A=async(D=!1)=>{s(!0);let Q;D&&f?Q=eE(so(_m,"tools"),tE("date","desc"),tN(f),nE(E)):Q=eE(so(_m,"tools"),tE("date","desc"),nE(E));const q=await Yh(Q),Y=q.docs.map(ie=>({id:ie.id,...ie.data()}));e(D?ie=>[...ie,...Y]:Y),m(q.docs[q.docs.length-1]),y(q.docs.length===E),s(!1)};if(G.useEffect(()=>{A()},[]),n)return C.jsx("div",{className:"text-center text-xl py-10",children:"Por favor espere, se estan cargando registros..."});const S=i.filter(D=>D.tool.toLowerCase().includes(o.toLocaleLowerCase())),P=async D=>{const Q=AN.currentUser;await Xb(ao(_m,"tools",D),{status:"ok",receivedBy:Q?Q.email:"desconocido",receivedAt:lN()}),e(q=>q.map(Y=>Y.id===D?{...Y,status:"ok",receivedBy:Q&&Q.email?Q.email:"desconocido"}:Y))};return C.jsx(C.Fragment,{children:C.jsxs("div",{children:[C.jsx("div",{children:C.jsx(bN,{value:o,onChange:D=>u(D.target.value),placeholder:"Buscar herramienta..."})}),C.jsx("div",{className:"flex flex-row flex-wrap gap-4 justify-center",children:S.map(D=>C.jsxs("div",{className:"max-w-sm my-5  border border-gray-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700",children:[D.receivedAt&&C.jsxs("div",{className:"primary-color",children:["Recibido el:"," ",D.receivedAt.toDate?D.receivedAt.toDate().toLocaleString():new Date(D.receivedAt.seconds*1e3).toLocaleString()]}),C.jsxs("div",{className:"p-5",children:[C.jsx("a",{href:"#",children:C.jsx("h5",{className:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:D.tool})}),C.jsxs("p",{className:"mb-3 font-normal text-gray-700 dark:text-gray-400",children:[C.jsx("strong",{children:D.responsible})," indica que solicita la salida de ",C.jsx("strong",{children:D.tool})," por motivo de ",C.jsx("strong",{children:D.reason})," y que sera devuelto el ",C.jsx("strong",{children:D.returnDate})]})]}),C.jsxs("div",{className:"flex justify-evenly px-5 mb-3",children:[C.jsx("div",{children:C.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${D.status==="ok"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:D.status==="ok"?"OK":"FUERA"})}),C.jsx("div",{children:C.jsx("button",{className:"ml-2 px-2 py-1 bg-green-600 text-white rounded text-xs",disabled:D.status==="ok",onClick:()=>P(D.id),children:D.status=="ok"?`Recibido por ${D.receivedBy}`:"recibir"})})]}),C.jsx("div",{className:"bg-blue-950 text-white px-2 flex justify-end",children:C.jsx("small",{children:D.date})})]},D.id))}),p&&C.jsx("div",{className:"flex justify-center my-4",children:C.jsx("button",{onClick:()=>A(!0),className:"px-4 py-2 bg-blue-700 text-white rounded hover:bg-blue-800",disabled:n,children:n?"Cargando...":"Cargar más"})})]})})},wN=Qs(Hn),RN=()=>{const[i,e]=G.useState([]);return G.useEffect(()=>{(async()=>{const o=(await Yh(so(wN,"tools"))).docs.map(u=>({id:u.id,...u.data()}));e(o)})(),console.log("Estos son los datos"+i)},[]),C.jsxs("div",{children:[C.jsx($h,{}),C.jsx(SN,{})]})},oE=Qs(Hn),IN=["admin","quien_recibe","autorizador"],CN=()=>{const[i,e]=G.useState([]),[n,s]=G.useState(""),[o,u]=G.useState(!0);G.useEffect(()=>{(async()=>{u(!0);const y=(await Yh(so(oE,"users"))).docs.map(E=>({id:E.id,...E.data()}));e(y),u(!1)})()},[]);const f=async(m,p)=>{await Xb(ao(oE,"users",m),{role:p}),e(y=>y.map(E=>E.id===m?{...E,role:p}:E)),s("Rol actualizado correctamente."),setTimeout(()=>s(""),2e3)};return C.jsxs(C.Fragment,{children:[C.jsx($h,{}),C.jsxs("div",{className:"w-full flex items-center flex-col p-3 bg-gray-300 rounded shadow",children:[C.jsx("h2",{className:"text-xl font-bold mb-4",children:"Usuarios registrados y asignación de roles"}),o?C.jsx("div",{children:"Cargando usuarios..."}):C.jsxs("table",{className:"w-auto text-center border bg-gray-200",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{className:"border px-2 py-1",children:"Email"}),C.jsx("th",{className:"border px-2 py-1",children:"Rol actual"}),C.jsx("th",{className:"border px-2 py-1",children:"Asignar rol"})]})}),C.jsx("tbody",{children:i.map(m=>C.jsxs("tr",{children:[C.jsx("td",{className:"border py-2 ",children:m.email}),C.jsx("td",{className:"border py-2 ",children:m.role||"Sin rol"}),C.jsx("td",{className:"border py-2 ",children:C.jsxs("select",{value:m.role||"",onChange:p=>f(m.id,p.target.value),className:"border px-2 py-1 rounded",children:[C.jsx("option",{value:"",children:"Selecciona un rol"}),IN.map(p=>C.jsx("option",{value:p,children:p},p))]})})]},m.id))})]}),n&&C.jsx("div",{className:"text-green-700 mt-2",children:n})]})]})},xN=()=>C.jsxs(Ew,{children:[C.jsxs(C.Fragment,{children:[C.jsx(za,{path:"/",element:C.jsx(pN,{})}),C.jsx(za,{path:"/formtool",element:C.jsx(ym,{allowedRoles:["admin","autorizador","quien_recibe"],children:C.jsx(_N,{})})}),C.jsx(za,{path:"/register",element:C.jsx(ym,{allowedRoles:["admin","porteria","quien_recibe"],children:C.jsx(G.Suspense,{fallback:C.jsx("div",{children:'"Cargando..."'}),children:C.jsx(RN,{})})})}),C.jsx(za,{path:"/admin",element:C.jsx(ym,{allowedRoles:["admin"],children:C.jsx(G.Suspense,{fallback:C.jsx("div",{children:'"Cargando..."'}),children:C.jsx(CN,{})})})})]}),C.jsx(za,{path:"*",element:C.jsx("h1",{children:"404 Not Found"})})]});DS.createRoot(document.getElementById("root")).render(C.jsx(G.StrictMode,{children:C.jsx(Fw,{children:C.jsx(xN,{})})}));
